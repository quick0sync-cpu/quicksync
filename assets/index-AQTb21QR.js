var Yp=t=>{throw TypeError(t)};var Jc=(t,e,n)=>e.has(t)||Yp("Cannot "+n);var E=(t,e,n)=>(Jc(t,e,"read from private field"),n?n.call(t):e.get(t)),V=(t,e,n)=>e.has(t)?Yp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(Jc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),te=(t,e,n)=>(Jc(t,e,"access private method"),n);var _l=(t,e,n,r)=>({set _(i){j(t,e,i,n)},get _(){return E(t,e,r)}});function qC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ry={exports:{}},ac={},iy={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),XC=Symbol.for("react.portal"),ZC=Symbol.for("react.fragment"),JC=Symbol.for("react.strict_mode"),eE=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),rE=Symbol.for("react.forward_ref"),iE=Symbol.for("react.suspense"),sE=Symbol.for("react.memo"),oE=Symbol.for("react.lazy"),qp=Symbol.iterator;function lE(t){return t===null||typeof t!="object"?null:(t=qp&&t[qp]||t["@@iterator"],typeof t=="function"?t:null)}var sy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oy=Object.assign,ly={};function Cs(t,e,n){this.props=t,this.context=e,this.refs=ly,this.updater=n||sy}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ay(){}ay.prototype=Cs.prototype;function Bf(t,e,n){this.props=t,this.context=e,this.refs=ly,this.updater=n||sy}var Uf=Bf.prototype=new ay;Uf.constructor=Bf;oy(Uf,Cs.prototype);Uf.isPureReactComponent=!0;var Xp=Array.isArray,cy=Object.prototype.hasOwnProperty,Wf={current:null},uy={key:!0,ref:!0,__self:!0,__source:!0};function dy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cy.call(e,r)&&!uy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rl,type:t,key:s,ref:o,props:i,_owner:Wf.current}}function aE(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function cE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zp=/\/+/g;function eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cE(""+t.key):e.toString(36)}function Gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case XC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+eu(o,0):r,Xp(i)?(n="",t!=null&&(n=t.replace(Zp,"$&/")+"/"),Gl(i,e,n,"",function(c){return c})):i!=null&&(Hf(i)&&(i=aE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Xp(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+eu(s,l);o+=Gl(s,e,n,a,i)}else if(a=lE(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+eu(s,l++),o+=Gl(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wl(t,e,n){if(t==null)return t;var r=[],i=0;return Gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Yl={transition:null},dE={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Wf};function fy(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:wl,forEach:function(t,e,n){wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wl(t,function(){e++}),e},toArray:function(t){return wl(t,function(e){return e})||[]},only:function(t){if(!Hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Cs;ee.Fragment=ZC;ee.Profiler=eE;ee.PureComponent=Bf;ee.StrictMode=JC;ee.Suspense=iE;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE;ee.act=fy;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)cy.call(e,a)&&!uy.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:rl,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:nE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tE,_context:t},t.Consumer=t};ee.createElement=dy;ee.createFactory=function(t){var e=dy.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:rE,render:t}};ee.isValidElement=Hf;ee.lazy=function(t){return{$$typeof:oE,_payload:{_status:-1,_result:t},_init:uE}};ee.memo=function(t,e){return{$$typeof:sE,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Yl.transition;Yl.transition={};try{t()}finally{Yl.transition=e}};ee.unstable_act=fy;ee.useCallback=function(t,e){return rt.current.useCallback(t,e)};ee.useContext=function(t){return rt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return rt.current.useEffect(t,e)};ee.useId=function(){return rt.current.useId()};ee.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return rt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};ee.useRef=function(t){return rt.current.useRef(t)};ee.useState=function(t){return rt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return rt.current.useTransition()};ee.version="18.3.1";iy.exports=ee;var h=iy.exports;const Vn=ny(h),hy=qC({__proto__:null,default:Vn},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE=h,hE=Symbol.for("react.element"),pE=Symbol.for("react.fragment"),mE=Object.prototype.hasOwnProperty,gE=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vE={key:!0,ref:!0,__self:!0,__source:!0};function py(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mE.call(e,r)&&!vE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hE,type:t,key:s,ref:o,props:i,_owner:gE.current}}ac.Fragment=pE;ac.jsx=py;ac.jsxs=py;ry.exports=ac;var g=ry.exports,my={exports:{}},Ct={},gy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var z=N.length;N.push(L);e:for(;0<z;){var K=z-1>>>1,ce=N[K];if(0<i(ce,L))N[K]=L,N[z]=ce,z=K;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],z=N.pop();if(z!==L){N[0]=z;e:for(var K=0,ce=N.length,pt=ce>>>1;K<pt;){var st=2*(K+1)-1,Dr=N[st],Mt=st+1,U=N[Mt];if(0>i(Dr,z))Mt<ce&&0>i(U,Dr)?(N[K]=U,N[Mt]=z,K=Mt):(N[K]=Dr,N[st]=z,K=st);else if(Mt<ce&&0>i(U,z))N[K]=U,N[Mt]=z,K=Mt;else break e}}return L}function i(N,L){var z=N.sortIndex-L.sortIndex;return z!==0?z:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,u=null,f=3,p=!1,w=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=N)r(c),L.sortIndex=L.expirationTime,e(a,L);else break;L=n(c)}}function C(N){if(m=!1,_(N),!w)if(n(a)!==null)w=!0,$(S);else{var L=n(c);L!==null&&B(C,L.startTime-N)}}function S(N,L){w=!1,m&&(m=!1,y(k),k=-1),p=!0;var z=f;try{for(_(L),u=n(a);u!==null&&(!(u.expirationTime>L)||N&&!O());){var K=u.callback;if(typeof K=="function"){u.callback=null,f=u.priorityLevel;var ce=K(u.expirationTime<=L);L=t.unstable_now(),typeof ce=="function"?u.callback=ce:u===n(a)&&r(a),_(L)}else r(a);u=n(a)}if(u!==null)var pt=!0;else{var st=n(c);st!==null&&B(C,st.startTime-L),pt=!1}return pt}finally{u=null,f=z,p=!1}}var b=!1,T=null,k=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function M(){if(T!==null){var N=t.unstable_now();R=N;var L=!0;try{L=T(!0,N)}finally{L?Q():(b=!1,T=null)}}else b=!1}var Q;if(typeof v=="function")Q=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Y=D.port2;D.port1.onmessage=M,Q=function(){Y.postMessage(null)}}else Q=function(){x(M,0)};function $(N){T=N,b||(b=!0,Q())}function B(N,L){k=x(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,$(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return N()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=f;f=N;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(N,L,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=z+ce,N={id:d++,callback:L,priorityLevel:N,startTime:z,expirationTime:ce,sortIndex:-1},z>K?(N.sortIndex=z,e(c,N),n(a)===null&&N===n(c)&&(m?(y(k),k=-1):m=!0,B(C,z-K))):(N.sortIndex=ce,e(a,N),w||p||(w=!0,$(S))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var L=f;return function(){var z=f;f=L;try{return N.apply(this,arguments)}finally{f=z}}}})(vy);gy.exports=vy;var yE=gy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=h,xt=yE;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yy=new Set,wo={};function ci(t,e){os(t,e),os(t+"Capture",e)}function os(t,e){for(wo[t]=e,t=0;t<e.length;t++)yy.add(e[t])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=Object.prototype.hasOwnProperty,wE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},em={};function xE(t){return td.call(em,t)?!0:td.call(Jp,t)?!1:wE.test(t)?em[t]=!0:(Jp[t]=!0,!1)}function CE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EE(t,e,n,r){if(e===null||typeof e>"u"||CE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function Qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vf,Qf);We[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vf,Qf);We[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vf,Qf);We[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kf(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EE(e,n,i,r)&&(n=null),r||i===null?xE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mn=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xl=Symbol.for("react.element"),wi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),_y=Symbol.for("react.provider"),wy=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),rd=Symbol.for("react.suspense"),id=Symbol.for("react.suspense_list"),qf=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),xy=Symbol.for("react.offscreen"),tm=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=tm&&t[tm]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,tu;function Xs(t){if(tu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tu=e&&e[1]||""}return`
`+tu+t}var nu=!1;function ru(t,e){if(!t||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xs(t):""}function SE(t){switch(t.tag){case 5:return Xs(t.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return t=ru(t.type,!1),t;case 11:return t=ru(t.type.render,!1),t;case 1:return t=ru(t.type,!0),t;default:return""}}function sd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case wi:return"Portal";case nd:return"Profiler";case Gf:return"StrictMode";case rd:return"Suspense";case id:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wy:return(t.displayName||"Context")+".Consumer";case _y:return(t._context.displayName||"Context")+".Provider";case Yf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qf:return e=t.displayName||null,e!==null?e:sd(t.type)||"Memo";case Gn:e=t._payload,t=t._init;try{return sd(t(e))}catch{}}return null}function bE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sd(e);case 8:return e===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TE(t){var e=Cy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cl(t){t._valueTracker||(t._valueTracker=TE(t))}function Ey(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function od(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sy(t,e){e=e.checked,e!=null&&Kf(t,"checked",e,!1)}function ld(t,e){Sy(t,e);var n=xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ad(t,e.type,n):e.hasOwnProperty("defaultValue")&&ad(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ad(t,e,n){(e!=="number"||ha(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zs=Array.isArray;function Di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function im(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Zs(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xr(n)}}function by(t,e){var n=xr(e.value),r=xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ty(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ty(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var El,ky=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=El.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kE=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(t){kE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ro[e]=ro[t]})});function Ny(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ro.hasOwnProperty(t)&&ro[t]?(""+e).trim():e+"px"}function Ry(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ny(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NE=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(t,e){if(e){if(NE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=null;function Xf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pd=null,Oi=null,Mi=null;function om(t){if(t=ol(t)){if(typeof pd!="function")throw Error(P(280));var e=t.stateNode;e&&(e=hc(e),pd(t.stateNode,t.type,e))}}function Py(t){Oi?Mi?Mi.push(t):Mi=[t]:Oi=t}function Iy(){if(Oi){var t=Oi,e=Mi;if(Mi=Oi=null,om(t),e)for(t=0;t<e.length;t++)om(e[t])}}function Ay(t,e){return t(e)}function Dy(){}var iu=!1;function Oy(t,e,n){if(iu)return t(e,n);iu=!0;try{return Ay(t,e,n)}finally{iu=!1,(Oi!==null||Mi!==null)&&(Dy(),Iy())}}function Co(t,e){var n=t.stateNode;if(n===null)return null;var r=hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var md=!1;if(kn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){md=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{md=!1}function RE(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var io=!1,pa=null,ma=!1,gd=null,PE={onError:function(t){io=!0,pa=t}};function IE(t,e,n,r,i,s,o,l,a){io=!1,pa=null,RE.apply(PE,arguments)}function AE(t,e,n,r,i,s,o,l,a){if(IE.apply(this,arguments),io){if(io){var c=pa;io=!1,pa=null}else throw Error(P(198));ma||(ma=!0,gd=c)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function My(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lm(t){if(ui(t)!==t)throw Error(P(188))}function DE(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lm(i),t;if(s===r)return lm(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Ly(t){return t=DE(t),t!==null?Fy(t):null}function Fy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fy(t);if(e!==null)return e;t=t.sibling}return null}var jy=xt.unstable_scheduleCallback,am=xt.unstable_cancelCallback,OE=xt.unstable_shouldYield,ME=xt.unstable_requestPaint,Ne=xt.unstable_now,LE=xt.unstable_getCurrentPriorityLevel,Zf=xt.unstable_ImmediatePriority,zy=xt.unstable_UserBlockingPriority,ga=xt.unstable_NormalPriority,FE=xt.unstable_LowPriority,$y=xt.unstable_IdlePriority,cc=null,cn=null;function jE(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:BE,zE=Math.log,$E=Math.LN2;function BE(t){return t>>>=0,t===0?32:31-(zE(t)/$E|0)|0}var Sl=64,bl=4194304;function Js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function va(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Js(l):(s&=o,s!==0&&(r=Js(s)))}else o=n&~i,o!==0?r=Js(o):s!==0&&(r=Js(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vt(e),i=1<<n,r|=t[n],e&=~i;return r}function UE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=UE(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function vd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function By(){var t=Sl;return Sl<<=1,!(Sl&4194240)&&(Sl=64),t}function su(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=n}function HE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function Uy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wy,eh,Hy,Vy,Qy,yd=!1,Tl=[],cr=null,ur=null,dr=null,Eo=new Map,So=new Map,qn=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cm(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function js(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ol(e),e!==null&&eh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QE(t,e,n,r,i){switch(e){case"focusin":return cr=js(cr,t,e,n,r,i),!0;case"dragenter":return ur=js(ur,t,e,n,r,i),!0;case"mouseover":return dr=js(dr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eo.set(s,js(Eo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,So.set(s,js(So.get(s)||null,t,e,n,r,i)),!0}return!1}function Ky(t){var e=jr(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=My(n),e!==null){t.blockedOn=e,Qy(t.priority,function(){Hy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_d(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hd=r,n.target.dispatchEvent(r),hd=null}else return e=ol(n),e!==null&&eh(e),t.blockedOn=n,!1;e.shift()}return!0}function um(t,e,n){ql(t)&&n.delete(e)}function KE(){yd=!1,cr!==null&&ql(cr)&&(cr=null),ur!==null&&ql(ur)&&(ur=null),dr!==null&&ql(dr)&&(dr=null),Eo.forEach(um),So.forEach(um)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,yd||(yd=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,KE)))}function bo(t){function e(i){return zs(i,t)}if(0<Tl.length){zs(Tl[0],t);for(var n=1;n<Tl.length;n++){var r=Tl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&zs(cr,t),ur!==null&&zs(ur,t),dr!==null&&zs(dr,t),Eo.forEach(e),So.forEach(e),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)Ky(n),n.blockedOn===null&&qn.shift()}var Li=Mn.ReactCurrentBatchConfig,ya=!0;function GE(t,e,n,r){var i=le,s=Li.transition;Li.transition=null;try{le=1,th(t,e,n,r)}finally{le=i,Li.transition=s}}function YE(t,e,n,r){var i=le,s=Li.transition;Li.transition=null;try{le=4,th(t,e,n,r)}finally{le=i,Li.transition=s}}function th(t,e,n,r){if(ya){var i=_d(t,e,n,r);if(i===null)mu(t,e,r,_a,n),cm(t,r);else if(QE(i,t,e,n,r))r.stopPropagation();else if(cm(t,r),e&4&&-1<VE.indexOf(t)){for(;i!==null;){var s=ol(i);if(s!==null&&Wy(s),s=_d(t,e,n,r),s===null&&mu(t,e,r,_a,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mu(t,e,r,null,n)}}var _a=null;function _d(t,e,n,r){if(_a=null,t=Xf(r),t=jr(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=My(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _a=t,null}function Gy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LE()){case Zf:return 1;case zy:return 4;case ga:case FE:return 16;case $y:return 536870912;default:return 16}default:return 16}}var sr=null,nh=null,Xl=null;function Yy(){if(Xl)return Xl;var t,e=nh,n=e.length,r,i="value"in sr?sr.value:sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xl=i.slice(t,1<r?1-r:void 0)}function Zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function dm(){return!1}function Et(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kl:dm,this.isPropagationStopped=dm,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rh=Et(Es),sl=Ce({},Es,{view:0,detail:0}),qE=Et(sl),ou,lu,$s,uc=Ce({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(ou=t.screenX-$s.screenX,lu=t.screenY-$s.screenY):lu=ou=0,$s=t),ou)},movementY:function(t){return"movementY"in t?t.movementY:lu}}),fm=Et(uc),XE=Ce({},uc,{dataTransfer:0}),ZE=Et(XE),JE=Ce({},sl,{relatedTarget:0}),au=Et(JE),eS=Ce({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=Et(eS),nS=Ce({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rS=Et(nS),iS=Ce({},Es,{data:0}),hm=Et(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lS[t])?!!e[t]:!1}function ih(){return aS}var cS=Ce({},sl,{key:function(t){if(t.key){var e=sS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(t){return t.type==="keypress"?Zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uS=Et(cS),dS=Ce({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=Et(dS),fS=Ce({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),hS=Et(fS),pS=Ce({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Et(pS),gS=Ce({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=Et(gS),yS=[9,13,27,32],sh=kn&&"CompositionEvent"in window,so=null;kn&&"documentMode"in document&&(so=document.documentMode);var _S=kn&&"TextEvent"in window&&!so,qy=kn&&(!sh||so&&8<so&&11>=so),mm=" ",gm=!1;function Xy(t,e){switch(t){case"keyup":return yS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ci=!1;function wS(t,e){switch(t){case"compositionend":return Zy(e);case"keypress":return e.which!==32?null:(gm=!0,mm);case"textInput":return t=e.data,t===mm&&gm?null:t;default:return null}}function xS(t,e){if(Ci)return t==="compositionend"||!sh&&Xy(t,e)?(t=Yy(),Xl=nh=sr=null,Ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qy&&e.locale!=="ko"?null:e.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CS[t.type]:e==="textarea"}function Jy(t,e,n,r){Py(r),e=wa(e,"onChange"),0<e.length&&(n=new rh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oo=null,To=null;function ES(t){u_(t,0)}function dc(t){var e=bi(t);if(Ey(e))return t}function SS(t,e){if(t==="change")return e}var e_=!1;if(kn){var cu;if(kn){var uu="oninput"in document;if(!uu){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),uu=typeof ym.oninput=="function"}cu=uu}else cu=!1;e_=cu&&(!document.documentMode||9<document.documentMode)}function _m(){oo&&(oo.detachEvent("onpropertychange",t_),To=oo=null)}function t_(t){if(t.propertyName==="value"&&dc(To)){var e=[];Jy(e,To,t,Xf(t)),Oy(ES,e)}}function bS(t,e,n){t==="focusin"?(_m(),oo=e,To=n,oo.attachEvent("onpropertychange",t_)):t==="focusout"&&_m()}function TS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(To)}function kS(t,e){if(t==="click")return dc(e)}function NS(t,e){if(t==="input"||t==="change")return dc(e)}function RS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:RS;function ko(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!td.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xm(t,e){var n=wm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wm(n)}}function n_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r_(){for(var t=window,e=ha();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ha(t.document)}return e}function oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PS(t){var e=r_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n_(n.ownerDocument.documentElement,n)){if(r!==null&&oh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xm(n,s);var o=xm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IS=kn&&"documentMode"in document&&11>=document.documentMode,Ei=null,wd=null,lo=null,xd=!1;function Cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xd||Ei==null||Ei!==ha(r)||(r=Ei,"selectionStart"in r&&oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&ko(lo,r)||(lo=r,r=wa(wd,"onSelect"),0<r.length&&(e=new rh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ei)))}function Nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},du={},i_={};kn&&(i_=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function fc(t){if(du[t])return du[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i_)return du[t]=e[n];return t}var s_=fc("animationend"),o_=fc("animationiteration"),l_=fc("animationstart"),a_=fc("transitionend"),c_=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){c_.set(t,e),ci(e,[t])}for(var fu=0;fu<Em.length;fu++){var hu=Em[fu],AS=hu.toLowerCase(),DS=hu[0].toUpperCase()+hu.slice(1);Pr(AS,"on"+DS)}Pr(s_,"onAnimationEnd");Pr(o_,"onAnimationIteration");Pr(l_,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(a_,"onTransitionEnd");os("onMouseEnter",["mouseout","mouseover"]);os("onMouseLeave",["mouseout","mouseover"]);os("onPointerEnter",["pointerout","pointerover"]);os("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Sm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AE(r,e,void 0,t),t.currentTarget=null}function u_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Sm(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Sm(i,l,c),s=a}}}if(ma)throw t=gd,ma=!1,gd=null,t}function me(t,e){var n=e[Td];n===void 0&&(n=e[Td]=new Set);var r=t+"__bubble";n.has(r)||(d_(e,t,2,!1),n.add(r))}function pu(t,e,n){var r=0;e&&(r|=4),d_(n,t,r,e)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function No(t){if(!t[Rl]){t[Rl]=!0,yy.forEach(function(n){n!=="selectionchange"&&(OS.has(n)||pu(n,!1,t),pu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rl]||(e[Rl]=!0,pu("selectionchange",!1,e))}}function d_(t,e,n,r){switch(Gy(e)){case 1:var i=GE;break;case 4:i=YE;break;default:i=th}n=i.bind(null,e,n,t),i=void 0,!md||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=jr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Oy(function(){var c=s,d=Xf(n),u=[];e:{var f=c_.get(t);if(f!==void 0){var p=rh,w=t;switch(t){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":p=uS;break;case"focusin":w="focus",p=au;break;case"focusout":w="blur",p=au;break;case"beforeblur":case"afterblur":p=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hS;break;case s_:case o_:case l_:p=tS;break;case a_:p=mS;break;case"scroll":p=qE;break;case"wheel":p=vS;break;case"copy":case"cut":case"paste":p=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pm}var m=(e&4)!==0,x=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,_;v!==null;){_=v;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,y!==null&&(C=Co(v,y),C!=null&&m.push(Ro(v,C,_)))),x)break;v=v.return}0<m.length&&(f=new p(f,w,null,n,d),u.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==hd&&(w=n.relatedTarget||n.fromElement)&&(jr(w)||w[Nn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?jr(w):null,w!==null&&(x=ui(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(m=fm,C="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=pm,C="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?f:bi(p),_=w==null?f:bi(w),f=new m(C,v+"leave",p,n,d),f.target=x,f.relatedTarget=_,C=null,jr(d)===c&&(m=new m(y,v+"enter",w,n,d),m.target=_,m.relatedTarget=x,C=m),x=C,p&&w)t:{for(m=p,y=w,v=0,_=m;_;_=mi(_))v++;for(_=0,C=y;C;C=mi(C))_++;for(;0<v-_;)m=mi(m),v--;for(;0<_-v;)y=mi(y),_--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=mi(m),y=mi(y)}m=null}else m=null;p!==null&&bm(u,f,p,m,!1),w!==null&&x!==null&&bm(u,x,w,m,!0)}}e:{if(f=c?bi(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=SS;else if(vm(f))if(e_)S=NS;else{S=TS;var b=bS}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=kS);if(S&&(S=S(t,c))){Jy(u,S,n,d);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&ad(f,"number",f.value)}switch(b=c?bi(c):window,t){case"focusin":(vm(b)||b.contentEditable==="true")&&(Ei=b,wd=c,lo=null);break;case"focusout":lo=wd=Ei=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Cm(u,n,d);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Cm(u,n,d)}var T;if(sh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ci?Xy(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qy&&n.locale!=="ko"&&(Ci||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ci&&(T=Yy()):(sr=d,nh="value"in sr?sr.value:sr.textContent,Ci=!0)),b=wa(c,k),0<b.length&&(k=new hm(k,t,null,n,d),u.push({event:k,listeners:b}),T?k.data=T:(T=Zy(n),T!==null&&(k.data=T)))),(T=_S?wS(t,n):xS(t,n))&&(c=wa(c,"onBeforeInput"),0<c.length&&(d=new hm("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=T))}u_(u,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Co(t,n),s!=null&&r.unshift(Ro(t,s,i)),s=Co(t,e),s!=null&&r.push(Ro(t,s,i))),t=t.return}return r}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Co(n,s),a!=null&&o.unshift(Ro(n,a,l))):i||(a=Co(n,s),a!=null&&o.push(Ro(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Tm(t){return(typeof t=="string"?t:""+t).replace(MS,`
`).replace(LS,"")}function Pl(t,e,n){if(e=Tm(e),Tm(t)!==e&&n)throw Error(P(425))}function xa(){}var Cd=null,Ed=null;function Sd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(t){return km.resolve(null).then(t).catch(zS)}:bd;function zS(t){setTimeout(function(){throw t})}function gu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bo(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),on="__reactFiber$"+Ss,Po="__reactProps$"+Ss,Nn="__reactContainer$"+Ss,Td="__reactEvents$"+Ss,$S="__reactListeners$"+Ss,BS="__reactHandles$"+Ss;function jr(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nm(t);t!==null;){if(n=t[on])return n;t=Nm(t)}return e}t=n,n=t.parentNode}return null}function ol(t){return t=t[on]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function hc(t){return t[Po]||null}var kd=[],Ti=-1;function Ir(t){return{current:t}}function ge(t){0>Ti||(t.current=kd[Ti],kd[Ti]=null,Ti--)}function he(t,e){Ti++,kd[Ti]=t.current,t.current=e}var Cr={},qe=Ir(Cr),dt=Ir(!1),Zr=Cr;function ls(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function Ca(){ge(dt),ge(qe)}function Rm(t,e,n){if(qe.current!==Cr)throw Error(P(168));he(qe,e),he(dt,n)}function f_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,bE(t)||"Unknown",i));return Ce({},n,r)}function Ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Zr=qe.current,he(qe,t),he(dt,dt.current),!0}function Pm(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=f_(t,e,Zr),r.__reactInternalMemoizedMergedChildContext=t,ge(dt),ge(qe),he(qe,t)):ge(dt),he(dt,n)}var wn=null,pc=!1,vu=!1;function h_(t){wn===null?wn=[t]:wn.push(t)}function US(t){pc=!0,h_(t)}function Ar(){if(!vu&&wn!==null){vu=!0;var t=0,e=le;try{var n=wn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wn=null,pc=!1}catch(i){throw wn!==null&&(wn=wn.slice(t+1)),jy(Zf,Ar),i}finally{le=e,vu=!1}}return null}var ki=[],Ni=0,Sa=null,ba=0,Tt=[],kt=0,Jr=null,Cn=1,En="";function Or(t,e){ki[Ni++]=ba,ki[Ni++]=Sa,Sa=t,ba=e}function p_(t,e,n){Tt[kt++]=Cn,Tt[kt++]=En,Tt[kt++]=Jr,Jr=t;var r=Cn;t=En;var i=32-Vt(r)-1;r&=~(1<<i),n+=1;var s=32-Vt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-Vt(e)+i|n<<i|r,En=s+t}else Cn=1<<s|n<<i|r,En=t}function lh(t){t.return!==null&&(Or(t,1),p_(t,1,0))}function ah(t){for(;t===Sa;)Sa=ki[--Ni],ki[Ni]=null,ba=ki[--Ni],ki[Ni]=null;for(;t===Jr;)Jr=Tt[--kt],Tt[kt]=null,En=Tt[--kt],Tt[kt]=null,Cn=Tt[--kt],Tt[kt]=null}var _t=null,yt=null,ye=!1,Bt=null;function m_(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Im(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,yt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jr!==null?{id:Cn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,yt=null,!0):!1;default:return!1}}function Nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rd(t){if(ye){var e=yt;if(e){var n=e;if(!Im(t,e)){if(Nd(t))throw Error(P(418));e=fr(n.nextSibling);var r=_t;e&&Im(t,e)?m_(r,n):(t.flags=t.flags&-4097|2,ye=!1,_t=t)}}else{if(Nd(t))throw Error(P(418));t.flags=t.flags&-4097|2,ye=!1,_t=t}}}function Am(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function Il(t){if(t!==_t)return!1;if(!ye)return Am(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sd(t.type,t.memoizedProps)),e&&(e=yt)){if(Nd(t))throw g_(),Error(P(418));for(;e;)m_(t,e),e=fr(e.nextSibling)}if(Am(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=_t?fr(t.stateNode.nextSibling):null;return!0}function g_(){for(var t=yt;t;)t=fr(t.nextSibling)}function as(){yt=_t=null,ye=!1}function ch(t){Bt===null?Bt=[t]:Bt.push(t)}var WS=Mn.ReactCurrentBatchConfig;function Bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Al(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dm(t){var e=t._init;return e(t._payload)}function v_(t){function e(y,v){if(t){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=gr(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,_,C){return v===null||v.tag!==6?(v=Su(_,y.mode,C),v.return=y,v):(v=i(v,_),v.return=y,v)}function a(y,v,_,C){var S=_.type;return S===xi?d(y,v,_.props.children,C,_.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gn&&Dm(S)===v.type)?(C=i(v,_.props),C.ref=Bs(y,v,_),C.return=y,C):(C=sa(_.type,_.key,_.props,null,y.mode,C),C.ref=Bs(y,v,_),C.return=y,C)}function c(y,v,_,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=bu(_,y.mode,C),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function d(y,v,_,C,S){return v===null||v.tag!==7?(v=Xr(_,y.mode,C,S),v.return=y,v):(v=i(v,_),v.return=y,v)}function u(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Su(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xl:return _=sa(v.type,v.key,v.props,null,y.mode,_),_.ref=Bs(y,null,v),_.return=y,_;case wi:return v=bu(v,y.mode,_),v.return=y,v;case Gn:var C=v._init;return u(y,C(v._payload),_)}if(Zs(v)||Ls(v))return v=Xr(v,y.mode,_,null),v.return=y,v;Al(y,v)}return null}function f(y,v,_,C){var S=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:l(y,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xl:return _.key===S?a(y,v,_,C):null;case wi:return _.key===S?c(y,v,_,C):null;case Gn:return S=_._init,f(y,v,S(_._payload),C)}if(Zs(_)||Ls(_))return S!==null?null:d(y,v,_,C,null);Al(y,_)}return null}function p(y,v,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(_)||null,l(v,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case xl:return y=y.get(C.key===null?_:C.key)||null,a(v,y,C,S);case wi:return y=y.get(C.key===null?_:C.key)||null,c(v,y,C,S);case Gn:var b=C._init;return p(y,v,_,b(C._payload),S)}if(Zs(C)||Ls(C))return y=y.get(_)||null,d(v,y,C,S,null);Al(v,C)}return null}function w(y,v,_,C){for(var S=null,b=null,T=v,k=v=0,I=null;T!==null&&k<_.length;k++){T.index>k?(I=T,T=null):I=T.sibling;var R=f(y,T,_[k],C);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(y,T),v=s(R,v,k),b===null?S=R:b.sibling=R,b=R,T=I}if(k===_.length)return n(y,T),ye&&Or(y,k),S;if(T===null){for(;k<_.length;k++)T=u(y,_[k],C),T!==null&&(v=s(T,v,k),b===null?S=T:b.sibling=T,b=T);return ye&&Or(y,k),S}for(T=r(y,T);k<_.length;k++)I=p(T,y,k,_[k],C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?k:I.key),v=s(I,v,k),b===null?S=I:b.sibling=I,b=I);return t&&T.forEach(function(O){return e(y,O)}),ye&&Or(y,k),S}function m(y,v,_,C){var S=Ls(_);if(typeof S!="function")throw Error(P(150));if(_=S.call(_),_==null)throw Error(P(151));for(var b=S=null,T=v,k=v=0,I=null,R=_.next();T!==null&&!R.done;k++,R=_.next()){T.index>k?(I=T,T=null):I=T.sibling;var O=f(y,T,R.value,C);if(O===null){T===null&&(T=I);break}t&&T&&O.alternate===null&&e(y,T),v=s(O,v,k),b===null?S=O:b.sibling=O,b=O,T=I}if(R.done)return n(y,T),ye&&Or(y,k),S;if(T===null){for(;!R.done;k++,R=_.next())R=u(y,R.value,C),R!==null&&(v=s(R,v,k),b===null?S=R:b.sibling=R,b=R);return ye&&Or(y,k),S}for(T=r(y,T);!R.done;k++,R=_.next())R=p(T,y,k,R.value,C),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?k:R.key),v=s(R,v,k),b===null?S=R:b.sibling=R,b=R);return t&&T.forEach(function(M){return e(y,M)}),ye&&Or(y,k),S}function x(y,v,_,C){if(typeof _=="object"&&_!==null&&_.type===xi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xl:e:{for(var S=_.key,b=v;b!==null;){if(b.key===S){if(S=_.type,S===xi){if(b.tag===7){n(y,b.sibling),v=i(b,_.props.children),v.return=y,y=v;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gn&&Dm(S)===b.type){n(y,b.sibling),v=i(b,_.props),v.ref=Bs(y,b,_),v.return=y,y=v;break e}n(y,b);break}else e(y,b);b=b.sibling}_.type===xi?(v=Xr(_.props.children,y.mode,C,_.key),v.return=y,y=v):(C=sa(_.type,_.key,_.props,null,y.mode,C),C.ref=Bs(y,v,_),C.return=y,y=C)}return o(y);case wi:e:{for(b=_.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=bu(_,y.mode,C),v.return=y,y=v}return o(y);case Gn:return b=_._init,x(y,v,b(_._payload),C)}if(Zs(_))return w(y,v,_,C);if(Ls(_))return m(y,v,_,C);Al(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,_),v.return=y,y=v):(n(y,v),v=Su(_,y.mode,C),v.return=y,y=v),o(y)):n(y,v)}return x}var cs=v_(!0),y_=v_(!1),Ta=Ir(null),ka=null,Ri=null,uh=null;function dh(){uh=Ri=ka=null}function fh(t){var e=Ta.current;ge(Ta),t._currentValue=e}function Pd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fi(t,e){ka=t,uh=Ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function It(t){var e=t._currentValue;if(uh!==t)if(t={context:t,memoizedValue:e,next:null},Ri===null){if(ka===null)throw Error(P(308));Ri=t,ka.dependencies={lanes:0,firstContext:t}}else Ri=Ri.next=t;return e}var zr=null;function hh(t){zr===null?zr=[t]:zr.push(t)}function __(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yn=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rn(t,n)}return i=r.interleaved,i===null?(e.next=e,hh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rn(t,n)}function Jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jf(t,n)}}function Om(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Na(t,e,n,r){var i=t.updateQueue;Yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(s!==null){var u=i.baseState;o=0,d=c=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,m=l;switch(f=e,p=n,m.tag){case 1:if(w=m.payload,typeof w=="function"){u=w.call(p,u,f);break e}u=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,f=typeof w=="function"?w.call(p,u,f):w,f==null)break e;u=Ce({},u,f);break e;case 2:Yn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,a=u):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=u),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=u}}function Mm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var ll={},un=Ir(ll),Io=Ir(ll),Ao=Ir(ll);function $r(t){if(t===ll)throw Error(P(174));return t}function mh(t,e){switch(he(Ao,e),he(Io,t),he(un,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ud(e,t)}ge(un),he(un,e)}function us(){ge(un),ge(Io),ge(Ao)}function x_(t){$r(Ao.current);var e=$r(un.current),n=ud(e,t.type);e!==n&&(he(Io,t),he(un,n))}function gh(t){Io.current===t&&(ge(un),ge(Io))}var we=Ir(0);function Ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yu=[];function vh(){for(var t=0;t<yu.length;t++)yu[t]._workInProgressVersionPrimary=null;yu.length=0}var ea=Mn.ReactCurrentDispatcher,_u=Mn.ReactCurrentBatchConfig,ei=0,xe=null,Pe=null,Le=null,Pa=!1,ao=!1,Do=0,HS=0;function Qe(){throw Error(P(321))}function yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function _h(t,e,n,r,i,s){if(ei=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ea.current=t===null||t.memoizedState===null?GS:YS,t=n(r,i),ao){s=0;do{if(ao=!1,Do=0,25<=s)throw Error(P(301));s+=1,Le=Pe=null,e.updateQueue=null,ea.current=qS,t=n(r,i)}while(ao)}if(ea.current=Ia,e=Pe!==null&&Pe.next!==null,ei=0,Le=Pe=xe=null,Pa=!1,e)throw Error(P(300));return t}function wh(){var t=Do!==0;return Do=0,t}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?xe.memoizedState=Le=t:Le=Le.next=t,Le}function At(){if(Pe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?xe.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(P(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?xe.memoizedState=Le=t:Le=Le.next=t}return Le}function Oo(t,e){return typeof e=="function"?e(t):e}function wu(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var d=c.lane;if((ei&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=u,o=r):a=a.next=u,xe.lanes|=d,ti|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Gt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,ti|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xu(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gt(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function C_(){}function E_(t,e){var n=xe,r=At(),i=e(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,xh(T_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Mo(9,b_.bind(null,n,r,i,e),void 0,null),je===null)throw Error(P(349));ei&30||S_(n,e,i)}return i}function S_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b_(t,e,n,r){e.value=n,e.getSnapshot=r,k_(e)&&N_(t)}function T_(t,e,n){return n(function(){k_(e)&&N_(t)})}function k_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function N_(t){var e=Rn(t,1);e!==null&&Qt(e,t,1,-1)}function Lm(t){var e=en();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e.queue=t,t=t.dispatch=KS.bind(null,xe,t),[e.memoizedState,t]}function Mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R_(){return At().memoizedState}function ta(t,e,n,r){var i=en();xe.flags|=t,i.memoizedState=Mo(1|e,n,void 0,r===void 0?null:r)}function mc(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&yh(r,o.deps)){i.memoizedState=Mo(e,n,s,r);return}}xe.flags|=t,i.memoizedState=Mo(1|e,n,s,r)}function Fm(t,e){return ta(8390656,8,t,e)}function xh(t,e){return mc(2048,8,t,e)}function P_(t,e){return mc(4,2,t,e)}function I_(t,e){return mc(4,4,t,e)}function A_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D_(t,e,n){return n=n!=null?n.concat([t]):null,mc(4,4,A_.bind(null,e,t),n)}function Ch(){}function O_(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M_(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L_(t,e,n){return ei&21?(Gt(n,e)||(n=By(),xe.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function VS(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=_u.transition;_u.transition={};try{t(!1),e()}finally{le=n,_u.transition=r}}function F_(){return At().memoizedState}function QS(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j_(t))z_(e,n);else if(n=__(t,e,n,r),n!==null){var i=tt();Qt(n,t,r,i),$_(n,e,r)}}function KS(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j_(t))z_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Gt(l,o)){var a=e.interleaved;a===null?(i.next=i,hh(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=__(t,e,i,r),n!==null&&(i=tt(),Qt(n,t,r,i),$_(n,e,r))}}function j_(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function z_(t,e){ao=Pa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jf(t,n)}}var Ia={readContext:It,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},GS={readContext:It,useCallback:function(t,e){return en().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:Fm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ta(4194308,4,A_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ta(4194308,4,t,e)},useInsertionEffect:function(t,e){return ta(4,2,t,e)},useMemo:function(t,e){var n=en();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=en();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QS.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=en();return t={current:t},e.memoizedState=t},useState:Lm,useDebugValue:Ch,useDeferredValue:function(t){return en().memoizedState=t},useTransition:function(){var t=Lm(!1),e=t[0];return t=VS.bind(null,t[1]),en().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=en();if(ye){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),je===null)throw Error(P(349));ei&30||S_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Fm(T_.bind(null,r,s,t),[t]),r.flags|=2048,Mo(9,b_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=en(),e=je.identifierPrefix;if(ye){var n=En,r=Cn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Do++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YS={readContext:It,useCallback:O_,useContext:It,useEffect:xh,useImperativeHandle:D_,useInsertionEffect:P_,useLayoutEffect:I_,useMemo:M_,useReducer:wu,useRef:R_,useState:function(){return wu(Oo)},useDebugValue:Ch,useDeferredValue:function(t){var e=At();return L_(e,Pe.memoizedState,t)},useTransition:function(){var t=wu(Oo)[0],e=At().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:E_,useId:F_,unstable_isNewReconciler:!1},qS={readContext:It,useCallback:O_,useContext:It,useEffect:xh,useImperativeHandle:D_,useInsertionEffect:P_,useLayoutEffect:I_,useMemo:M_,useReducer:xu,useRef:R_,useState:function(){return xu(Oo)},useDebugValue:Ch,useDeferredValue:function(t){var e=At();return Pe===null?e.memoizedState=t:L_(e,Pe.memoizedState,t)},useTransition:function(){var t=xu(Oo)[0],e=At().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:E_,useId:F_,unstable_isNewReconciler:!1};function jt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Id(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gc={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),i=mr(t),s=bn(r,i);s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,i),e!==null&&(Qt(e,t,i,r),Jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),i=mr(t),s=bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,i),e!==null&&(Qt(e,t,i,r),Jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=mr(t),i=bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=hr(t,i,r),e!==null&&(Qt(e,t,r,n),Jl(e,t,r))}};function jm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ko(n,r)||!ko(i,s):!0}function B_(t,e,n){var r=!1,i=Cr,s=e.contextType;return typeof s=="object"&&s!==null?s=It(s):(i=ft(e)?Zr:qe.current,r=e.contextTypes,s=(r=r!=null)?ls(t,i):Cr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function zm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gc.enqueueReplaceState(e,e.state,null)}function Ad(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ph(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=It(s):(s=ft(e)?Zr:qe.current,i.context=ls(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Id(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gc.enqueueReplaceState(i,i.state,null),Na(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ds(t,e){try{var n="",r=e;do n+=SE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XS=typeof WeakMap=="function"?WeakMap:Map;function U_(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Da||(Da=!0,Wd=r),Dd(t,e)},n}function W_(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Dd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dd(t,e),typeof r!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $m(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=db.bind(null,t,e,n),e.then(t,t))}function Bm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Um(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,hr(n,e,1))),n.lanes|=1),t)}var ZS=Mn.ReactCurrentOwner,ct=!1;function Je(t,e,n,r){e.child=t===null?y_(e,null,n,r):cs(e,t.child,n,r)}function Wm(t,e,n,r,i){n=n.render;var s=e.ref;return Fi(e,i),r=_h(t,e,n,r,s,i),n=wh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(ye&&n&&lh(e),e.flags|=1,Je(t,e,r,i),e.child)}function Hm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ph(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H_(t,e,s,r,i)):(t=sa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ko,n(o,r)&&t.ref===e.ref)return Pn(t,e,i)}return e.flags|=1,t=gr(s,r),t.ref=e.ref,t.return=e,e.child=t}function H_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ko(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Pn(t,e,i)}return Od(t,e,n,r,i)}function V_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ii,gt),gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ii,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(Ii,gt),gt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(Ii,gt),gt|=r;return Je(t,e,i,n),e.child}function Q_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Od(t,e,n,r,i){var s=ft(n)?Zr:qe.current;return s=ls(e,s),Fi(e,i),n=_h(t,e,n,r,s,i),r=wh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(ye&&r&&lh(e),e.flags|=1,Je(t,e,n,i),e.child)}function Vm(t,e,n,r,i){if(ft(n)){var s=!0;Ea(e)}else s=!1;if(Fi(e,i),e.stateNode===null)na(t,e),B_(e,n,r),Ad(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=It(c):(c=ft(n)?Zr:qe.current,c=ls(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&zm(e,o,r,c),Yn=!1;var f=e.memoizedState;o.state=f,Na(e,r,o,i),a=e.memoizedState,l!==r||f!==a||dt.current||Yn?(typeof d=="function"&&(Id(e,n,d,r),a=e.memoizedState),(l=Yn||jm(e,n,l,r,f,a,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,w_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:jt(e.type,l),o.props=c,u=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=It(a):(a=ft(n)?Zr:qe.current,a=ls(e,a));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==a)&&zm(e,o,r,a),Yn=!1,f=e.memoizedState,o.state=f,Na(e,r,o,i);var w=e.memoizedState;l!==u||f!==w||dt.current||Yn?(typeof p=="function"&&(Id(e,n,p,r),w=e.memoizedState),(c=Yn||jm(e,n,c,r,f,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Md(t,e,n,r,s,i)}function Md(t,e,n,r,i,s){Q_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Pm(e,n,!1),Pn(t,e,s);r=e.stateNode,ZS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cs(e,t.child,null,s),e.child=cs(e,null,l,s)):Je(t,e,l,s),e.memoizedState=r.state,i&&Pm(e,n,!0),e.child}function K_(t){var e=t.stateNode;e.pendingContext?Rm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rm(t,e.context,!1),mh(t,e.containerInfo)}function Qm(t,e,n,r,i){return as(),ch(i),e.flags|=256,Je(t,e,n,r),e.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function Fd(t){return{baseLanes:t,cachePool:null,transitions:null}}function G_(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(we,i&1),t===null)return Rd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_c(o,r,0,null),t=Xr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fd(n),e.memoizedState=Ld,t):Eh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return JS(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=gr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=gr(l,s):(s=Xr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ld,r}return s=t.child,t=s.sibling,r=gr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eh(t,e){return e=_c({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dl(t,e,n,r){return r!==null&&ch(r),cs(e,t.child,null,n),t=Eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cu(Error(P(422))),Dl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_c({mode:"visible",children:r.children},i,0,null),s=Xr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cs(e,t.child,null,o),e.child.memoizedState=Fd(o),e.memoizedState=Ld,s);if(!(e.mode&1))return Dl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Cu(s,r,void 0),Dl(t,e,o,r)}if(l=(o&t.childLanes)!==0,ct||l){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(t,i),Qt(r,t,i,-1))}return Rh(),r=Cu(Error(P(421))),Dl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yt=fr(i.nextSibling),_t=e,ye=!0,Bt=null,t!==null&&(Tt[kt++]=Cn,Tt[kt++]=En,Tt[kt++]=Jr,Cn=t.id,En=t.overflow,Jr=e),e=Eh(e,r.children),e.flags|=4096,e)}function Km(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pd(t.return,e,n)}function Eu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Y_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Je(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Km(t,n,e);else if(t.tag===19)Km(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ra(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ra(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eu(e,!0,n,null,s);break;case"together":Eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function na(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eb(t,e,n){switch(e.tag){case 3:K_(e),as();break;case 5:x_(e);break;case 1:ft(e.type)&&Ea(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(Ta,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?G_(t,e,n):(he(we,we.current&1),t=Pn(t,e,n),t!==null?t.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,V_(t,e,n)}return Pn(t,e,n)}var q_,jd,X_,Z_;q_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jd=function(){};X_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$r(un.current);var s=null;switch(n){case"input":i=od(t,i),r=od(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=cd(t,i),r=cd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xa)}dd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wo.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&me("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Z_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tb(t,e,n){var r=e.pendingProps;switch(ah(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return ft(e.type)&&Ca(),Ke(e),null;case 3:return r=e.stateNode,us(),ge(dt),ge(qe),vh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Il(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Qd(Bt),Bt=null))),jd(t,e),Ke(e),null;case 5:gh(e);var i=$r(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)X_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ke(e),null}if(t=$r(un.current),Il(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[on]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<eo.length;i++)me(eo[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":nm(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":im(r,s),me("invalid",r)}dd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),i=["children",""+l]):wo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":Cl(r),rm(r,s,!0);break;case"textarea":Cl(r),sm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ty(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[on]=e,t[Po]=r,q_(t,e,!1,!1),e.stateNode=t;e:{switch(o=fd(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<eo.length;i++)me(eo[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":nm(t,r),i=od(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",t);break;case"textarea":im(t,r),i=cd(t,r),me("invalid",t);break;default:i=r}dd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Ry(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ky(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&xo(t,a):typeof a=="number"&&xo(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&me("scroll",t):a!=null&&Kf(t,s,a,o))}switch(n){case"input":Cl(t),rm(t,r,!1);break;case"textarea":Cl(t),sm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Di(t,!!r.multiple,s,!1):r.defaultValue!=null&&Di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)Z_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=$r(Ao.current),$r(un.current),Il(e)){if(r=e.stateNode,n=e.memoizedProps,r[on]=e,(s=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=e,e.stateNode=r}return Ke(e),null;case 13:if(ge(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&yt!==null&&e.mode&1&&!(e.flags&128))g_(),as(),e.flags|=98560,s=!1;else if(s=Il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[on]=e}else as(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),s=!1}else Bt!==null&&(Qd(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?De===0&&(De=3):Rh())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return us(),jd(t,e),t===null&&No(e.stateNode.containerInfo),Ke(e),null;case 10:return fh(e.type._context),Ke(e),null;case 17:return ft(e.type)&&Ca(),Ke(e),null;case 19:if(ge(we),s=e.memoizedState,s===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ra(t),o!==null){for(e.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>fs&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ra(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ye)return Ke(e),null}else 2*Ne()-s.renderingStartTime>fs&&n!==1073741824&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=we.current,he(we,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Nh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function nb(t,e){switch(ah(e),e.tag){case 1:return ft(e.type)&&Ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return us(),ge(dt),ge(qe),vh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gh(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));as()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return us(),null;case 10:return fh(e.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Ol=!1,Ye=!1,rb=typeof WeakSet=="function"?WeakSet:Set,F=null;function Pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function zd(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Gm=!1;function ib(t,e){if(Cd=ya,t=r_(),oh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var p;u!==n||i!==0&&u.nodeType!==3||(l=o+i),u!==s||r!==0&&u.nodeType!==3||(a=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===t)break t;if(f===n&&++c===i&&(l=o),f===s&&++d===r&&(a=o),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ed={focusedElem:t,selectionRange:n},ya=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,x=w.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:jt(e.type,m),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(C){Se(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return w=Gm,Gm=!1,w}function co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zd(e,n,s)}i=i.next}while(i!==r)}}function vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $d(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J_(t){var e=t.alternate;e!==null&&(t.alternate=null,J_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[Po],delete e[Td],delete e[$S],delete e[BS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ew(t){return t.tag===5||t.tag===3||t.tag===4}function Ym(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ew(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xa));else if(r!==4&&(t=t.child,t!==null))for(Bd(t,e,n),t=t.sibling;t!==null;)Bd(t,e,n),t=t.sibling}function Ud(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ud(t,e,n),t=t.sibling;t!==null;)Ud(t,e,n),t=t.sibling}var ze=null,$t=!1;function Un(t,e,n){for(n=n.child;n!==null;)tw(t,e,n),n=n.sibling}function tw(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 5:Ye||Pi(n,e);case 6:var r=ze,i=$t;ze=null,Un(t,e,n),ze=r,$t=i,ze!==null&&($t?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&($t?(t=ze,n=n.stateNode,t.nodeType===8?gu(t.parentNode,n):t.nodeType===1&&gu(t,n),bo(t)):gu(ze,n.stateNode));break;case 4:r=ze,i=$t,ze=n.stateNode.containerInfo,$t=!0,Un(t,e,n),ze=r,$t=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zd(n,e,o),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!Ye&&(Pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,e,l)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,Un(t,e,n),Ye=r):Un(t,e,n);break;default:Un(t,e,n)}}function qm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rb),e.forEach(function(r){var i=hb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,$t=!1;break e;case 3:ze=l.stateNode.containerInfo,$t=!0;break e;case 4:ze=l.stateNode.containerInfo,$t=!0;break e}l=l.return}if(ze===null)throw Error(P(160));tw(s,o,i),ze=null,$t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Se(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nw(e,t),e=e.sibling}function nw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Jt(t),r&4){try{co(3,t,t.return),vc(3,t)}catch(m){Se(t,t.return,m)}try{co(5,t,t.return)}catch(m){Se(t,t.return,m)}}break;case 1:Ft(e,t),Jt(t),r&512&&n!==null&&Pi(n,n.return);break;case 5:if(Ft(e,t),Jt(t),r&512&&n!==null&&Pi(n,n.return),t.flags&32){var i=t.stateNode;try{xo(i,"")}catch(m){Se(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Sy(i,s),fd(l,o);var c=fd(l,s);for(o=0;o<a.length;o+=2){var d=a[o],u=a[o+1];d==="style"?Ry(i,u):d==="dangerouslySetInnerHTML"?ky(i,u):d==="children"?xo(i,u):Kf(i,d,u,c)}switch(l){case"input":ld(i,s);break;case"textarea":by(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Di(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Di(i,!!s.multiple,s.defaultValue,!0):Di(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(m){Se(t,t.return,m)}}break;case 6:if(Ft(e,t),Jt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Se(t,t.return,m)}}break;case 3:if(Ft(e,t),Jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(m){Se(t,t.return,m)}break;case 4:Ft(e,t),Jt(t);break;case 13:Ft(e,t),Jt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Th=Ne())),r&4&&qm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(c=Ye)||d,Ft(e,t),Ye=c):Ft(e,t),Jt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(F=t,d=t.child;d!==null;){for(u=F=d;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:co(4,f,f.return);break;case 1:Pi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(m){Se(r,n,m)}}break;case 5:Pi(f,f.return);break;case 22:if(f.memoizedState!==null){Zm(u);continue}}p!==null?(p.return=f,F=p):Zm(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=u.stateNode,a=u.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ny("display",o))}catch(m){Se(t,t.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){Se(t,t.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ft(e,t),Jt(t),r&4&&qm(t);break;case 21:break;default:Ft(e,t),Jt(t)}}function Jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ew(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xo(i,""),r.flags&=-33);var s=Ym(t);Ud(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ym(t);Bd(t,l,o);break;default:throw Error(P(161))}}catch(a){Se(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sb(t,e,n){F=t,rw(t)}function rw(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ol;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ye;l=Ol;var c=Ye;if(Ol=o,(Ye=a)&&!c)for(F=i;F!==null;)o=F,a=o.child,o.tag===22&&o.memoizedState!==null?Jm(i):a!==null?(a.return=o,F=a):Jm(i);for(;s!==null;)F=s,rw(s),s=s.sibling;F=i,Ol=l,Ye=c}Xm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Xm(t)}}function Xm(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&bo(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ye||e.flags&512&&$d(e)}catch(f){Se(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Zm(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Jm(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vc(4,e)}catch(a){Se(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Se(e,i,a)}}var s=e.return;try{$d(e)}catch(a){Se(e,s,a)}break;case 5:var o=e.return;try{$d(e)}catch(a){Se(e,o,a)}}}catch(a){Se(e,e.return,a)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var ob=Math.ceil,Aa=Mn.ReactCurrentDispatcher,Sh=Mn.ReactCurrentOwner,Pt=Mn.ReactCurrentBatchConfig,re=0,je=null,Re=null,Ue=0,gt=0,Ii=Ir(0),De=0,Lo=null,ti=0,yc=0,bh=0,uo=null,at=null,Th=0,fs=1/0,_n=null,Da=!1,Wd=null,pr=null,Ml=!1,or=null,Oa=0,fo=0,Hd=null,ra=-1,ia=0;function tt(){return re&6?Ne():ra!==-1?ra:ra=Ne()}function mr(t){return t.mode&1?re&2&&Ue!==0?Ue&-Ue:WS.transition!==null?(ia===0&&(ia=By()),ia):(t=le,t!==0||(t=window.event,t=t===void 0?16:Gy(t.type)),t):1}function Qt(t,e,n,r){if(50<fo)throw fo=0,Hd=null,Error(P(185));il(t,n,r),(!(re&2)||t!==je)&&(t===je&&(!(re&2)&&(yc|=n),De===4&&Xn(t,Ue)),ht(t,r),n===1&&re===0&&!(e.mode&1)&&(fs=Ne()+500,pc&&Ar()))}function ht(t,e){var n=t.callbackNode;WE(t,e);var r=va(t,t===je?Ue:0);if(r===0)n!==null&&am(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&am(n),e===1)t.tag===0?US(eg.bind(null,t)):h_(eg.bind(null,t)),jS(function(){!(re&6)&&Ar()}),n=null;else{switch(Uy(r)){case 1:n=Zf;break;case 4:n=zy;break;case 16:n=ga;break;case 536870912:n=$y;break;default:n=ga}n=dw(n,iw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iw(t,e){if(ra=-1,ia=0,re&6)throw Error(P(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=va(t,t===je?Ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ma(t,r);else{e=r;var i=re;re|=2;var s=ow();(je!==t||Ue!==e)&&(_n=null,fs=Ne()+500,qr(t,e));do try{cb();break}catch(l){sw(t,l)}while(!0);dh(),Aa.current=s,re=i,Re!==null?e=0:(je=null,Ue=0,e=De)}if(e!==0){if(e===2&&(i=vd(t),i!==0&&(r=i,e=Vd(t,i))),e===1)throw n=Lo,qr(t,0),Xn(t,r),ht(t,Ne()),n;if(e===6)Xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!lb(i)&&(e=Ma(t,r),e===2&&(s=vd(t),s!==0&&(r=s,e=Vd(t,s))),e===1))throw n=Lo,qr(t,0),Xn(t,r),ht(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Mr(t,at,_n);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=Th+500-Ne(),10<e)){if(va(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bd(Mr.bind(null,t,at,_n),e);break}Mr(t,at,_n);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ob(r/1960))-r,10<r){t.timeoutHandle=bd(Mr.bind(null,t,at,_n),r);break}Mr(t,at,_n);break;case 5:Mr(t,at,_n);break;default:throw Error(P(329))}}}return ht(t,Ne()),t.callbackNode===n?iw.bind(null,t):null}function Vd(t,e){var n=uo;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=Ma(t,e),t!==2&&(e=at,at=n,e!==null&&Qd(e)),t}function Qd(t){at===null?at=t:at.push.apply(at,t)}function lb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~bh,e&=~yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vt(e),r=1<<n;t[n]=-1,e&=~r}}function eg(t){if(re&6)throw Error(P(327));ji();var e=va(t,0);if(!(e&1))return ht(t,Ne()),null;var n=Ma(t,e);if(t.tag!==0&&n===2){var r=vd(t);r!==0&&(e=r,n=Vd(t,r))}if(n===1)throw n=Lo,qr(t,0),Xn(t,e),ht(t,Ne()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,at,_n),ht(t,Ne()),null}function kh(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(fs=Ne()+500,pc&&Ar())}}function ni(t){or!==null&&or.tag===0&&!(re&6)&&ji();var e=re;re|=1;var n=Pt.transition,r=le;try{if(Pt.transition=null,le=1,t)return t()}finally{le=r,Pt.transition=n,re=e,!(re&6)&&Ar()}}function Nh(){gt=Ii.current,ge(Ii)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FS(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ca();break;case 3:us(),ge(dt),ge(qe),vh();break;case 5:gh(r);break;case 4:us();break;case 13:ge(we);break;case 19:ge(we);break;case 10:fh(r.type._context);break;case 22:case 23:Nh()}n=n.return}if(je=t,Re=t=gr(t.current,null),Ue=gt=e,De=0,Lo=null,bh=yc=ti=0,at=uo=null,zr!==null){for(e=0;e<zr.length;e++)if(n=zr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zr=null}return t}function sw(t,e){do{var n=Re;try{if(dh(),ea.current=Ia,Pa){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pa=!1}if(ei=0,Le=Pe=xe=null,ao=!1,Do=0,Sh.current=null,n===null||n.return===null){De=1,Lo=e,Re=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Ue,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Bm(o);if(p!==null){p.flags&=-257,Um(p,o,l,s,e),p.mode&1&&$m(s,c,e),e=p,a=c;var w=e.updateQueue;if(w===null){var m=new Set;m.add(a),e.updateQueue=m}else w.add(a);break e}else{if(!(e&1)){$m(s,c,e),Rh();break e}a=Error(P(426))}}else if(ye&&l.mode&1){var x=Bm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Um(x,o,l,s,e),ch(ds(a,l));break e}}s=a=ds(a,l),De!==4&&(De=2),uo===null?uo=[s]:uo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=U_(s,a,e);Om(s,y);break e;case 1:l=a;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(pr===null||!pr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=W_(s,l,e);Om(s,C);break e}}s=s.return}while(s!==null)}aw(n)}catch(S){e=S,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function ow(){var t=Aa.current;return Aa.current=Ia,t===null?Ia:t}function Rh(){(De===0||De===3||De===2)&&(De=4),je===null||!(ti&268435455)&&!(yc&268435455)||Xn(je,Ue)}function Ma(t,e){var n=re;re|=2;var r=ow();(je!==t||Ue!==e)&&(_n=null,qr(t,e));do try{ab();break}catch(i){sw(t,i)}while(!0);if(dh(),re=n,Aa.current=r,Re!==null)throw Error(P(261));return je=null,Ue=0,De}function ab(){for(;Re!==null;)lw(Re)}function cb(){for(;Re!==null&&!OE();)lw(Re)}function lw(t){var e=uw(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?aw(t):Re=e,Sh.current=null}function aw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nb(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Re=null;return}}else if(n=tb(n,e,gt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);De===0&&(De=5)}function Mr(t,e,n){var r=le,i=Pt.transition;try{Pt.transition=null,le=1,ub(t,e,n,r)}finally{Pt.transition=i,le=r}return null}function ub(t,e,n,r){do ji();while(or!==null);if(re&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HE(t,s),t===je&&(Re=je=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ml||(Ml=!0,dw(ga,function(){return ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=le;le=1;var l=re;re|=4,Sh.current=null,ib(t,n),nw(n,t),PS(Ed),ya=!!Cd,Ed=Cd=null,t.current=n,sb(n),ME(),re=l,le=o,Pt.transition=s}else t.current=n;if(Ml&&(Ml=!1,or=t,Oa=i),s=t.pendingLanes,s===0&&(pr=null),jE(n.stateNode),ht(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Da)throw Da=!1,t=Wd,Wd=null,t;return Oa&1&&t.tag!==0&&ji(),s=t.pendingLanes,s&1?t===Hd?fo++:(fo=0,Hd=t):fo=0,Ar(),null}function ji(){if(or!==null){var t=Uy(Oa),e=Pt.transition,n=le;try{if(Pt.transition=null,le=16>t?16:t,or===null)var r=!1;else{if(t=or,or=null,Oa=0,re&6)throw Error(P(331));var i=re;for(re|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:co(8,d,s)}var u=d.child;if(u!==null)u.return=d,F=u;else for(;F!==null;){d=F;var f=d.sibling,p=d.return;if(J_(d),d===c){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var w=s.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:co(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,F=y;break e}F=s.return}}var v=t.current;for(F=v;F!==null;){o=F;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,F=_;else e:for(o=v;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vc(9,l)}}catch(S){Se(l,l.return,S)}if(l===o){F=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,F=C;break e}F=l.return}}if(re=i,Ar(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(cc,t)}catch{}r=!0}return r}finally{le=n,Pt.transition=e}}return!1}function tg(t,e,n){e=ds(n,e),e=U_(t,e,1),t=hr(t,e,1),e=tt(),t!==null&&(il(t,1,e),ht(t,e))}function Se(t,e,n){if(t.tag===3)tg(t,t,n);else for(;e!==null;){if(e.tag===3){tg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pr===null||!pr.has(r))){t=ds(n,t),t=W_(e,t,1),e=hr(e,t,1),t=tt(),e!==null&&(il(e,1,t),ht(e,t));break}}e=e.return}}function db(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Ue&n)===n&&(De===4||De===3&&(Ue&130023424)===Ue&&500>Ne()-Th?qr(t,0):bh|=n),ht(t,e)}function cw(t,e){e===0&&(t.mode&1?(e=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):e=1);var n=tt();t=Rn(t,e),t!==null&&(il(t,e,n),ht(t,n))}function fb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cw(t,n)}function hb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),cw(t,n)}var uw;uw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,eb(t,e,n);ct=!!(t.flags&131072)}else ct=!1,ye&&e.flags&1048576&&p_(e,ba,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;na(t,e),t=e.pendingProps;var i=ls(e,qe.current);Fi(e,n),i=_h(null,e,r,t,i,n);var s=wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(s=!0,Ea(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ph(e),i.updater=gc,e.stateNode=i,i._reactInternals=e,Ad(e,r,t,n),e=Md(null,e,r,!0,s,n)):(e.tag=0,ye&&s&&lh(e),Je(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(na(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mb(r),t=jt(r,t),i){case 0:e=Od(null,e,r,t,n);break e;case 1:e=Vm(null,e,r,t,n);break e;case 11:e=Wm(null,e,r,t,n);break e;case 14:e=Hm(null,e,r,jt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jt(r,i),Od(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jt(r,i),Vm(t,e,r,i,n);case 3:e:{if(K_(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,w_(t,e),Na(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ds(Error(P(423)),e),e=Qm(t,e,r,n,i);break e}else if(r!==i){i=ds(Error(P(424)),e),e=Qm(t,e,r,n,i);break e}else for(yt=fr(e.stateNode.containerInfo.firstChild),_t=e,ye=!0,Bt=null,n=y_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===i){e=Pn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return x_(e),t===null&&Rd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sd(r,i)?o=null:s!==null&&Sd(r,s)&&(e.flags|=32),Q_(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&Rd(e),null;case 13:return G_(t,e,n);case 4:return mh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jt(r,i),Wm(t,e,r,i,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,he(Ta,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!dt.current){e=Pn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=bn(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pd(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fi(e,n),i=It(i),r=r(i),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,i=jt(r,e.pendingProps),i=jt(r.type,i),Hm(t,e,r,i,n);case 15:return H_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jt(r,i),na(t,e),e.tag=1,ft(r)?(t=!0,Ea(e)):t=!1,Fi(e,n),B_(e,r,i),Ad(e,r,i,n),Md(null,e,r,!0,t,n);case 19:return Y_(t,e,n);case 22:return V_(t,e,n)}throw Error(P(156,e.tag))};function dw(t,e){return jy(t,e)}function pb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new pb(t,e,n,r)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mb(t){if(typeof t=="function")return Ph(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yf)return 11;if(t===qf)return 14}return 2}function gr(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ph(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xi:return Xr(n.children,i,s,e);case Gf:o=8,i|=8;break;case nd:return t=Nt(12,n,e,i|2),t.elementType=nd,t.lanes=s,t;case rd:return t=Nt(13,n,e,i),t.elementType=rd,t.lanes=s,t;case id:return t=Nt(19,n,e,i),t.elementType=id,t.lanes=s,t;case xy:return _c(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _y:o=10;break e;case wy:o=9;break e;case Yf:o=11;break e;case qf:o=14;break e;case Gn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Nt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xr(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function _c(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=xy,t.lanes=n,t.stateNode={isHidden:!1},t}function Su(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function bu(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ih(t,e,n,r,i,s,o,l,a){return t=new gb(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(s),t}function vb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fw(t){if(!t)return Cr;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(ft(n))return f_(t,n,e)}return e}function hw(t,e,n,r,i,s,o,l,a){return t=Ih(n,r,!0,t,i,s,o,l,a),t.context=fw(null),n=t.current,r=tt(),i=mr(n),s=bn(r,i),s.callback=e??null,hr(n,s,i),t.current.lanes=i,il(t,i,r),ht(t,r),t}function wc(t,e,n,r){var i=e.current,s=tt(),o=mr(i);return n=fw(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hr(i,e,o),t!==null&&(Qt(t,i,o,s),Jl(t,i,o)),o}function La(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ng(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ah(t,e){ng(t,e),(t=t.alternate)&&ng(t,e)}function yb(){return null}var pw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dh(t){this._internalRoot=t}xc.prototype.render=Dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));wc(t,e,null,null)};xc.prototype.unmount=Dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){wc(null,t,null,null)}),e[Nn]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&Ky(t)}};function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rg(){}function _b(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=La(o);s.call(c)}}var o=hw(e,r,t,0,null,!1,!1,"",rg);return t._reactRootContainer=o,t[Nn]=o.current,No(t.nodeType===8?t.parentNode:t),ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=La(a);l.call(c)}}var a=Ih(t,0,!1,null,null,!1,!1,"",rg);return t._reactRootContainer=a,t[Nn]=a.current,No(t.nodeType===8?t.parentNode:t),ni(function(){wc(e,a,n,r)}),a}function Ec(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=La(o);l.call(a)}}wc(e,o,t,i)}else o=_b(n,e,t,i,r);return La(o)}Wy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Js(e.pendingLanes);n!==0&&(Jf(e,n|1),ht(e,Ne()),!(re&6)&&(fs=Ne()+500,Ar()))}break;case 13:ni(function(){var r=Rn(t,1);if(r!==null){var i=tt();Qt(r,t,1,i)}}),Ah(t,1)}};eh=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=tt();Qt(e,t,134217728,n)}Ah(t,134217728)}};Hy=function(t){if(t.tag===13){var e=mr(t),n=Rn(t,e);if(n!==null){var r=tt();Qt(n,t,e,r)}Ah(t,e)}};Vy=function(){return le};Qy=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};pd=function(t,e,n){switch(e){case"input":if(ld(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hc(r);if(!i)throw Error(P(90));Ey(r),ld(r,i)}}}break;case"textarea":by(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};Ay=kh;Dy=ni;var wb={usingClientEntryPoint:!1,Events:[ol,bi,hc,Py,Iy,kh]},Ws={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xb={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ly(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||yb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{cc=Ll.inject(xb),cn=Ll}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wb;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(e))throw Error(P(200));return vb(t,e,null,n)};Ct.createRoot=function(t,e){if(!Oh(t))throw Error(P(299));var n=!1,r="",i=pw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ih(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,No(t.nodeType===8?t.parentNode:t),new Dh(e)};Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Ly(e),t=t===null?null:t.stateNode,t};Ct.flushSync=function(t){return ni(t)};Ct.hydrate=function(t,e,n){if(!Cc(e))throw Error(P(200));return Ec(null,t,e,!0,n)};Ct.hydrateRoot=function(t,e,n){if(!Oh(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hw(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,No(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xc(e)};Ct.render=function(t,e,n){if(!Cc(e))throw Error(P(200));return Ec(null,t,e,!1,n)};Ct.unmountComponentAtNode=function(t){if(!Cc(t))throw Error(P(40));return t._reactRootContainer?(ni(function(){Ec(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Ct.unstable_batchedUpdates=kh;Ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cc(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Ec(t,e,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function mw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mw)}catch(t){console.error(t)}}mw(),my.exports=Ct;var al=my.exports;const Cb=ny(al);var gw,ig=al;gw=ig.createRoot,ig.hydrateRoot;function Eb(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],l="",a=t.split("/");for(a[0]||a.shift();i=a.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var vw={exports:{}},yw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=h;function Sb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bb=typeof Object.is=="function"?Object.is:Sb,Tb=hs.useState,kb=hs.useEffect,Nb=hs.useLayoutEffect,Rb=hs.useDebugValue;function Pb(t,e){var n=e(),r=Tb({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Nb(function(){i.value=n,i.getSnapshot=e,Tu(i)&&s({inst:i})},[t,n,e]),kb(function(){return Tu(i)&&s({inst:i}),t(function(){Tu(i)&&s({inst:i})})},[t]),Rb(n),n}function Tu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bb(t,n)}catch{return!0}}function Ib(t,e){return e()}var Ab=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ib:Pb;yw.useSyncExternalStore=hs.useSyncExternalStore!==void 0?hs.useSyncExternalStore:Ab;vw.exports=yw;var Db=vw.exports;const Ob=hy.useInsertionEffect,Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lb=Mb?h.useLayoutEffect:h.useEffect,Fb=Ob||Lb,_w=t=>{const e=h.useRef([t,(...n)=>e[0](...n)]).current;return Fb(()=>{e[0]=t}),e[1]},jb="popstate",Mh="pushState",Lh="replaceState",zb="hashchange",sg=[jb,Mh,Lh,zb],$b=t=>{for(const e of sg)addEventListener(e,t);return()=>{for(const e of sg)removeEventListener(e,t)}},ww=(t,e)=>Db.useSyncExternalStore($b,t,e),Bb=()=>location.search,Ub=({ssrSearch:t=""}={})=>ww(Bb,()=>t),og=()=>location.pathname,Wb=({ssrPath:t}={})=>ww(og,t?()=>t:og),Hb=(t,{replace:e=!1,state:n=null}={})=>history[e?Lh:Mh](n,"",t),Vb=(t={})=>[Wb(t),Hb],lg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lg]>"u"){for(const t of[Mh,Lh]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,lg,{value:!0})}const Qb=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",xw=(t="")=>t==="/"?"":t,Kb=(t,e)=>t[0]==="~"?t.slice(1):xw(e)+t,Gb=(t="",e)=>Qb(ag(xw(t)),ag(e)),ag=t=>{try{return decodeURI(t)}catch{return t}},Cw={hook:Vb,searchHook:Ub,parser:Eb,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Ew=h.createContext(Cw),Sc=()=>h.useContext(Ew),Sw={},bw=h.createContext(Sw),Yb=()=>h.useContext(bw),Fh=t=>{const[e,n]=t.hook(t);return[Gb(t.base,e),_w((r,i)=>n(Kb(r,t.base),i))]},Tw=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...a]=o;return l!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,f)=>[u,a[f]])):o.groups;let d={...a};return c&&Object.assign(d,c),d})(),...r?[l]:[]]:[!1,null]},qb=({children:t,...e})=>{var d,u;const n=Sc(),r=e.hook?Cw:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((u=e.hook)==null?void 0:u.hrefs);let l=h.useRef({}),a=l.current,c=a;for(let f in r){const p=f==="base"?r[f]+(e[f]||""):e[f]||r[f];a===c&&p!==c[f]&&(l.current=c={...c}),c[f]=p,p!==r[f]&&(i=c)}return h.createElement(Ew.Provider,{value:i,children:t})},cg=({children:t,component:e},n)=>e?h.createElement(e,{params:n}):typeof t=="function"?t(n):t,Xb=t=>{let e=h.useRef(Sw),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},ug=({path:t,nest:e,match:n,...r})=>{const i=Sc(),[s]=Fh(i),[o,l,a]=n??Tw(i.parser,t,s,e),c=Xb({...Yb(),...l});if(!o)return null;const d=a?h.createElement(qb,{base:a},cg(r,c)):cg(r,c);return h.createElement(bw.Provider,{value:c,children:d})};h.forwardRef((t,e)=>{const n=Sc(),[r,i]=Fh(n),{to:s="",href:o=s,onClick:l,asChild:a,children:c,className:d,replace:u,state:f,...p}=t,w=_w(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return a&&h.isValidElement(c)?h.cloneElement(c,{onClick:w,href:m}):h.createElement("a",{...p,onClick:w,href:m,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})});const kw=t=>Array.isArray(t)?t.flatMap(e=>kw(e&&e.type===h.Fragment?e.props.children:e)):[t],Zb=({children:t,location:e})=>{const n=Sc(),[r]=Fh(n);for(const i of kw(t)){let s=0;if(h.isValidElement(i)&&(s=Tw(n.parser,i.props.path,e||r,i.props.nest))[0])return h.cloneElement(i,{match:s})}return null};var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ri=typeof window>"u"||"Deno"in globalThis;function bt(){}function Jb(t,e){return typeof t=="function"?t(e):t}function Kd(t){return typeof t=="number"&&t>=0&&t!==1/0}function Nw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zi(t,e){return typeof t=="function"?t(e):t}function Ut(t,e){return typeof t=="function"?t(e):t}function dg(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==jh(o,e.options))return!1}else if(!jo(e.queryKey,o))return!1}if(n!=="all"){const a=e.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function fg(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Fo(e.options.mutationKey)!==Fo(s))return!1}else if(!jo(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function jh(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fo)(t)}function Fo(t){return JSON.stringify(t,(e,n)=>Yd(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function jo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!jo(t[n],e[n])):!1}function Rw(t,e){if(t===e)return t;const n=hg(t)&&hg(e);if(n||Yd(t)&&Yd(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let a=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,a++):(l[d]=Rw(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&a++)}return i===o&&a===i?t:l}return e}function Gd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yd(t){if(!pg(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pg(t){return Object.prototype.toString.call(t)==="[object Object]"}function eT(t){return new Promise(e=>{setTimeout(e,t)})}function qd(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Rw(t,e):e}function tT(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nT(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zh=Symbol();function Pw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wr,Zn,Ki,Kv,rT=(Kv=class extends cl{constructor(){super();V(this,Wr);V(this,Zn);V(this,Ki);j(this,Ki,e=>{if(!ri&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,Zn)||this.setEventListener(E(this,Ki))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Zn))==null||e.call(this),j(this,Zn,void 0))}setEventListener(e){var n;j(this,Ki,e),(n=E(this,Zn))==null||n.call(this),j(this,Zn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,Wr)!==e&&(j(this,Wr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,Wr)=="boolean"?E(this,Wr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wr=new WeakMap,Zn=new WeakMap,Ki=new WeakMap,Kv),$h=new rT,Gi,Jn,Yi,Gv,iT=(Gv=class extends cl{constructor(){super();V(this,Gi,!0);V(this,Jn);V(this,Yi);j(this,Yi,e=>{if(!ri&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Jn)||this.setEventListener(E(this,Yi))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Jn))==null||e.call(this),j(this,Jn,void 0))}setEventListener(e){var n;j(this,Yi,e),(n=E(this,Jn))==null||n.call(this),j(this,Jn,e(this.setOnline.bind(this)))}setOnline(e){E(this,Gi)!==e&&(j(this,Gi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,Gi)}},Gi=new WeakMap,Jn=new WeakMap,Yi=new WeakMap,Gv),Fa=new iT;function Xd(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function sT(t){return Math.min(1e3*2**t,3e4)}function Iw(t){return(t??"online")==="online"?Fa.isOnline():!0}var Aw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ku(t){return t instanceof Aw}function Dw(t){let e=!1,n=0,r=!1,i;const s=Xd(),o=m=>{var x;r||(f(new Aw(m)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},a=()=>{e=!1},c=()=>$h.isFocused()&&(t.networkMode==="always"||Fa.isOnline())&&t.canRun(),d=()=>Iw(t.networkMode)&&t.canRun(),u=m=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,m),i==null||i(),s.resolve(m))},f=m=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var x;i=y=>{(r||c())&&m(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),w=()=>{if(r)return;let m;const x=n===0?t.initialPromise:void 0;try{m=x??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(u).catch(y=>{var b;if(r)return;const v=t.retry??(ri?0:3),_=t.retryDelay??sT,C=typeof _=="function"?_(n,y):_,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!S){f(y);return}n++,(b=t.onFail)==null||b.call(t,n,y),eT(C).then(()=>c()?void 0:p()).then(()=>{e?f(y):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():p().then(w),s)}}function oT(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;e++;try{a=l()}finally{e--,e||o()}return a},batchCalls:l=>(...a)=>{s(()=>{l(...a)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var $e=oT(),Hr,Yv,Ow=(Yv=class{constructor(){V(this,Hr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kd(this.gcTime)&&j(this,Hr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ri?1/0:5*60*1e3))}clearGcTimeout(){E(this,Hr)&&(clearTimeout(E(this,Hr)),j(this,Hr,void 0))}},Hr=new WeakMap,Yv),qi,Xi,St,Ge,Jo,Vr,zt,gn,qv,lT=(qv=class extends Ow{constructor(e){super();V(this,zt);V(this,qi);V(this,Xi);V(this,St);V(this,Ge);V(this,Jo);V(this,Vr);j(this,Vr,!1),j(this,Jo,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,St,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,qi,aT(this.options)),this.state=e.state??E(this,qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,Ge))==null?void 0:e.promise}setOptions(e){this.options={...E(this,Jo),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,St).remove(this)}setData(e,n){const r=qd(this.state.data,e,this.options);return te(this,zt,gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){te(this,zt,gn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=E(this,Ge))==null?void 0:r.promise;return(i=E(this,Ge))==null||i.cancel(e),n?n.then(bt).catch(bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,qi))}isActive(){return this.observers.some(e=>Ut(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Nw(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,Ge))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,Ge))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,St).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,Ge)&&(E(this,Vr)?E(this,Ge).cancel({revert:!0}):E(this,Ge).cancelRetry()),this.scheduleGc()),E(this,St).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,zt,gn).call(this,{type:"invalidate"})}fetch(e,n){var a,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,Ge))return E(this,Ge).continueRetry(),E(this,Ge).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(j(this,Vr,!0),r.signal)})},s=()=>{const u=Pw(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),j(this,Vr,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(a=this.options.behavior)==null||a.onFetch(o,this),j(this,Xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&te(this,zt,gn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=u=>{var f,p,w,m;ku(u)&&u.silent||te(this,zt,gn).call(this,{type:"error",error:u}),ku(u)||((p=(f=E(this,St).config).onError)==null||p.call(f,u,this),(m=(w=E(this,St).config).onSettled)==null||m.call(w,this.state.data,u,this)),this.scheduleGc()};return j(this,Ge,Dw({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var f,p,w,m;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(x){l(x);return}(p=(f=E(this,St).config).onSuccess)==null||p.call(f,u,this),(m=(w=E(this,St).config).onSettled)==null||m.call(w,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,f)=>{te(this,zt,gn).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{te(this,zt,gn).call(this,{type:"pause"})},onContinue:()=>{te(this,zt,gn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),E(this,Ge).start()}},qi=new WeakMap,Xi=new WeakMap,St=new WeakMap,Ge=new WeakMap,Jo=new WeakMap,Vr=new WeakMap,zt=new WeakSet,gn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Mw(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ku(i)&&i.revert&&E(this,Xi)?{...E(this,Xi),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,St).notify({query:this,type:"updated",action:e})})},qv);function Mw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Iw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tn,Xv,cT=(Xv=class extends cl{constructor(e={}){super();V(this,tn);this.config=e,j(this,tn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??jh(i,n);let o=this.get(s);return o||(o=new lT({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){E(this,tn).has(e.queryHash)||(E(this,tn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,tn).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,tn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,tn).get(e)}getAll(){return[...E(this,tn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dg(e,r)):n}notify(e){$e.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tn=new WeakMap,Xv),nn,Xe,Qr,rn,Qn,Zv,uT=(Zv=class extends Ow{constructor(e){super();V(this,rn);V(this,nn);V(this,Xe);V(this,Qr);this.mutationId=e.mutationId,j(this,Xe,e.mutationCache),j(this,nn,[]),this.state=e.state||dT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,nn).includes(e)||(E(this,nn).push(e),this.clearGcTimeout(),E(this,Xe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,nn,E(this,nn).filter(n=>n!==e)),this.scheduleGc(),E(this,Xe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,nn).length||(this.state.status==="pending"?this.scheduleGc():E(this,Xe).remove(this))}continue(){var e;return((e=E(this,Qr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,l,a,c,d,u,f,p,w,m,x,y,v,_,C,S,b,T;j(this,Qr,Dw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,I)=>{te(this,rn,Qn).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{te(this,rn,Qn).call(this,{type:"pause"})},onContinue:()=>{te(this,rn,Qn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Xe).canRun(this)}));const n=this.state.status==="pending",r=!E(this,Qr).canStart();try{if(!n){te(this,rn,Qn).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=E(this,Xe).config).onMutate)==null?void 0:s.call(i,e,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));I!==this.state.context&&te(this,rn,Qn).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const k=await E(this,Qr).start();return await((c=(a=E(this,Xe).config).onSuccess)==null?void 0:c.call(a,k,e,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,k,e,this.state.context)),await((p=(f=E(this,Xe).config).onSettled)==null?void 0:p.call(f,k,null,this.state.variables,this.state.context,this)),await((m=(w=this.options).onSettled)==null?void 0:m.call(w,k,null,e,this.state.context)),te(this,rn,Qn).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(x=E(this,Xe).config).onError)==null?void 0:y.call(x,k,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,k,e,this.state.context)),await((S=(C=E(this,Xe).config).onSettled)==null?void 0:S.call(C,void 0,k,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,k,e,this.state.context)),k}finally{te(this,rn,Qn).call(this,{type:"error",error:k})}}finally{E(this,Xe).runNext(this)}}},nn=new WeakMap,Xe=new WeakMap,Qr=new WeakMap,rn=new WeakSet,Qn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{E(this,nn).forEach(r=>{r.onMutationUpdate(e)}),E(this,Xe).notify({mutation:this,type:"updated",action:e})})},Zv);function dT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mt,el,Jv,fT=(Jv=class extends cl{constructor(e={}){super();V(this,mt);V(this,el);this.config=e,j(this,mt,new Map),j(this,el,Date.now())}build(e,n,r){const i=new uT({mutationCache:this,mutationId:++_l(this,el)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Fl(e),r=E(this,mt).get(n)??[];r.push(e),E(this,mt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fl(e);if(E(this,mt).has(n)){const i=(r=E(this,mt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?E(this,mt).delete(n):E(this,mt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=E(this,mt).get(Fl(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=E(this,mt).get(Fl(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){$e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...E(this,mt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fg(n,r))}findAll(e={}){return this.getAll().filter(n=>fg(e,n))}notify(e){$e.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(e.map(n=>n.continue().catch(bt))))}},mt=new WeakMap,el=new WeakMap,Jv);function Fl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mg(t){return{onFetch:(e,n)=>{var d,u,f,p,w;const r=e.options,i=(f=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const c=async()=>{let m=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=Pw(e.options,e.fetchOptions),v=async(_,C,S)=>{if(m)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const b={queryKey:e.queryKey,pageParam:C,direction:S?"backward":"forward",meta:e.options.meta};x(b);const T=await y(b),{maxPages:k}=e.options,I=S?nT:tT;return{pages:I(_.pages,T,k),pageParams:I(_.pageParams,C,k)}};if(i&&s.length){const _=i==="backward",C=_?hT:gg,S={pages:s,pageParams:o},b=C(r,S);l=await v(S,b,_)}else{const _=t??s.length;do{const C=a===0?o[0]??r.initialPageParam:gg(r,l);if(a>0&&C==null)break;l=await v(l,C),a++}while(a<_)}return l};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function gg(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hT(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ee,er,tr,Zi,Ji,nr,es,ts,ey,pT=(ey=class{constructor(t={}){V(this,Ee);V(this,er);V(this,tr);V(this,Zi);V(this,Ji);V(this,nr);V(this,es);V(this,ts);j(this,Ee,t.queryCache||new cT),j(this,er,t.mutationCache||new fT),j(this,tr,t.defaultOptions||{}),j(this,Zi,new Map),j(this,Ji,new Map),j(this,nr,0)}mount(){_l(this,nr)._++,E(this,nr)===1&&(j(this,es,$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Ee).onFocus())})),j(this,ts,Fa.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Ee).onOnline())})))}unmount(){var t,e;_l(this,nr)._--,E(this,nr)===0&&((t=E(this,es))==null||t.call(this),j(this,es,void 0),(e=E(this,ts))==null||e.call(this),j(this,ts,void 0))}isFetching(t){return E(this,Ee).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,er).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,Ee).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=E(this,Ee).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(zi(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return E(this,Ee).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=E(this,Ee).get(r.queryHash),s=i==null?void 0:i.state.data,o=Jb(e,s);if(o!==void 0)return E(this,Ee).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return $e.batch(()=>E(this,Ee).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,Ee).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,Ee);$e.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,Ee),r={type:"active",...t};return $e.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=$e.batch(()=>E(this,Ee).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bt).catch(bt)}invalidateQueries(t={},e={}){return $e.batch(()=>{if(E(this,Ee).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=$e.batch(()=>E(this,Ee).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(bt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(bt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,Ee).build(this,e);return n.isStaleByTime(zi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bt).catch(bt)}fetchInfiniteQuery(t){return t.behavior=mg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bt).catch(bt)}ensureInfiniteQueryData(t){return t.behavior=mg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fa.isOnline()?E(this,er).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Ee)}getMutationCache(){return E(this,er)}getDefaultOptions(){return E(this,tr)}setDefaultOptions(t){j(this,tr,t)}setQueryDefaults(t,e){E(this,Zi).set(Fo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Zi).values()];let n={};return e.forEach(r=>{jo(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){E(this,Ji).set(Fo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Ji).values()];let n={};return e.forEach(r=>{jo(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,tr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,tr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,Ee).clear(),E(this,er).clear()}},Ee=new WeakMap,er=new WeakMap,tr=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,nr=new WeakMap,es=new WeakMap,ts=new WeakMap,ey),lt,ne,tl,Ze,Kr,ns,rr,sn,nl,rs,is,Gr,Yr,ir,ss,oe,to,Zd,Jd,ef,tf,nf,rf,sf,Lw,ty,mT=(ty=class extends cl{constructor(e,n){super();V(this,oe);V(this,lt);V(this,ne);V(this,tl);V(this,Ze);V(this,Kr);V(this,ns);V(this,rr);V(this,sn);V(this,nl);V(this,rs);V(this,is);V(this,Gr);V(this,Yr);V(this,ir);V(this,ss,new Set);this.options=n,j(this,lt,e),j(this,sn,null),j(this,rr,Xd()),this.options.experimental_prefetchInRender||E(this,rr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ne).addObserver(this),vg(E(this,ne),this.options)?te(this,oe,to).call(this):this.updateResult(),te(this,oe,tf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return of(E(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return of(E(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,te(this,oe,nf).call(this),te(this,oe,rf).call(this),E(this,ne).removeObserver(this)}setOptions(e,n){const r=this.options,i=E(this,ne);if(this.options=E(this,lt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ut(this.options.enabled,E(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");te(this,oe,sf).call(this),E(this,ne).setOptions(this.options),r._defaulted&&!Gd(this.options,r)&&E(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,ne),observer:this});const s=this.hasListeners();s&&yg(E(this,ne),i,this.options,r)&&te(this,oe,to).call(this),this.updateResult(n),s&&(E(this,ne)!==i||Ut(this.options.enabled,E(this,ne))!==Ut(r.enabled,E(this,ne))||zi(this.options.staleTime,E(this,ne))!==zi(r.staleTime,E(this,ne)))&&te(this,oe,Zd).call(this);const o=te(this,oe,Jd).call(this);s&&(E(this,ne)!==i||Ut(this.options.enabled,E(this,ne))!==Ut(r.enabled,E(this,ne))||o!==E(this,ir))&&te(this,oe,ef).call(this,o)}getOptimisticResult(e){const n=E(this,lt).getQueryCache().build(E(this,lt),e),r=this.createResult(n,e);return vT(this,r)&&(j(this,Ze,r),j(this,ns,this.options),j(this,Kr,E(this,ne).state)),r}getCurrentResult(){return E(this,Ze)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){E(this,ss).add(e)}getCurrentQuery(){return E(this,ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,lt).defaultQueryOptions(e),r=E(this,lt).getQueryCache().build(E(this,lt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return te(this,oe,to).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Ze)))}createResult(e,n){var k;const r=E(this,ne),i=this.options,s=E(this,Ze),o=E(this,Kr),l=E(this,ns),c=e!==r?e.state:E(this,tl),{state:d}=e;let u={...d},f=!1,p;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&vg(e,n),O=I&&yg(e,r,n,i);(R||O)&&(u={...u,...Mw(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:w,errorUpdatedAt:m,status:x}=u;if(n.select&&u.data!==void 0)if(s&&u.data===(o==null?void 0:o.data)&&n.select===E(this,nl))p=E(this,rs);else try{j(this,nl,n.select),p=n.select(u.data),p=qd(s==null?void 0:s.data,p,n),j(this,rs,p),j(this,sn,null)}catch(I){j(this,sn,I)}else p=u.data;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let I;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))I=s.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData((k=E(this,is))==null?void 0:k.state.data,E(this,is)):n.placeholderData,n.select&&I!==void 0)try{I=n.select(I),j(this,sn,null)}catch(R){j(this,sn,R)}I!==void 0&&(x="success",p=qd(s==null?void 0:s.data,I,n),f=!0)}E(this,sn)&&(w=E(this,sn),p=E(this,rs),m=Date.now(),x="error");const y=u.fetchStatus==="fetching",v=x==="pending",_=x==="error",C=v&&y,S=p!==void 0,T={status:x,fetchStatus:u.fetchStatus,isPending:v,isSuccess:x==="success",isError:_,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:u.dataUpdatedAt,error:w,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:_&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&S,isStale:Bh(e,n),refetch:this.refetch,promise:E(this,rr)};if(this.options.experimental_prefetchInRender){const I=M=>{T.status==="error"?M.reject(T.error):T.data!==void 0&&M.resolve(T.data)},R=()=>{const M=j(this,rr,T.promise=Xd());I(M)},O=E(this,rr);switch(O.status){case"pending":e.queryHash===r.queryHash&&I(O);break;case"fulfilled":(T.status==="error"||T.data!==O.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==O.reason)&&R();break}}return T}updateResult(e){const n=E(this,Ze),r=this.createResult(E(this,ne),this.options);if(j(this,Kr,E(this,ne).state),j(this,ns,this.options),E(this,Kr).data!==void 0&&j(this,is,E(this,ne)),Gd(r,n))return;j(this,Ze,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!E(this,ss).size)return!0;const a=new Set(l??E(this,ss));return this.options.throwOnError&&a.add("error"),Object.keys(E(this,Ze)).some(c=>{const d=c;return E(this,Ze)[d]!==n[d]&&a.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),te(this,oe,Lw).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&te(this,oe,tf).call(this)}},lt=new WeakMap,ne=new WeakMap,tl=new WeakMap,Ze=new WeakMap,Kr=new WeakMap,ns=new WeakMap,rr=new WeakMap,sn=new WeakMap,nl=new WeakMap,rs=new WeakMap,is=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,ir=new WeakMap,ss=new WeakMap,oe=new WeakSet,to=function(e){te(this,oe,sf).call(this);let n=E(this,ne).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(bt)),n},Zd=function(){te(this,oe,nf).call(this);const e=zi(this.options.staleTime,E(this,ne));if(ri||E(this,Ze).isStale||!Kd(e))return;const r=Nw(E(this,Ze).dataUpdatedAt,e)+1;j(this,Gr,setTimeout(()=>{E(this,Ze).isStale||this.updateResult()},r))},Jd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,ne)):this.options.refetchInterval)??!1},ef=function(e){te(this,oe,rf).call(this),j(this,ir,e),!(ri||Ut(this.options.enabled,E(this,ne))===!1||!Kd(E(this,ir))||E(this,ir)===0)&&j(this,Yr,setInterval(()=>{(this.options.refetchIntervalInBackground||$h.isFocused())&&te(this,oe,to).call(this)},E(this,ir)))},tf=function(){te(this,oe,Zd).call(this),te(this,oe,ef).call(this,te(this,oe,Jd).call(this))},nf=function(){E(this,Gr)&&(clearTimeout(E(this,Gr)),j(this,Gr,void 0))},rf=function(){E(this,Yr)&&(clearInterval(E(this,Yr)),j(this,Yr,void 0))},sf=function(){const e=E(this,lt).getQueryCache().build(E(this,lt),this.options);if(e===E(this,ne))return;const n=E(this,ne);j(this,ne,e),j(this,tl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Lw=function(e){$e.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,Ze))}),E(this,lt).getQueryCache().notify({query:E(this,ne),type:"observerResultsUpdated"})})},ty);function gT(t,e){return Ut(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function vg(t,e){return gT(t,e)||t.state.data!==void 0&&of(t,e,e.refetchOnMount)}function of(t,e,n){if(Ut(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Bh(t,e)}return!1}function yg(t,e,n,r){return(t!==e||Ut(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Bh(t,n)}function Bh(t,e){return Ut(e.enabled,t)!==!1&&t.isStaleByTime(zi(e.staleTime,t))}function vT(t,e){return!Gd(t.getCurrentResult(),e)}var Fw=h.createContext(void 0),yT=t=>{const e=h.useContext(Fw);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_T=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(Fw.Provider,{value:t,children:e})),jw=h.createContext(!1),wT=()=>h.useContext(jw);jw.Provider;function xT(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var CT=h.createContext(xT()),ET=()=>h.useContext(CT);function ST(t,e){return typeof t=="function"?t(...e):!!t}function _g(){}var bT=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},TT=t=>{h.useEffect(()=>{t.clearReset()},[t])},kT=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ST(n,[t.error,r]),NT=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},RT=(t,e)=>t.isLoading&&t.isFetching&&!e,PT=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wg=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function IT(t,e,n){var d,u,f,p,w;const r=yT(),i=wT(),s=ET(),o=r.defaultQueryOptions(t);(u=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||u.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",NT(o),bT(o,s),TT(s);const l=!r.getQueryCache().get(o.queryHash),[a]=h.useState(()=>new e(r,o)),c=a.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(m=>{const x=i?_g:a.subscribe($e.batchCalls(m));return a.updateResult(),x},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),h.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),PT(o,c))throw wg(o,a,s);if(kT({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,c),o.experimental_prefetchInRender&&!ri&&RT(c,i)){const m=l?wg(o,a,s):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;m==null||m.catch(_g).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?c:a.trackResult(c)}function AT(t,e){return IT(t,mT)}async function DT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const OT=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await DT(n),await n.json())},MT=new pT({defaultOptions:{queries:{queryFn:OT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,gcTime:1e3*60*60,retry:!1},mutations:{retry:!1}}}),LT=1,FT=1e6;let Nu=0;function jT(){return Nu=(Nu+1)%Number.MAX_SAFE_INTEGER,Nu.toString()}const Ru=new Map,xg=t=>{if(Ru.has(t))return;const e=setTimeout(()=>{Ru.delete(t),ho({type:"REMOVE_TOAST",toastId:t})},FT);Ru.set(t,e)},zT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?xg(n):t.toasts.forEach(r=>{xg(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},oa=[];let la={toasts:[]};function ho(t){la=zT(la,t),oa.forEach(e=>{e(la)})}function $T({...t}){const e=jT(),n=i=>ho({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ho({type:"DISMISS_TOAST",toastId:e});return ho({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bc(){const[t,e]=h.useState(la);return h.useEffect(()=>(oa.push(e),()=>{const n=oa.indexOf(e);n>-1&&oa.splice(n,1)}),[t]),{...t,toast:$T,dismiss:n=>ho({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Cg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zw(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Cg(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Cg(t[i],null)}}}}function ke(...t){return h.useCallback(zw(...t),t)}function BT(t,e){const n=h.createContext(e),r=s=>{const{children:o,...l}=s,a=h.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:a,children:o})};r.displayName=t+"Provider";function i(s){const o=h.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function di(t,e=[]){let n=[];function r(s,o){const l=h.createContext(o),a=n.length;n=[...n,o];const c=u=>{var y;const{scope:f,children:p,...w}=u,m=((y=f==null?void 0:f[t])==null?void 0:y[a])||l,x=h.useMemo(()=>w,Object.values(w));return g.jsx(m.Provider,{value:x,children:p})};c.displayName=s+"Provider";function d(u,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[a])||l,w=h.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>h.createContext(o));return function(l){const a=(l==null?void 0:l[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[r,UT(i,...e)]}function UT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:a,scopeName:c})=>{const u=a(s)[`__scope${c}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zo(t){const e=HT(t),n=h.forwardRef((r,i)=>{const{children:s,...o}=r,l=h.Children.toArray(s),a=l.find(VT);if(a){const c=a.props.children,d=l.map(u=>u===a?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:u);return g.jsx(e,{...o,ref:i,children:h.isValidElement(c)?h.cloneElement(c,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var WT=zo("Slot");function HT(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const o=KT(i),l=QT(s,i.props);return i.type!==h.Fragment&&(l.ref=r?zw(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $w=Symbol("radix.slottable");function Bw(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$w,e}function VT(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$w}function QT(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function KT(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uw(t){const e=t+"CollectionProvider",[n,r]=di(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:y}=m,v=Vn.useRef(null),_=Vn.useRef(new Map).current;return g.jsx(i,{scope:x,itemMap:_,collectionRef:v,children:y})};o.displayName=e;const l=t+"CollectionSlot",a=zo(l),c=Vn.forwardRef((m,x)=>{const{scope:y,children:v}=m,_=s(l,y),C=ke(x,_.collectionRef);return g.jsx(a,{ref:C,children:v})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",f=zo(d),p=Vn.forwardRef((m,x)=>{const{scope:y,children:v,..._}=m,C=Vn.useRef(null),S=ke(x,C),b=s(d,y);return Vn.useEffect(()=>(b.itemMap.set(C,{ref:C,..._}),()=>void b.itemMap.delete(C))),g.jsx(f,{[u]:"",ref:S,children:v})});p.displayName=d;function w(m){const x=s(t+"CollectionConsumer",m);return Vn.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,T)=>_.indexOf(b.ref.current)-_.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},w,r]}var GT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=GT.reduce((t,e)=>{const n=zo(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:o,...l}=i,a=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ww(t,e){t&&al.flushSync(()=>t.dispatchEvent(e))}function Dt(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YT(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qT="DismissableLayer",lf="dismissableLayer.update",XT="dismissableLayer.pointerDownOutside",ZT="dismissableLayer.focusOutside",Eg,Hw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tc=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...a}=t,c=h.useContext(Hw),[d,u]=h.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),w=ke(e,T=>u(T)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(x),v=d?m.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=y,S=ek(T=>{const k=T.target,I=[...c.branches].some(R=>R.contains(k));!C||I||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},f),b=tk(T=>{const k=T.target;[...c.branches].some(R=>R.contains(k))||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},f);return YT(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},f),h.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Eg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Sg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Eg)}},[d,f,n,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Sg())},[d,c]),h.useEffect(()=>{const T=()=>p({});return document.addEventListener(lf,T),()=>document.removeEventListener(lf,T)},[]),g.jsx(_e.div,{...a,ref:w,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,b.onFocusCapture),onBlurCapture:se(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,S.onPointerDownCapture)})});Tc.displayName=qT;var JT="DismissableLayerBranch",Vw=h.forwardRef((t,e)=>{const n=h.useContext(Hw),r=h.useRef(null),i=ke(e,r);return h.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(_e.div,{...t,ref:i})});Vw.displayName=JT;function ek(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let a=function(){Qw(XT,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tk(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&Qw(ZT,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Sg(){const t=new CustomEvent(lf);document.dispatchEvent(t)}function Qw(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ww(i,s):i.dispatchEvent(s)}var nk=Tc,rk=Vw,Er=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},ik="Portal",Uh=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=h.useState(!1);Er(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Cb.createPortal(g.jsx(_e.div,{...r,ref:e}),o):null});Uh.displayName=ik;function sk(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var bs=t=>{const{present:e,children:n}=t,r=ok(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=ke(r.ref,lk(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};bs.displayName="Presence";function ok(t){const[e,n]=h.useState(),r=h.useRef({}),i=h.useRef(t),s=h.useRef("none"),o=t?"mounted":"unmounted",[l,a]=sk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=jl(r.current);s.current=l==="mounted"?c:"none"},[l]),Er(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,p=jl(c);t?a("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?a("UNMOUNT"):a(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,a]),Er(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=p=>{const m=jl(r.current).includes(p.animationName);if(p.target===e&&m&&(a("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=p=>{p.target===e&&(s.current=jl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function jl(t){return(t==null?void 0:t.animationName)||"none"}function lk(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=ak({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=Dt(n),a=h.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&l(u)}else i(c)},[s,t,i,l]);return[o,a]}function ak({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,i=h.useRef(r),s=Dt(e);return h.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var ck="VisuallyHidden",kc=h.forwardRef((t,e)=>g.jsx(_e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kc.displayName=ck;var uk=kc,Hh="ToastProvider",[Vh,dk,fk]=Uw("Toast"),[Kw,bL]=di("Toast",[fk]),[hk,Nc]=Kw(Hh),Gw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,a]=h.useState(null),[c,d]=h.useState(0),u=h.useRef(!1),f=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hh}\`. Expected non-empty \`string\`.`),g.jsx(Vh.Provider,{scope:e,children:g.jsx(hk,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:l,onViewportChange:a,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};Gw.displayName=Hh;var Yw="ToastViewport",pk=["F8"],af="toast.viewportPause",cf="toast.viewportResume",qw=h.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=pk,label:i="Notifications ({hotkey})",...s}=t,o=Nc(Yw,n),l=dk(n),a=h.useRef(null),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=ke(e,u,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;h.useEffect(()=>{const x=y=>{var _;r.length!==0&&r.every(C=>y[C]||y.code===C)&&((_=u.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),h.useEffect(()=>{const x=a.current,y=u.current;if(w&&x&&y){const v=()=>{if(!o.isClosePausedRef.current){const b=new CustomEvent(af);y.dispatchEvent(b),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const b=new CustomEvent(cf);y.dispatchEvent(b),o.isClosePausedRef.current=!1}},C=b=>{!x.contains(b.relatedTarget)&&_()},S=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",v),x.addEventListener("focusout",C),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[w,o.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:x})=>{const v=l().map(_=>{const C=_.ref.current,S=[C,...kk(C)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const x=u.current;if(x){const y=v=>{var S,b,T;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const k=document.activeElement,I=v.shiftKey;if(v.target===x&&I){(S=c.current)==null||S.focus();return}const M=m({tabbingDirection:I?"backwards":"forwards"}),Q=M.findIndex(D=>D===k);Pu(M.slice(Q+1))?v.preventDefault():I?(b=c.current)==null||b.focus():(T=d.current)==null||T.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,m]),g.jsxs(rk,{ref:a,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&g.jsx(uf,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});Pu(x)}}),g.jsx(Vh.Slot,{scope:n,children:g.jsx(_e.ol,{tabIndex:-1,...s,ref:f})}),w&&g.jsx(uf,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});Pu(x)}})]})});qw.displayName=Yw;var Xw="ToastFocusProxy",uf=h.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Nc(Xw,n);return g.jsx(kc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(l))&&r()}})});uf.displayName=Xw;var Rc="Toast",mk="toast.swipeStart",gk="toast.swipeMove",vk="toast.swipeCancel",yk="toast.swipeEnd",Zw=h.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l=!0,a]=Wh({prop:r,defaultProp:i,onChange:s});return g.jsx(bs,{present:n||l,children:g.jsx(xk,{open:l,...o,ref:e,onClose:()=>a(!1),onPause:Dt(t.onPause),onResume:Dt(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),a(!1)})})})});Zw.displayName=Rc;var[_k,wk]=Kw(Rc,{onClose(){}}),xk=h.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:a,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:p,...w}=t,m=Nc(Rc,n),[x,y]=h.useState(null),v=ke(e,D=>y(D)),_=h.useRef(null),C=h.useRef(null),S=i||m.duration,b=h.useRef(0),T=h.useRef(S),k=h.useRef(0),{onToastAdd:I,onToastRemove:R}=m,O=Dt(()=>{var Y;(x==null?void 0:x.contains(document.activeElement))&&((Y=m.viewport)==null||Y.focus()),o()}),M=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(k.current),b.current=new Date().getTime(),k.current=window.setTimeout(O,D))},[O]);h.useEffect(()=>{const D=m.viewport;if(D){const Y=()=>{M(T.current),c==null||c()},$=()=>{const B=new Date().getTime()-b.current;T.current=T.current-B,window.clearTimeout(k.current),a==null||a()};return D.addEventListener(af,$),D.addEventListener(cf,Y),()=>{D.removeEventListener(af,$),D.removeEventListener(cf,Y)}}},[m.viewport,S,a,c,M]),h.useEffect(()=>{s&&!m.isClosePausedRef.current&&M(S)},[s,S,m.isClosePausedRef,M]),h.useEffect(()=>(I(),()=>R()),[I,R]);const Q=h.useMemo(()=>x?s0(x):null,[x]);return m.viewport?g.jsxs(g.Fragment,{children:[Q&&g.jsx(Ck,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),g.jsx(_k,{scope:n,onClose:O,children:al.createPortal(g.jsx(Vh.ItemSlot,{scope:n,children:g.jsx(nk,{asChild:!0,onEscapeKeyDown:se(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:se(t.onPointerDown,D=>{D.button===0&&(_.current={x:D.clientX,y:D.clientY})}),onPointerMove:se(t.onPointerMove,D=>{if(!_.current)return;const Y=D.clientX-_.current.x,$=D.clientY-_.current.y,B=!!C.current,N=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,z=N?L(0,Y):0,K=N?0:L(0,$),ce=D.pointerType==="touch"?10:2,pt={x:z,y:K},st={originalEvent:D,delta:pt};B?(C.current=pt,zl(gk,u,st,{discrete:!1})):bg(pt,m.swipeDirection,ce)?(C.current=pt,zl(mk,d,st,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(Y)>ce||Math.abs($)>ce)&&(_.current=null)}),onPointerUp:se(t.onPointerUp,D=>{const Y=C.current,$=D.target;if($.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),C.current=null,_.current=null,Y){const B=D.currentTarget,N={originalEvent:D,delta:Y};bg(Y,m.swipeDirection,m.swipeThreshold)?zl(yk,p,N,{discrete:!0}):zl(vk,f,N,{discrete:!0}),B.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Ck=t=>{const{__scopeToast:e,children:n,...r}=t,i=Nc(Rc,e),[s,o]=h.useState(!1),[l,a]=h.useState(!1);return bk(()=>o(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:g.jsx(Uh,{asChild:!0,children:g.jsx(kc,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},Ek="ToastTitle",Jw=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(_e.div,{...r,ref:e})});Jw.displayName=Ek;var Sk="ToastDescription",e0=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(_e.div,{...r,ref:e})});e0.displayName=Sk;var t0="ToastAction",n0=h.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(i0,{altText:n,asChild:!0,children:g.jsx(Qh,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${t0}\`. Expected non-empty \`string\`.`),null)});n0.displayName=t0;var r0="ToastClose",Qh=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=wk(r0,n);return g.jsx(i0,{asChild:!0,children:g.jsx(_e.button,{type:"button",...r,ref:e,onClick:se(t.onClick,i.onClose)})})});Qh.displayName=r0;var i0=h.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function s0(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Tk(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...s0(r))}}),e}function zl(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ww(i,s):i.dispatchEvent(s)}var bg=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function bk(t=()=>{}){const e=Dt(t);Er(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Tk(t){return t.nodeType===t.ELEMENT_NODE}function kk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Nk=Gw,o0=qw,l0=Zw,a0=Jw,c0=e0,u0=n0,d0=Qh;function f0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=f0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function h0(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=f0(t))&&(r&&(r+=" "),r+=e);return r}const Tg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kg=h0,Kh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return kg(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const f=Tg(d)||Tg(u);return i[c][f]}),l=n&&Object.entries(n).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),a=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...p}=d;return Object.entries(p).every(w=>{let[m,x]=w;return Array.isArray(x)?x.includes({...s,...l}[m]):{...s,...l}[m]===x})?[...c,u,f]:c},[]);return kg(t,o,a,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p0=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},a)=>h.createElement("svg",{ref:a,...Pk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p0("lucide",i),...l},[...o.map(([c,d])=>h.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=h.forwardRef(({className:r,...i},s)=>h.createElement(Ik,{ref:s,iconNode:e,className:p0(`lucide-${Rk(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Oe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Oe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Oe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Oe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Oe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Oe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Oe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qh="-",Kk=t=>{const e=Yk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(qh);return l[0]===""&&l.length!==1&&l.shift(),m0(l,e)||Gk(o)},getConflictingClassGroupIds:(o,l)=>{const a=n[o]||[];return l&&r[o]?[...a,...r[o]]:a}}},m0=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?m0(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qh);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Rg=/^\[(.+)\]$/,Gk=t=>{if(Rg.test(t)){const e=Rg.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Yk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Xk(Object.entries(t.classGroups),n).forEach(([s,o])=>{ff(o,r,s,e)}),r},ff=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Pg(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(qk(i)){ff(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ff(o,Pg(e,s),n,r)})})},Pg=(t,e)=>{let n=t;return e.split(qh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qk=t=>t.isThemeGetter,Xk=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,Zk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},g0="!",Jk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const a=[];let c=0,d=0,u;for(let x=0;x<l.length;x++){let y=l[x];if(c===0){if(y===i&&(r||l.slice(x,x+s)===e)){a.push(l.slice(d,x)),d=x+s;continue}if(y==="/"){u=x;continue}}y==="["?c++:y==="]"&&c--}const f=a.length===0?l:l.substring(d),p=f.startsWith(g0),w=p?f.substring(1):f,m=u&&u>d?u-d:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},eN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tN=t=>({cache:Zk(t.cacheSize),parseClassName:Jk(t),...Kk(t)}),nN=/\s+/,rN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(nN);let l="";for(let a=o.length-1;a>=0;a-=1){const c=o[a],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let w=!!p,m=r(w?f.substring(0,p):f);if(!m){if(!w){l=c+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=c+(l.length>0?" "+l:l);continue}w=!1}const x=eN(d).join(":"),y=u?x+g0:x,v=y+m;if(s.includes(v))continue;s.push(v);const _=i(m,w);for(let C=0;C<_.length;++C){const S=_[C];s.push(y+S)}l=c+(l.length>0?" "+l:l)}return l};function iN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=v0(e))&&(r&&(r+=" "),r+=n);return r}const v0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=v0(t[r]))&&(n&&(n+=" "),n+=e);return n};function sN(t,...e){let n,r,i,s=o;function o(a){const c=e.reduce((d,u)=>u(d),t());return n=tN(c),r=n.cache.get,i=n.cache.set,s=l,l(a)}function l(a){const c=r(a);if(c)return c;const d=rN(a,n);return i(a,d),d}return function(){return s(iN.apply(null,arguments))}}const pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},y0=/^\[(?:([a-z-]+):)?(.+)\]$/i,oN=/^\d+\/\d+$/,lN=new Set(["px","full","screen"]),aN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=t=>$i(t)||lN.has(t)||oN.test(t),Wn=t=>Ts(t,"length",wN),$i=t=>!!t&&!Number.isNaN(Number(t)),Iu=t=>Ts(t,"number",$i),Hs=t=>!!t&&Number.isInteger(Number(t)),hN=t=>t.endsWith("%")&&$i(t.slice(0,-1)),G=t=>y0.test(t),Hn=t=>aN.test(t),pN=new Set(["length","size","percentage"]),mN=t=>Ts(t,pN,_0),gN=t=>Ts(t,"position",_0),vN=new Set(["image","url"]),yN=t=>Ts(t,vN,CN),_N=t=>Ts(t,"",xN),Vs=()=>!0,Ts=(t,e,n)=>{const r=y0.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wN=t=>cN.test(t)&&!uN.test(t),_0=()=>!1,xN=t=>dN.test(t),CN=t=>fN.test(t),EN=()=>{const t=pe("colors"),e=pe("spacing"),n=pe("blur"),r=pe("brightness"),i=pe("borderColor"),s=pe("borderRadius"),o=pe("borderSpacing"),l=pe("borderWidth"),a=pe("contrast"),c=pe("grayscale"),d=pe("hueRotate"),u=pe("invert"),f=pe("gap"),p=pe("gradientColorStops"),w=pe("gradientColorStopPositions"),m=pe("inset"),x=pe("margin"),y=pe("opacity"),v=pe("padding"),_=pe("saturate"),C=pe("scale"),S=pe("sepia"),b=pe("skew"),T=pe("space"),k=pe("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",G,e],M=()=>[G,e],Q=()=>["",mn,Wn],D=()=>["auto",$i,G],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",G],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[$i,G];return{cacheSize:500,separator:":",theme:{colors:[Vs],spacing:[mn,Wn],blur:["none","",Hn,G],brightness:K(),borderColor:[t],borderRadius:["none","","full",Hn,G],borderSpacing:M(),borderWidth:Q(),contrast:K(),grayscale:L(),hueRotate:K(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[hN,Wn],inset:O(),margin:O(),opacity:K(),padding:M(),saturate:K(),scale:K(),sepia:L(),skew:K(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Hn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),G]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hs,G]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Hs,G]}],"grid-cols":[{"grid-cols":[Vs]}],"col-start-end":[{col:["auto",{span:["full",Hs,G]},G]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Vs]}],"row-start-end":[{row:["auto",{span:[Hs,G]},G]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,e]}],"min-w":[{"min-w":[G,e,"min","max","fit"]}],"max-w":[{"max-w":[G,e,"none","full","min","max","fit","prose",{screen:[Hn]},Hn]}],h:[{h:[G,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hn,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iu]}],"font-family":[{font:[Vs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",$i,Iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Wn]}],"underline-offset":[{"underline-offset":["auto",mn,G]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),gN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[mn,G]}],"outline-w":[{outline:[mn,Wn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[mn,Wn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hn,_N]}],"shadow-color":[{shadow:[Vs]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Hn,G]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Hs,G]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mn,Wn,Iu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SN=sN(EN);function ve(...t){return SN(h0(t))}const bN=Nk,w0=h.forwardRef(({className:t,...e},n)=>g.jsx(o0,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));w0.displayName=o0.displayName;const TN=Kh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x0=h.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(l0,{ref:r,className:ve(TN({variant:e}),t),...n}));x0.displayName=l0.displayName;const kN=h.forwardRef(({className:t,...e},n)=>g.jsx(u0,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kN.displayName=u0.displayName;const C0=h.forwardRef(({className:t,...e},n)=>g.jsx(d0,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Qk,{className:"h-4 w-4"})}));C0.displayName=d0.displayName;const E0=h.forwardRef(({className:t,...e},n)=>g.jsx(a0,{ref:n,className:ve("text-sm font-semibold",t),...e}));E0.displayName=a0.displayName;const S0=h.forwardRef(({className:t,...e},n)=>g.jsx(c0,{ref:n,className:ve("text-sm opacity-90",t),...e}));S0.displayName=c0.displayName;function NN(){const{toasts:t}=bc();return g.jsxs(bN,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return g.jsxs(x0,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(E0,{children:n}),r&&g.jsx(S0,{children:r})]}),i,g.jsx(C0,{})]},e)}),g.jsx(w0,{})]})}var RN=hy[" useId ".trim().toString()]||(()=>{}),PN=0;function Au(t){const[e,n]=h.useState(RN());return Er(()=>{t||n(r=>r??String(PN++))},[t]),t||(e?`radix-${e}`:"")}const IN=["top","right","bottom","left"],Sr=Math.min,vt=Math.max,ja=Math.round,$l=Math.floor,dn=t=>({x:t,y:t}),AN={left:"right",right:"left",bottom:"top",top:"bottom"},DN={start:"end",end:"start"};function hf(t,e,n){return vt(t,Sr(e,n))}function In(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function ks(t){return t.split("-")[1]}function Xh(t){return t==="x"?"y":"x"}function Zh(t){return t==="y"?"height":"width"}function br(t){return["top","bottom"].includes(An(t))?"y":"x"}function Jh(t){return Xh(br(t))}function ON(t,e,n){n===void 0&&(n=!1);const r=ks(t),i=Jh(t),s=Zh(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=za(o)),[o,za(o)]}function MN(t){const e=za(t);return[pf(t),e,pf(e)]}function pf(t){return t.replace(/start|end/g,e=>DN[e])}function LN(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function FN(t,e,n,r){const i=ks(t);let s=LN(An(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(pf)))),s}function za(t){return t.replace(/left|right|bottom|top/g,e=>AN[e])}function jN(t){return{top:0,right:0,bottom:0,left:0,...t}}function b0(t){return typeof t!="number"?jN(t):{top:t,right:t,bottom:t,left:t}}function $a(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ig(t,e,n){let{reference:r,floating:i}=t;const s=br(e),o=Jh(e),l=Zh(o),a=An(e),c=s==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let p;switch(a){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(ks(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const zN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:u}=Ig(c,r,a),f=r,p={},w=0;for(let m=0;m<l.length;m++){const{name:x,fn:y}=l[m],{x:v,y:_,data:C,reset:S}=await y({x:d,y:u,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,u=_??u,p={...p,[x]:{...p[x],...C}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:u}=Ig(c,f,a)),m=-1)}return{x:d,y:u,placement:f,strategy:i,middlewareData:p}};async function $o(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=In(e,t),w=b0(p),x=l[f?u==="floating"?"reference":"floating":u],y=$a(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:a})),v=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=$a(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:a}):v);return{top:(y.top-S.top+w.top)/C.y,bottom:(S.bottom-y.bottom+w.bottom)/C.y,left:(y.left-S.left+w.left)/C.x,right:(S.right-y.right+w.right)/C.x}}const $N=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:a}=e,{element:c,padding:d=0}=In(t,e)||{};if(c==null)return{};const u=b0(d),f={x:n,y:r},p=Jh(i),w=Zh(p),m=await o.getDimensions(c),x=p==="y",y=x?"top":"left",v=x?"bottom":"right",_=x?"clientHeight":"clientWidth",C=s.reference[w]+s.reference[p]-f[p]-s.floating[w],S=f[p]-s.reference[p],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=b?b[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(b)))&&(T=l.floating[_]||s.floating[w]);const k=C/2-S/2,I=T/2-m[w]/2-1,R=Sr(u[y],I),O=Sr(u[v],I),M=R,Q=T-m[w]-O,D=T/2-m[w]/2+k,Y=hf(M,D,Q),$=!a.arrow&&ks(i)!=null&&D!==Y&&s.reference[w]/2-(D<M?R:O)-m[w]/2<0,B=$?D<M?D-M:D-Q:0;return{[p]:f[p]+B,data:{[p]:Y,centerOffset:D-Y-B,...$&&{alignmentOffset:B}},reset:$}}}),BN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,...x}=In(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=An(i),v=br(l),_=An(l)===l,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),S=f||(_||!m?[za(l)]:MN(l)),b=w!=="none";!f&&b&&S.push(...FN(l,m,w,C));const T=[l,...S],k=await $o(e,x),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(k[y]),u){const D=ON(i,o,C);I.push(k[D[0]],k[D[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(D=>D<=0)){var O,M;const D=(((O=s.flip)==null?void 0:O.index)||0)+1,Y=T[D];if(Y)return{data:{index:D,overflows:R},reset:{placement:Y}};let $=(M=R.filter(B=>B.overflows[0]<=0).sort((B,N)=>B.overflows[1]-N.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(p){case"bestFit":{var Q;const B=(Q=R.filter(N=>{if(b){const L=br(N.placement);return L===v||L==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((N,L)=>N[1]-L[1])[0])==null?void 0:Q[0];B&&($=B);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Ag(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dg(t){return IN.some(e=>t[e]>=0)}const UN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=In(t,e);switch(r){case"referenceHidden":{const s=await $o(e,{...i,elementContext:"reference"}),o=Ag(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dg(o)}}}case"escaped":{const s=await $o(e,{...i,altBoundary:!0}),o=Ag(s,n.floating);return{data:{escapedOffsets:o,escaped:Dg(o)}}}default:return{}}}}};async function WN(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=An(n),l=ks(n),a=br(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&a?-1:1,u=In(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),a?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const HN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,a=await WN(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},VN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...a}=In(t,e),c={x:n,y:r},d=await $o(e,a),u=br(An(i)),f=Xh(u);let p=c[f],w=c[u];if(s){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+d[x],_=p-d[y];p=hf(v,p,_)}if(o){const x=u==="y"?"top":"left",y=u==="y"?"bottom":"right",v=w+d[x],_=w-d[y];w=hf(v,w,_)}const m=l.fn({...e,[f]:p,[u]:w});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:s,[u]:o}}}}}},QN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=In(t,e),d={x:n,y:r},u=br(i),f=Xh(u);let p=d[f],w=d[u];const m=In(l,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(a){const _=f==="y"?"height":"width",C=s.reference[f]-s.floating[_]+x.mainAxis,S=s.reference[f]+s.reference[_]-x.mainAxis;p<C?p=C:p>S&&(p=S)}if(c){var y,v;const _=f==="y"?"width":"height",C=["top","left"].includes(An(i)),S=s.reference[u]-s.floating[_]+(C&&((y=o.offset)==null?void 0:y[u])||0)+(C?0:x.crossAxis),b=s.reference[u]+s.reference[_]+(C?0:((v=o.offset)==null?void 0:v[u])||0)-(C?x.crossAxis:0);w<S?w=S:w>b&&(w=b)}return{[f]:p,[u]:w}}}},KN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:a=()=>{},...c}=In(t,e),d=await $o(e,c),u=An(i),f=ks(i),p=br(i)==="y",{width:w,height:m}=s.floating;let x,y;u==="top"||u==="bottom"?(x=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,x=f==="end"?"top":"bottom");const v=m-d.top-d.bottom,_=w-d.left-d.right,C=Sr(m-d[x],v),S=Sr(w-d[y],_),b=!e.middlewareData.shift;let T=C,k=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),b&&!f){const R=vt(d.left,0),O=vt(d.right,0),M=vt(d.top,0),Q=vt(d.bottom,0);p?k=w-2*(R!==0||O!==0?R+O:vt(d.left,d.right)):T=m-2*(M!==0||Q!==0?M+Q:vt(d.top,d.bottom))}await a({...e,availableWidth:k,availableHeight:T});const I=await o.getDimensions(l.floating);return w!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Pc(){return typeof window<"u"}function Ns(t){return T0(t)?(t.nodeName||"").toLowerCase():"#document"}function wt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hn(t){var e;return(e=(T0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function T0(t){return Pc()?t instanceof Node||t instanceof wt(t).Node:!1}function Yt(t){return Pc()?t instanceof Element||t instanceof wt(t).Element:!1}function fn(t){return Pc()?t instanceof HTMLElement||t instanceof wt(t).HTMLElement:!1}function Og(t){return!Pc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wt(t).ShadowRoot}function ul(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function GN(t){return["table","td","th"].includes(Ns(t))}function Ic(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ep(t){const e=tp(),n=Yt(t)?qt(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YN(t){let e=Tr(t);for(;fn(e)&&!ps(e);){if(ep(e))return e;if(Ic(e))return null;e=Tr(e)}return null}function tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ps(t){return["html","body","#document"].includes(Ns(t))}function qt(t){return wt(t).getComputedStyle(t)}function Ac(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tr(t){if(Ns(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Og(t)&&t.host||hn(t);return Og(e)?e.host:e}function k0(t){const e=Tr(t);return ps(e)?t.ownerDocument?t.ownerDocument.body:t.body:fn(e)&&ul(e)?e:k0(e)}function Bo(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=k0(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=wt(i);if(s){const l=mf(o);return e.concat(o,o.visualViewport||[],ul(i)?i:[],l&&n?Bo(l):[])}return e.concat(i,Bo(i,[],n))}function mf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function N0(t){const e=qt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=ja(n)!==s||ja(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function np(t){return Yt(t)?t:t.contextElement}function Bi(t){const e=np(t);if(!fn(e))return dn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=N0(e);let o=(s?ja(n.width):n.width)/r,l=(s?ja(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qN=dn(0);function R0(t){const e=wt(t);return!tp()||!e.visualViewport?qN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wt(t)?!1:e}function ii(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=np(t);let o=dn(1);e&&(r?Yt(r)&&(o=Bi(r)):o=Bi(t));const l=XN(s,n,r)?R0(s):dn(0);let a=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,d=i.width/o.x,u=i.height/o.y;if(s){const f=wt(s),p=r&&Yt(r)?wt(r):r;let w=f,m=mf(w);for(;m&&r&&p!==w;){const x=Bi(m),y=m.getBoundingClientRect(),v=qt(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*x.x,C=y.top+(m.clientTop+parseFloat(v.paddingTop))*x.y;a*=x.x,c*=x.y,d*=x.x,u*=x.y,a+=_,c+=C,w=wt(m),m=mf(w)}}return $a({width:d,height:u,x:a,y:c})}function rp(t,e){const n=Ac(t).scrollLeft;return e?e.left+n:ii(hn(t)).left+n}function P0(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:rp(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function ZN(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=hn(r),l=e?Ic(e.floating):!1;if(r===o||l&&s)return n;let a={scrollLeft:0,scrollTop:0},c=dn(1);const d=dn(0),u=fn(r);if((u||!u&&!s)&&((Ns(r)!=="body"||ul(o))&&(a=Ac(r)),fn(r))){const p=ii(r);c=Bi(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!u&&!s?P0(o,a,!0):dn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-a.scrollTop*c.y+d.y+f.y}}function JN(t){return Array.from(t.getClientRects())}function eR(t){const e=hn(t),n=Ac(t),r=t.ownerDocument.body,i=vt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=vt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rp(t);const l=-n.scrollTop;return qt(r).direction==="rtl"&&(o+=vt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function tR(t,e){const n=wt(t),r=hn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,a=0;if(i){s=i.width,o=i.height;const c=tp();(!c||c&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:l,y:a}}function nR(t,e){const n=ii(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=fn(t)?Bi(t):dn(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,a=i*s.x,c=r*s.y;return{width:o,height:l,x:a,y:c}}function Mg(t,e,n){let r;if(e==="viewport")r=tR(t,n);else if(e==="document")r=eR(hn(t));else if(Yt(e))r=nR(e,n);else{const i=R0(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $a(r)}function I0(t,e){const n=Tr(t);return n===e||!Yt(n)||ps(n)?!1:qt(n).position==="fixed"||I0(n,e)}function rR(t,e){const n=e.get(t);if(n)return n;let r=Bo(t,[],!1).filter(l=>Yt(l)&&Ns(l)!=="body"),i=null;const s=qt(t).position==="fixed";let o=s?Tr(t):t;for(;Yt(o)&&!ps(o);){const l=qt(o),a=ep(o);!a&&l.position==="fixed"&&(i=null),(s?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ul(o)&&!a&&I0(t,o))?r=r.filter(d=>d!==o):i=l,o=Tr(o)}return e.set(t,r),r}function iR(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ic(e)?[]:rR(e,this._c):[].concat(n),r],l=o[0],a=o.reduce((c,d)=>{const u=Mg(e,d,i);return c.top=vt(u.top,c.top),c.right=Sr(u.right,c.right),c.bottom=Sr(u.bottom,c.bottom),c.left=vt(u.left,c.left),c},Mg(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function sR(t){const{width:e,height:n}=N0(t);return{width:e,height:n}}function oR(t,e,n){const r=fn(e),i=hn(e),s=n==="fixed",o=ii(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=dn(0);if(r||!r&&!s)if((Ns(e)!=="body"||ul(i))&&(l=Ac(e)),r){const f=ii(e,!0,s,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=rp(i));const c=i&&!r&&!s?P0(i,l):dn(0),d=o.left+l.scrollLeft-a.x-c.x,u=o.top+l.scrollTop-a.y-c.y;return{x:d,y:u,width:o.width,height:o.height}}function Du(t){return qt(t).position==="static"}function Lg(t,e){if(!fn(t)||qt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hn(t)===n&&(n=n.ownerDocument.body),n}function A0(t,e){const n=wt(t);if(Ic(t))return n;if(!fn(t)){let i=Tr(t);for(;i&&!ps(i);){if(Yt(i)&&!Du(i))return i;i=Tr(i)}return n}let r=Lg(t,e);for(;r&&GN(r)&&Du(r);)r=Lg(r,e);return r&&ps(r)&&Du(r)&&!ep(r)?n:r||YN(t)||n}const lR=async function(t){const e=this.getOffsetParent||A0,n=this.getDimensions,r=await n(t.floating);return{reference:oR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aR(t){return qt(t).direction==="rtl"}const cR={convertOffsetParentRelativeRectToViewportRelativeRect:ZN,getDocumentElement:hn,getClippingRect:iR,getOffsetParent:A0,getElementRects:lR,getClientRects:JN,getDimensions:sR,getScale:Bi,isElement:Yt,isRTL:aR};function D0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uR(t,e){let n=null,r;const i=hn(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=t.getBoundingClientRect(),{left:d,top:u,width:f,height:p}=c;if(l||e(),!f||!p)return;const w=$l(u),m=$l(i.clientWidth-(d+f)),x=$l(i.clientHeight-(u+p)),y=$l(d),_={rootMargin:-w+"px "+-m+"px "+-x+"px "+-y+"px",threshold:vt(0,Sr(1,a))||1};let C=!0;function S(b){const T=b[0].intersectionRatio;if(T!==a){if(!C)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!D0(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return o(!0),s}function dR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=np(t),d=i||s?[...c?Bo(c):[],...Bo(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const u=c&&l?uR(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!a&&p.observe(c),p.observe(e));let w,m=a?ii(t):null;a&&x();function x(){const y=ii(t);m&&!D0(m,y)&&n(),m=y,w=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),u==null||u(),(y=p)==null||y.disconnect(),p=null,a&&cancelAnimationFrame(w)}}const fR=HN,hR=VN,pR=BN,mR=KN,gR=UN,Fg=$N,vR=QN,yR=(t,e,n)=>{const r=new Map,i={platform:cR,...n},s={...i.platform,_c:r};return zN(t,e,{...i,platform:s})};var aa=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Ba(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ba(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ba(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function O0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jg(t,e){const n=O0(t);return Math.round(e*n)/n}function Ou(t){const e=h.useRef(t);return aa(()=>{e.current=t}),e}function _R(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:a,open:c}=t,[d,u]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(r);Ba(f,r)||p(r);const[w,m]=h.useState(null),[x,y]=h.useState(null),v=h.useCallback(N=>{N!==b.current&&(b.current=N,m(N))},[]),_=h.useCallback(N=>{N!==T.current&&(T.current=N,y(N))},[]),C=s||w,S=o||x,b=h.useRef(null),T=h.useRef(null),k=h.useRef(d),I=a!=null,R=Ou(a),O=Ou(i),M=Ou(c),Q=h.useCallback(()=>{if(!b.current||!T.current)return;const N={placement:e,strategy:n,middleware:f};O.current&&(N.platform=O.current),yR(b.current,T.current,N).then(L=>{const z={...L,isPositioned:M.current!==!1};D.current&&!Ba(k.current,z)&&(k.current=z,al.flushSync(()=>{u(z)}))})},[f,e,n,O,M]);aa(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(N=>({...N,isPositioned:!1})))},[c]);const D=h.useRef(!1);aa(()=>(D.current=!0,()=>{D.current=!1}),[]),aa(()=>{if(C&&(b.current=C),S&&(T.current=S),C&&S){if(R.current)return R.current(C,S,Q);Q()}},[C,S,Q,R,I]);const Y=h.useMemo(()=>({reference:b,floating:T,setReference:v,setFloating:_}),[v,_]),$=h.useMemo(()=>({reference:C,floating:S}),[C,S]),B=h.useMemo(()=>{const N={position:n,left:0,top:0};if(!$.floating)return N;const L=jg($.floating,d.x),z=jg($.floating,d.y);return l?{...N,transform:"translate("+L+"px, "+z+"px)",...O0($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,l,$.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:Q,refs:Y,elements:$,floatingStyles:B}),[d,Q,Y,$,B])}const wR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Fg({element:r.current,padding:i}).fn(n):{}:r?Fg({element:r,padding:i}).fn(n):{}}}},xR=(t,e)=>({...fR(t),options:[t,e]}),CR=(t,e)=>({...hR(t),options:[t,e]}),ER=(t,e)=>({...vR(t),options:[t,e]}),SR=(t,e)=>({...pR(t),options:[t,e]}),bR=(t,e)=>({...mR(t),options:[t,e]}),TR=(t,e)=>({...gR(t),options:[t,e]}),kR=(t,e)=>({...wR(t),options:[t,e]});var NR="Arrow",M0=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(_e.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});M0.displayName=NR;var RR=M0;function L0(t){const[e,n]=h.useState(void 0);return Er(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const a=s.borderBoxSize,c=Array.isArray(a)?a[0]:a;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var F0="Popper",[j0,z0]=di(F0),[TL,$0]=j0(F0),B0="PopperAnchor",U0=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=$0(B0,n),o=h.useRef(null),l=ke(e,o);return h.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(_e.div,{...i,ref:l})});U0.displayName=B0;var ip="PopperContent",[PR,IR]=j0(ip),W0=h.forwardRef((t,e)=>{var U,W,Zt,jn,ot,zn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:w,...m}=t,x=$0(ip,n),[y,v]=h.useState(null),_=ke(e,Lt=>v(Lt)),[C,S]=h.useState(null),b=L0(C),T=(b==null?void 0:b.width)??0,k=(b==null?void 0:b.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],M=O.length>0,Q={padding:R,boundary:O.filter(DR),altBoundary:M},{refs:D,floatingStyles:Y,placement:$,isPositioned:B,middlewareData:N}=_R({strategy:"fixed",placement:I,whileElementsMounted:(...Lt)=>dR(...Lt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[xR({mainAxis:i+k,alignmentAxis:o}),a&&CR({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?ER():void 0,...Q}),a&&SR({...Q}),bR({...Q,apply:({elements:Lt,rects:pi,availableWidth:Gp,availableHeight:Z})=>{const{width:Ve,height:Ms}=pi.reference,$n=Lt.floating.style;$n.setProperty("--radix-popper-available-width",`${Gp}px`),$n.setProperty("--radix-popper-available-height",`${Z}px`),$n.setProperty("--radix-popper-anchor-width",`${Ve}px`),$n.setProperty("--radix-popper-anchor-height",`${Ms}px`)}}),C&&kR({element:C,padding:l}),OR({arrowWidth:T,arrowHeight:k}),f&&TR({strategy:"referenceHidden",...Q})]}),[L,z]=Q0($),K=Dt(w);Er(()=>{B&&(K==null||K())},[B,K]);const ce=(U=N.arrow)==null?void 0:U.x,pt=(W=N.arrow)==null?void 0:W.y,st=((Zt=N.arrow)==null?void 0:Zt.centerOffset)!==0,[Dr,Mt]=h.useState();return Er(()=>{y&&Mt(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:B?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dr,"--radix-popper-transform-origin":[(jn=N.transformOrigin)==null?void 0:jn.x,(ot=N.transformOrigin)==null?void 0:ot.y].join(" "),...((zn=N.hide)==null?void 0:zn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(PR,{scope:n,placedSide:L,onArrowChange:S,arrowX:ce,arrowY:pt,shouldHideArrow:st,children:g.jsx(_e.div,{"data-side":L,"data-align":z,...m,ref:_,style:{...m.style,animation:B?void 0:"none"}})})})});W0.displayName=ip;var H0="PopperArrow",AR={top:"bottom",right:"left",bottom:"top",left:"right"},V0=h.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=IR(H0,r),o=AR[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(RR,{...i,ref:n,style:{...i.style,display:"block"}})})});V0.displayName=H0;function DR(t){return t!==null}var OR=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,a=o?0:t.arrowHeight,[c,d]=Q0(n),u={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+a/2;let w="",m="";return c==="bottom"?(w=o?u:`${f}px`,m=`${-a}px`):c==="top"?(w=o?u:`${f}px`,m=`${r.floating.height+a}px`):c==="right"?(w=`${-a}px`,m=o?u:`${p}px`):c==="left"&&(w=`${r.floating.width+a}px`,m=o?u:`${p}px`),{data:{x:w,y:m}}}});function Q0(t){const[e,n="center"]=t.split("-");return[e,n]}var MR=U0,LR=W0,FR=V0,[Dc,kL]=di("Tooltip",[z0]),sp=z0(),K0="TooltipProvider",jR=700,zg="tooltip.open",[zR,G0]=Dc(K0),Y0=t=>{const{__scopeTooltip:e,delayDuration:n=jR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=h.useRef(!0),l=h.useRef(!1),a=h.useRef(0);return h.useEffect(()=>{const c=a.current;return()=>window.clearTimeout(c)},[]),g.jsx(zR,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(a.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(c=>{l.current=c},[]),disableHoverableContent:i,children:s})};Y0.displayName=K0;var q0="Tooltip",[NL,Oc]=Dc(q0),gf="TooltipTrigger",$R=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Oc(gf,n),s=G0(gf,n),o=sp(n),l=h.useRef(null),a=ke(e,l,i.onTriggerChange),c=h.useRef(!1),d=h.useRef(!1),u=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),g.jsx(MR,{asChild:!0,...o,children:g.jsx(_e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:a,onPointerMove:se(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:se(t.onBlur,i.onClose),onClick:se(t.onClick,i.onClose)})})});$R.displayName=gf;var BR="TooltipPortal",[RL,UR]=Dc(BR,{forceMount:void 0}),ms="TooltipContent",X0=h.forwardRef((t,e)=>{const n=UR(ms,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Oc(ms,t.__scopeTooltip);return g.jsx(bs,{present:r||o.open,children:o.disableHoverableContent?g.jsx(Z0,{side:i,...s,ref:e}):g.jsx(WR,{side:i,...s,ref:e})})}),WR=h.forwardRef((t,e)=>{const n=Oc(ms,t.__scopeTooltip),r=G0(ms,t.__scopeTooltip),i=h.useRef(null),s=ke(e,i),[o,l]=h.useState(null),{trigger:a,onClose:c}=n,d=i.current,{onPointerInTransitChange:u}=r,f=h.useCallback(()=>{l(null),u(!1)},[u]),p=h.useCallback((w,m)=>{const x=w.currentTarget,y={x:w.clientX,y:w.clientY},v=GR(y,x.getBoundingClientRect()),_=YR(y,v),C=qR(m.getBoundingClientRect()),S=ZR([..._,...C]);l(S),u(!0)},[u]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(a&&d){const w=x=>p(x,d),m=x=>p(x,a);return a.addEventListener("pointerleave",w),d.addEventListener("pointerleave",m),()=>{a.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",m)}}},[a,d,p,f]),h.useEffect(()=>{if(o){const w=m=>{const x=m.target,y={x:m.clientX,y:m.clientY},v=(a==null?void 0:a.contains(x))||(d==null?void 0:d.contains(x)),_=!XR(y,o);v?f():_&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[a,d,o,c,f]),g.jsx(Z0,{...t,ref:s})}),[HR,VR]=Dc(q0,{isInside:!1}),QR=Bw("TooltipContent"),Z0=h.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,a=Oc(ms,n),c=sp(n),{onClose:d}=a;return h.useEffect(()=>(document.addEventListener(zg,d),()=>document.removeEventListener(zg,d)),[d]),h.useEffect(()=>{if(a.trigger){const u=f=>{const p=f.target;p!=null&&p.contains(a.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[a.trigger,d]),g.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:g.jsxs(LR,{"data-state":a.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(QR,{children:r}),g.jsx(HR,{scope:n,isInside:!0,children:g.jsx(uk,{id:a.contentId,role:"tooltip",children:i||r})})]})})});X0.displayName=ms;var J0="TooltipArrow",KR=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=sp(n);return VR(J0,n).isInside?null:g.jsx(FR,{...i,...r,ref:e})});KR.displayName=J0;function GR(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qR(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function XR(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,a=e[s].y,c=e[o].x,d=e[o].y;a>r!=d>r&&n<(c-l)*(r-a)/(d-a)+l&&(i=!i)}return i}function ZR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),JR(e)}function JR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var eP=Y0,e1=X0;const tP=eP,nP=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(e1,{ref:r,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));nP.displayName=e1.displayName;const xn=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));xn.displayName="Card";const rP=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",t),...e}));rP.displayName="CardHeader";const iP=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));iP.displayName="CardTitle";const sP=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));sP.displayName="CardDescription";const t1=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("p-6 pt-0",t),...e}));t1.displayName="CardContent";const oP=h.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",t),...e}));oP.displayName="CardFooter";const op=Kh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ln=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?WT:"button";return g.jsx(o,{className:ve(op({variant:e,size:n,className:t})),ref:s,...i})});ln.displayName="Button";const Mc=h.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:ve("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Mc.displayName="Input";function lP(){return g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("div",{className:"relative w-12 h-12",children:g.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[g.jsx("circle",{cx:"24",cy:"24",r:"20",className:"fill-primary/10 stroke-primary stroke-2"}),g.jsx("path",{d:"M16 24C16 24 18 20 20 20C22 20 22 28 24 28C26 28 26 16 28 16C30 16 32 24 32 24",className:"stroke-primary stroke-[3] fill-none",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("circle",{cx:"20",cy:"20",r:"2",className:"fill-primary"}),g.jsx("circle",{cx:"28",cy:"16",r:"2",className:"fill-primary"})]})}),g.jsxs("div",{className:"flex flex-col items-start",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground leading-none",children:"QuickSync"}),g.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse",style:{animationDelay:"0.2s"}}),g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse",style:{animationDelay:"0.4s"}})]})]})]})}function aP({onSelectMode:t}){const[e,n]=h.useState(null),[r,i]=h.useState(""),s=()=>{e==="host"?t("host"):e==="join"&&r.trim()&&t("join",r.trim())};return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 gradient-radial"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"}),g.jsxs("div",{className:"w-full max-w-md space-y-8 relative z-10",children:[g.jsxs("div",{className:"text-center space-y-3",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(lP,{})}),g.jsx("p",{className:"text-lg text-inactive",children:"Synchronized music across devices"})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsx(xn,{className:`p-6 cursor-pointer transition-all hover-elevate glass ${e==="host"?"border-2 border-primary ring-2 ring-primary/20 glass-strong":""}`,onClick:()=>n("host"),"data-testid":"card-host-mode",children:g.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:g.jsx(df,{className:"w-8 h-8 text-primary"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Host Session"}),g.jsx("p",{className:"text-sm text-inactive mt-2",children:"Control playback and broadcast to connected devices"})]})]})}),g.jsx(xn,{className:`p-6 cursor-pointer transition-all hover-elevate glass ${e==="join"?"border-2 border-primary ring-2 ring-primary/20 glass-strong":""}`,onClick:()=>n("join"),"data-testid":"card-join-mode",children:g.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:g.jsx(Yh,{className:"w-8 h-8 text-primary"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Join Session"}),g.jsx("p",{className:"text-sm text-inactive mt-2",children:"Sync with a host device and enjoy together"})]})]})})]}),e==="join"&&g.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-300",children:g.jsx(Mc,{type:"text",placeholder:"Enter room code",value:r,onChange:o=>i(o.target.value.toUpperCase()),className:"text-center text-2xl tracking-widest h-14",maxLength:6,"data-testid":"input-room-code"})}),e&&g.jsx(ln,{onClick:s,disabled:e==="join"&&!r.trim(),className:"w-full h-12 text-base font-semibold","data-testid":"button-continue",children:"Continue"})]})]})}function cP({songs:t,currentSongId:e,onSongSelect:n}){const[r,i]=h.useState(""),s=t.filter(o=>o.title.toLowerCase().includes(r.toLowerCase())).sort((o,l)=>o.title.localeCompare(l.title));return g.jsxs("div",{className:"flex flex-col h-full relative",children:[g.jsx("div",{className:"absolute inset-0 gradient-radial opacity-50 pointer-events-none"}),g.jsxs("div",{className:"p-4 space-y-4 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Library"}),g.jsxs("p",{className:"text-sm text-inactive",children:[t.length," songs"]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Ng,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-inactive z-10"}),g.jsx(Mc,{type:"search",placeholder:"Search songs...",value:r,onChange:o=>i(o.target.value),className:"pl-10 glass","data-testid":"input-search-songs"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto pb-32 custom-scrollbar",children:[g.jsx("div",{className:"space-y-1",children:s.map((o,l)=>{const a=o.id===e,c=l+1;return g.jsxs("div",{className:`flex items-center gap-4 px-4 py-3 cursor-pointer transition-all hover-elevate active-elevate-2 ${a?"bg-primary/10":""}`,onClick:()=>n(o.id),"data-testid":`song-item-${c}`,children:[g.jsx("div",{className:"flex items-center justify-center w-8 text-sm font-mono text-inactive",children:a?g.jsx(Gh,{className:"w-4 h-4 text-primary fill-primary","data-testid":"icon-playing"}):g.jsx("span",{children:c})}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsx("h3",{className:`text-sm font-medium truncate ${a?"text-primary":"text-foreground"}`,children:o.title})}),g.jsx("div",{className:"text-sm text-inactive font-mono","data-testid":`duration-${c}`,children:"–"})]},o.id)})}),s.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[g.jsx(Ng,{className:"w-12 h-12 text-inactive mb-4"}),g.jsx("p",{className:"text-inactive",children:"No songs found"})]})]})]})}function uP({isPlaying:t,isShuffled:e,repeatMode:n,onPlayPause:r,onPrevious:i,onNext:s,onShuffle:o,onRepeat:l,disabled:a=!1}){return g.jsxs("div",{className:"flex items-center justify-between w-full max-w-md mx-auto",children:[g.jsx(ln,{size:"icon",variant:"ghost",onClick:o,className:e?"text-primary":"text-inactive",disabled:a,"data-testid":"button-shuffle",children:g.jsx($k,{className:"w-5 h-5"})}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(ln,{size:"icon",variant:"ghost",onClick:i,disabled:a,"data-testid":"button-previous",children:g.jsx(Bk,{className:"w-6 h-6"})}),g.jsx(ln,{size:"icon",variant:"default",onClick:r,disabled:a,className:"w-16 h-16 rounded-full","data-testid":"button-play-pause",children:t?g.jsx(Lk,{className:"w-8 h-8"}):g.jsx(Gh,{className:"w-8 h-8 ml-1"})}),g.jsx(ln,{size:"icon",variant:"ghost",onClick:s,disabled:a,"data-testid":"button-next",children:g.jsx(Uk,{className:"w-6 h-6"})})]}),g.jsxs(ln,{size:"icon",variant:"ghost",onClick:l,className:n!=="off"?"text-primary":"text-inactive",disabled:a,"data-testid":"button-repeat",children:[g.jsx(jk,{className:"w-5 h-5"}),n==="one"&&g.jsx("span",{className:"absolute text-xs font-bold",children:"1"})]})]})}function n1(t,[e,n]){return Math.min(n,Math.max(e,t))}var dP=h.createContext(void 0);function fP(t){const e=h.useContext(dP);return t||e||"ltr"}function hP(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var r1=["PageUp","PageDown"],i1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],s1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Rs="Slider",[vf,pP,mP]=Uw(Rs),[o1,PL]=di(Rs,[mP]),[gP,Lc]=o1(Rs),l1=h.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:a=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:w,...m}=t,x=h.useRef(new Set),y=h.useRef(0),_=o==="horizontal"?vP:yP,[C=[],S]=Wh({prop:d,defaultProp:c,onChange:O=>{var Q;(Q=[...x.current][y.current])==null||Q.focus(),u(O)}}),b=h.useRef(C);function T(O){const M=EP(C,O);R(O,M)}function k(O){R(O,y.current)}function I(){const O=b.current[y.current];C[y.current]!==O&&f(C)}function R(O,M,{commit:Q}={commit:!1}){const D=kP(s),Y=NP(Math.round((O-r)/s)*s+r,D),$=n1(Y,[r,i]);S((B=[])=>{const N=xP(B,$,M);if(TP(N,a*s)){y.current=N.indexOf($);const L=String(N)!==String(B);return L&&Q&&f(N),L?N:B}else return B})}return g.jsx(gP,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:y,thumbs:x.current,values:C,orientation:o,form:w,children:g.jsx(vf.Provider,{scope:t.__scopeSlider,children:g.jsx(vf.Slot,{scope:t.__scopeSlider,children:g.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:e,onPointerDown:se(m.onPointerDown,()=>{l||(b.current=C)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:T,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:I,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(i,C.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:M})=>{if(!l){const Y=r1.includes(O.key)||O.shiftKey&&i1.includes(O.key)?10:1,$=y.current,B=C[$],N=s*Y*M;R(B+N,$,{commit:!0})}}})})})})});l1.displayName=Rs;var[a1,c1]=o1(Rs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),vP=h.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:a,onStepKeyDown:c,...d}=t,[u,f]=h.useState(null),p=ke(e,_=>f(_)),w=h.useRef(void 0),m=fP(i),x=m==="ltr",y=x&&!s||!x&&s;function v(_){const C=w.current||u.getBoundingClientRect(),S=[0,C.width],T=lp(S,y?[n,r]:[r,n]);return w.current=C,T(_-C.left)}return g.jsx(a1,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:g.jsx(u1,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const C=v(_.clientX);o==null||o(C)},onSlideMove:_=>{const C=v(_.clientX);l==null||l(C)},onSlideEnd:()=>{w.current=void 0,a==null||a()},onStepKeyDown:_=>{const S=s1[y?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:S?-1:1})}})})}),yP=h.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:a,...c}=t,d=h.useRef(null),u=ke(e,d),f=h.useRef(void 0),p=!i;function w(m){const x=f.current||d.current.getBoundingClientRect(),y=[0,x.height],_=lp(y,p?[r,n]:[n,r]);return f.current=x,_(m-x.top)}return g.jsx(a1,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:g.jsx(u1,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const x=w(m.clientY);s==null||s(x)},onSlideMove:m=>{const x=w(m.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:m=>{const y=s1[p?"from-bottom":"from-top"].includes(m.key);a==null||a({event:m,direction:y?-1:1})}})})}),u1=h.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:a,...c}=t,d=Lc(Rs,n);return g.jsx(_e.span,{...c,ref:e,onKeyDown:se(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):r1.concat(i1).includes(u.key)&&(a(u),u.preventDefault())}),onPointerDown:se(t.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(f)?f.focus():r(u)}),onPointerMove:se(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:se(t.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),s(u))})})}),d1="SliderTrack",f1=h.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Lc(d1,n);return g.jsx(_e.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});f1.displayName=d1;var yf="SliderRange",h1=h.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Lc(yf,n),s=c1(yf,n),o=h.useRef(null),l=ke(e,o),a=i.values.length,c=i.values.map(f=>m1(f,i.min,i.max)),d=a>1?Math.min(...c):0,u=100-Math.max(...c);return g.jsx(_e.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});h1.displayName=yf;var _f="SliderThumb",p1=h.forwardRef((t,e)=>{const n=pP(t.__scopeSlider),[r,i]=h.useState(null),s=ke(e,l=>i(l)),o=h.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return g.jsx(_P,{...t,ref:s,index:o})}),_P=h.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Lc(_f,n),l=c1(_f,n),[a,c]=h.useState(null),d=ke(e,v=>c(v)),u=a?o.form||!!a.closest("form"):!0,f=L0(a),p=o.values[r],w=p===void 0?0:m1(p,o.min,o.max),m=CP(r,o.values.length),x=f==null?void 0:f[l.size],y=x?SP(x,w,l.direction):0;return h.useEffect(()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}},[a,o.thumbs]),g.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${y}px)`},children:[g.jsx(vf.ItemSlot,{scope:t.__scopeSlider,children:g.jsx(_e.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:se(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&g.jsx(wP,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});p1.displayName=_f;var wP=t=>{const{value:e,...n}=t,r=h.useRef(null),i=hP(e);return h.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&a){const c=new Event("input",{bubbles:!0});a.call(s,e),s.dispatchEvent(c)}},[i,e]),g.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function xP(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function m1(t,e,n){const s=100/(n-e)*(t-e);return n1(s,[0,100])}function CP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function EP(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function SP(t,e,n){const r=t/2,s=lp([0,50],[0,r]);return(r-s(e)*n)*n}function bP(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function TP(t,e){if(e>0){const n=bP(t);return Math.min(...n)>=e}return!0}function lp(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function kP(t){return(String(t).split(".")[1]||"").length}function NP(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var g1=l1,RP=f1,PP=h1,IP=p1;const v1=h.forwardRef(({className:t,...e},n)=>g.jsxs(g1,{ref:n,className:ve("relative flex w-full touch-none select-none items-center",t),...e,children:[g.jsx(RP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:g.jsx(PP,{className:"absolute h-full bg-primary"})}),g.jsx(IP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));v1.displayName=g1.displayName;function $g(t){const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`}function AP({currentTime:t,duration:e,onSeek:n}){return g.jsxs("div",{className:"w-full space-y-2",children:[g.jsx(v1,{value:[t],max:e,step:1,onValueChange:([r])=>n(r),className:"cursor-pointer","data-testid":"slider-progress"}),g.jsxs("div",{className:"flex justify-between text-xs text-inactive",children:[g.jsx("span",{"data-testid":"text-current-time",children:$g(t)}),g.jsx("span",{"data-testid":"text-duration",children:$g(e)})]})]})}const DP=Kh("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Mu({className:t,variant:e,...n}){return g.jsx("div",{className:ve(DP({variant:e}),t),...n})}function OP({mode:t,connectedDevices:e=0,roomCode:n}){return t==="disconnected"?g.jsxs(Mu,{variant:"secondary",className:"gap-2 px-3 py-1.5","data-testid":"badge-connection-disconnected",children:[g.jsx(Vk,{className:"w-4 h-4 text-destructive"}),g.jsx("span",{className:"text-xs font-semibold",children:"Disconnected"})]}):t==="host"?g.jsxs(Mu,{variant:"secondary",className:"gap-2 px-3 py-1.5 glass-subtle bg-primary/10 border-primary/20","data-testid":"badge-connection-host",children:[g.jsxs("div",{className:"relative",children:[g.jsx(df,{className:"w-4 h-4 text-primary"}),g.jsx("div",{className:"absolute inset-0 animate-ping opacity-75",children:g.jsx(df,{className:"w-4 h-4 text-primary"})})]}),g.jsx("span",{className:"text-xs font-semibold text-primary",children:"HOST"}),n&&g.jsx("span",{className:"text-xs font-mono text-primary",children:n}),e>0&&g.jsxs("span",{className:"text-xs text-primary",children:["(",e," connected)"]})]}):g.jsxs(Mu,{variant:"secondary",className:"gap-2 px-3 py-1.5 glass-subtle bg-chart-2/10 border-chart-2/20","data-testid":"badge-connection-join",children:[g.jsx(Yh,{className:"w-4 h-4 text-chart-2"}),g.jsx("span",{className:"text-xs font-semibold text-chart-2",children:"JOINED"}),n&&g.jsx("span",{className:"text-xs font-mono text-chart-2",children:n})]})}function MP({song:t,isPlaying:e,isShuffled:n,repeatMode:r,currentTime:i,duration:s,connectionMode:o,roomCode:l,connectedDevices:a,onPlayPause:c,onPrevious:d,onNext:u,onShuffle:f,onRepeat:p,onSeek:w}){return g.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/10 via-primary/5 to-background"}),g.jsx("div",{className:"absolute inset-0 gradient-radial pointer-events-none"}),g.jsx("div",{className:"relative flex items-center justify-end p-4 z-10",children:g.jsx(OP,{mode:o,roomCode:l,connectedDevices:a})}),g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 space-y-8 relative z-10",children:[g.jsx("div",{className:"w-full max-w-sm aspect-square rounded-2xl overflow-hidden shadow-2xl glass-strong bg-gradient-to-br from-primary/20 to-card/50 flex items-center justify-center border-2 border-primary/20",children:t!=null&&t.albumArt?g.jsx("img",{src:t.albumArt,alt:t.title,className:"w-full h-full object-cover"}):g.jsx(Mk,{className:"w-24 h-24 text-inactive"})}),g.jsx("div",{className:"w-full text-center",children:g.jsx("h1",{className:"text-3xl font-bold text-foreground truncate","data-testid":"text-song-title",children:(t==null?void 0:t.title)||"No Song Playing"})})]}),g.jsxs("div",{className:"p-6 space-y-6 relative z-10 pb-24",children:[g.jsx(AP,{currentTime:i,duration:s,onSeek:w}),g.jsx(uP,{isPlaying:e,isShuffled:n,repeatMode:r,onPlayPause:c,onPrevious:d,onNext:u,onShuffle:f,onRepeat:p,disabled:!t})]})]})}function Bg({currentTab:t,onTabChange:e}){const n=[{id:"library",icon:Dk,label:"Library"},{id:"player",icon:Gh,label:"Player"},{id:"connections",icon:Yh,label:"Devices"},{id:"settings",icon:zk,label:"Settings"}];return g.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-md border-t border-border z-50",children:g.jsx("div",{className:"flex items-center justify-around h-16 max-w-2xl mx-auto",children:n.map(({id:r,icon:i,label:s})=>g.jsxs("button",{onClick:()=>e(r),className:`flex flex-col items-center gap-1 py-2 px-6 rounded-lg transition-all ${t===r?"text-primary":"text-inactive"}`,"data-testid":`button-tab-${r}`,children:[g.jsx(i,{className:"w-6 h-6 transition-transform active:scale-90"}),g.jsx("span",{className:"text-xs font-medium transition-transform active:scale-90",children:s})]},r))})})}const LP=()=>{};var Ug={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(t,e){if(!t)throw Ps(e)},Ps=function(t){return new Error("Firebase Database ("+y1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ap={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,d=s>>2,u=(s&3)<<4|l>>4;let f=(l&15)<<2|c>>6,p=c&63;a||(p=64,o||(f=64)),r.push(n[d],n[u],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||u==null)throw new jP;const f=s<<2|l>>4;if(r.push(f),c!==64){const p=l<<4&240|c>>2;if(r.push(p),u!==64){const w=c<<6&192|u;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w1=function(t){const e=_1(t);return ap.encodeByteArray(e,!0)},Ua=function(t){return w1(t).replace(/\./g,"")},wf=function(t){try{return ap.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return x1(void 0,t)}function x1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$P(n)||(t[n]=x1(t[n],e[n]));return t}function $P(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=()=>BP().__FIREBASE_DEFAULTS__,WP=()=>{if(typeof process>"u"||typeof Ug>"u")return;const t=Ug.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wf(t[1]);return e&&JSON.parse(e)},C1=()=>{try{return LP()||UP()||WP()||HP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VP=t=>{var e,n;return(n=(e=C1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},QP=t=>{const e=VP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E1=()=>{var t;return(t=C1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ua(JSON.stringify(n)),Ua(JSON.stringify(o)),""].join(".")}const po={};function YP(){const t={prod:[],emulator:[]};for(const e of Object.keys(po))po[e]?t.emulator.push(e):t.prod.push(e);return t}function qP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wg=!1;function XP(t,e){if(typeof window>"u"||typeof document>"u"||!cp(window.location.host)||po[t]===e||po[t]||Wg)return;po[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=YP().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function a(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Wg=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function u(){const f=qP(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),x=document.getElementById(m)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;l(_),d(x,m);const C=c();a(v,y),_.append(v,w,x,C),document.body.appendChild(_)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ZP())}function JP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){return y1.NODE_ADMIN===!0}function eI(){try{return typeof indexedDB=="object"}catch{return!1}}function tI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="FirebaseError";class fl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nI,Object.setPrototypeOf(this,fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T1.prototype.create)}}class T1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new fl(i,l,r)}}function rI(t,e){return t.replace(iI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uo(wf(s[0])||""),n=Uo(wf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},sI=function(t){const e=k1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oI=function(t){const e=k1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Vg(s)&&Vg(o)){if(!Ha(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const f=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=l^s&(o^l),d=1518500249):(c=s^o^l,d=1859775393):u<60?(c=s&o|l&(s|o),d=2400959708):(c=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+c+a+d+r[u]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Fc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return t&&t._delegate?t._delegate:t}class Wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fI(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dI(t){return t===Lr?void 0:t}function fI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const pI={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},mI=de.INFO,gI={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},vI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N1{constructor(e){this.name=e,this._logLevel=mI,this._logHandler=vI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const yI=(t,e)=>e.some(n=>t instanceof n);let Qg,Kg;function _I(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wI(){return Kg||(Kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R1=new WeakMap,xf=new WeakMap,P1=new WeakMap,Lu=new WeakMap,up=new WeakMap;function xI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R1.set(n,t)}).catch(()=>{}),up.set(e,t),e}function CI(t){if(xf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xf.set(t,e)}let Cf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EI(t){Cf=t(Cf)}function SI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fu(this),e,...n);return P1.set(r,e.sort?e.sort():[e]),vr(r)}:wI().includes(t)?function(...e){return t.apply(Fu(this),e),vr(R1.get(this))}:function(...e){return vr(t.apply(Fu(this),e))}}function bI(t){return typeof t=="function"?SI(t):(t instanceof IDBTransaction&&CI(t),yI(t,_I())?new Proxy(t,Cf):t)}function vr(t){if(t instanceof IDBRequest)return xI(t);if(Lu.has(t))return Lu.get(t);const e=bI(t);return e!==t&&(Lu.set(t,e),up.set(e,t)),e}const Fu=t=>up.get(t);function TI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=vr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(vr(o.result),a.oldVersion,a.newVersion,vr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const kI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],ju=new Map;function Gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ju.get(e))return ju.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return ju.set(e,s),s}EI(t=>({...t,get:(e,n,r)=>Gg(e,n)||t.get(e,n,r),has:(e,n)=>!!Gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",Yg="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new N1("@firebase/app"),II="@firebase/app-compat",AI="@firebase/analytics-compat",DI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",LI="@firebase/auth",FI="@firebase/auth-compat",jI="@firebase/database",zI="@firebase/data-connect",$I="@firebase/database-compat",BI="@firebase/functions",UI="@firebase/functions-compat",WI="@firebase/installations",HI="@firebase/installations-compat",VI="@firebase/messaging",QI="@firebase/messaging-compat",KI="@firebase/performance",GI="@firebase/performance-compat",YI="@firebase/remote-config",qI="@firebase/remote-config-compat",XI="@firebase/storage",ZI="@firebase/storage-compat",JI="@firebase/firestore",eA="@firebase/ai",tA="@firebase/firestore-compat",nA="firebase",rA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",iA={[Ef]:"fire-core",[II]:"fire-core-compat",[DI]:"fire-analytics",[AI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[LI]:"fire-auth",[FI]:"fire-auth-compat",[jI]:"fire-rtdb",[zI]:"fire-data-connect",[$I]:"fire-rtdb-compat",[BI]:"fire-fn",[UI]:"fire-fn-compat",[WI]:"fire-iid",[HI]:"fire-iid-compat",[VI]:"fire-fcm",[QI]:"fire-fcm-compat",[KI]:"fire-perf",[GI]:"fire-perf-compat",[YI]:"fire-rc",[qI]:"fire-rc-compat",[XI]:"fire-gcs",[ZI]:"fire-gcs-compat",[JI]:"fire-fst",[tA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Map,sA=new Map,bf=new Map;function qg(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qa(t){const e=t.name;if(bf.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const n of Va.values())qg(n,t);for(const n of sA.values())qg(n,t);return!0}function oA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new T1("app","Firebase",aA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=rA;function I1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=E1()),!n)throw yr.create("no-options");const s=Va.get(i);if(s){if(Ha(n,s.options)&&Ha(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}const o=new hI(i);for(const a of bf.values())o.addComponent(a);const l=new cA(n,r,o);return Va.set(i,l),l}function dA(t=Sf){const e=Va.get(t);if(!e&&t===Sf&&E1())return I1();if(!e)throw yr.create("no-app",{appName:t});return e}function Ui(t,e,n){let r=iA[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(o.join(" "));return}Qa(new Wo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",hA=1,Ho="firebase-heartbeat-store";let zu=null;function A1(){return zu||(zu=TI(fA,hA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),zu}async function pA(t){try{const n=(await A1()).transaction(Ho),r=await n.objectStore(Ho).get(D1(t));return await n.done,r}catch(e){if(e instanceof fl)Dn.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function Xg(t,e){try{const r=(await A1()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(e,D1(t)),await r.done}catch(n){if(n instanceof fl)Dn.warn(n.message);else{const r=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(r.message)}}}function D1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,gA=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _A(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gA){const o=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zg(),{heartbeatsToSend:r,unsentEntries:i}=yA(this._heartbeatsCache.heartbeats),s=Ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dn.warn(n),""}}}function Zg(){return new Date().toISOString().substring(0,10)}function yA(t,e=mA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eI()?tI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jg(t){return Ua(JSON.stringify({version:2,heartbeats:t})).length}function wA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){Qa(new Wo("platform-logger",e=>new RI(e),"PRIVATE")),Qa(new Wo("heartbeat",e=>new vA(e),"PRIVATE")),Ui(Ef,Yg,t),Ui(Ef,Yg,"esm2020"),Ui("fire-js","")}xA("");var ev={};const tv="@firebase/database",nv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1="";function CA(t){O1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EA(e)}}catch{}return new SA},Br=M1("localStorage"),bA=M1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new N1("@firebase/database"),TA=function(){let t=1;return function(){return t++}}(),L1=function(t){const e=cI(t),n=new aI;n.update(e);const r=n.digest();return ap.encodeByteArray(r)},hl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hl.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let mo=null,rv=!0;const kA=function(t,e){A(!e,"Can't turn on custom loggers persistently."),Wi.logLevel=de.VERBOSE,mo=Wi.log.bind(Wi)},Be=function(...t){if(rv===!0&&(rv=!1,mo===null&&bA.get("logging_enabled")===!0&&kA()),mo){const e=hl.apply(null,t);mo(e)}},pl=function(t){return function(...e){Be(t,...e)}},Tf=function(...t){const e="FIREBASE INTERNAL ERROR: "+hl(...t);Wi.error(e)},On=function(...t){const e=`FIREBASE FATAL ERROR: ${hl(...t)}`;throw Wi.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+hl(...t);Wi.warn(e)},NA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},RA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vs="[MIN_NAME]",si="[MAX_NAME]",fi=function(t,e){if(t===e)return 0;if(t===vs||e===si)return-1;if(e===vs||t===si)return 1;{const n=iv(t),r=iv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},PA=function(t,e){return t===e?0:t<e?-1:1},Qs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},fp=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=fp(t[e[r]]);return n+="}",n},F1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function He(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const j1=function(t){A(!dp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let u="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),u=u+f}return u.toLowerCase()},IA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},AA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const OA=new RegExp("^-?(0*)\\d{1,10}$"),MA=-2147483648,LA=2147483647,iv=function(t){if(OA.test(t)){const e=Number(t);if(e>=MA&&e<=LA)return e}return null},As=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},FA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},go=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,lA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class ca{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ca.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="5",z1="v",$1="s",B1="r",U1="f",W1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H1="ls",V1="p",kf="ac",Q1="websocket",K1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function $A(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Y1(t,e,n){A(typeof e=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(e===Q1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===K1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$A(t)&&(n.ns=t.namespace);const i=[];return He(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u={},Bu={};function pp(t){const e=t.toString();return $u[e]||($u[e]=new BA),$u[e]}function UA(t,e){const n=t.toString();return Bu[n]||(Bu[n]=e()),Bu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&As(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="start",HA="close",VA="pLPCommand",QA="pRTLPCB",q1="id",X1="pw",Z1="ser",KA="cb",GA="seg",YA="ts",qA="d",XA="dframe",J1=1870,ex=30,ZA=J1-ex,JA=25e3,eD=3e4;class Ai{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=pp(n),this.urlFn=a=>(this.appCheckToken&&(a[kf]=this.appCheckToken),Y1(n,K1,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new WA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eD)),RA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mp((...s)=>{const[o,l,a,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sv)this.id=l,this.password=a;else if(o===HA)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[sv]="t",r[Z1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[KA]=this.scriptTagHolder.uniqueCallbackIdentifier),r[z1]=hp,this.transportSessionId&&(r[$1]=this.transportSessionId),this.lastSessionId&&(r[H1]=this.lastSessionId),this.applicationId&&(r[V1]=this.applicationId),this.appCheckToken&&(r[kf]=this.appCheckToken),typeof location<"u"&&location.hostname&&W1.test(location.hostname)&&(r[B1]=U1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ai.forceAllow_=!0}static forceDisallow(){Ai.forceDisallow_=!0}static isAvailable(){return Ai.forceAllow_?!0:!Ai.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IA()&&!AA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w1(n),i=F1(r,ZA);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[XA]="t",r[q1]=e,r[X1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TA(),window[VA+this.uniqueCallbackIdentifier]=e,window[QA+this.uniqueCallbackIdentifier]=n,this.myIFrame=mp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Be("frame writing exception"),l.stack&&Be(l.stack),Be(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Be("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[q1]=this.myID,e[X1]=this.myPW,e[Z1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ex+r.length<=J1;){const o=this.pendingSegs.shift();r=r+"&"+GA+i+"="+o.seg+"&"+YA+i+"="+o.ts+"&"+qA+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(JA)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=16384,nD=45e3;let Ka=null;typeof MozWebSocket<"u"?Ka=MozWebSocket:typeof WebSocket<"u"&&(Ka=WebSocket);class Wt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=pp(n),this.connURL=Wt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[z1]=hp,typeof location<"u"&&location.hostname&&W1.test(location.hostname)&&(o[B1]=U1),n&&(o[$1]=n),r&&(o[H1]=r),i&&(o[kf]=i),s&&(o[V1]=s),Y1(e,Q1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let r;b1(),this.mySock=new Ka(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ka!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(A(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=F1(n,tD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static get ALL_TRANSPORTS(){return[Ai,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wt&&Wt.isAvailable();let r=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const i=this.transports_=[];for(const s of Vo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=6e4,iD=5e3,sD=10*1024,oD=100*1024,Uu="t",ov="d",lD="s",lv="r",aD="e",av="o",cv="a",uv="n",dv="p",cD="h";class uD{constructor(e,n,r,i,s,o,l,a,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new Vo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=go(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Uu in e){const n=e[Uu];n===cv?this.upgradeIfSecondaryHealthy_():n===lv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qs("t",e),r=Qs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qs("t",e),r=Qs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qs(Uu,e);if(ov in e){const r=e[ov];if(n===cD){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===uv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lD?this.onConnectionShutdown_(r):n===lv?this.onReset_(r):n===aD?Tf("Server Error: "+r):n===av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hp!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),go(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):go(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.allowedEvents_=e,this.listeners_={},A(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){A(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends nx{static getInstance(){return new Ga}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!S1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return A(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=32,hv=768;class ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new ae("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kr(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ae(t.pieces_,e)}function gp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ae(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=q(t),r=q(e);if(n===null)return e;if(n===r)return et(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fD(t,e){const n=Qo(t,0),r=Qo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=fi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function vp(t,e){if(kr(t)!==kr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(kr(t)>kr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class hD{constructor(e,n){this.errorPrefix_=n,this.parts_=Qo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=jc(this.parts_[r]);ix(this)}}function pD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jc(e),ix(t)}function mD(t){const e=t.parts_.pop();t.byteLength_-=jc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ix(t){if(t.byteLength_>hv)throw new Error(t.errorPrefix_+"has a key path longer than "+hv+" bytes ("+t.byteLength_+").");if(t.parts_.length>fv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fv+") or object contains a cycle "+Fr(t))}function Fr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends nx{static getInstance(){return new yp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return A(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=1e3,gD=60*5*1e3,pv=30*1e3,vD=1.3,yD=3e4,_D="server_kill",mv=3;class Tn extends tx{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Tn.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ks,this.maxReconnectDelay_=gD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!b1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ga.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ae(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new dl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,c=l.s;Tn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=gs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sI(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Tf("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yD&&(this.reconnectDelay_=Ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Tn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(u){A(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(u)};this.realtime_={close:a,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=f&&f.token,l=new uD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{nt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(_D)},s))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&nt(u),a())}}}interrupt(e){Be("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Be("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hg(this.interruptReasons_)&&(this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>fp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ae(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Be("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mv&&(this.reconnectDelay_=pv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Be("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+O1.replace(/\./g,"-")]=1,S1()?e["framework.cordova"]=1:JP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ga.getInstance().currentlyOnline();return Hg(this.interruptReasons_)&&e}}Tn.nextPersistentConnectionId_=0;Tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new X(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new X(vs,e),i=new X(vs,n);return this.compare(r,i)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;class sx extends zc{static get __EMPTY_NODE(){return Bl}static set __EMPTY_NODE(e){Bl=e}compare(e,n){return fi(e.name,n.name)}isDefinedOn(e){throw Ps("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return X.MIN}maxPost(){return new X(si,Bl)}makePost(e,n){return A(typeof e=="string","KeyIndex indexValue must always be a string."),new X(e,Bl)}toString(){return".key"}}const Hi=new sx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fe.RED,this.left=i??ut.EMPTY_NODE,this.right=s??ut.EMPTY_NODE}copy(e,n,r,i,s){return new Fe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ut.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class wD{copy(e,n,r,i,s){return this}insert(e,n,r){return new Fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ut{constructor(e,n=ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ul(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ul(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ul(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ul(this.root_,null,this.comparator_,!0,e)}}ut.EMPTY_NODE=new wD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e){return fi(t.name,e.name)}function _p(t,e){return fi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;function CD(t){Nf=t}const ox=function(t){return typeof t=="number"?"number:"+j1(t):"string:"+t},lx=function(t){if(t.isLeafNode()){const e=t.val();A(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else A(t===Nf||t.isEmpty(),"priority of unexpected type.");A(t===Nf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv;class Me{static set __childrenNodeConstructor(e){gv=e}static get __childrenNodeConstructor(){return gv}constructor(e,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:q(e)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ox(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=j1(this.value_):e+=this.value_,this.lazyHash_=L1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Me.__childrenNodeConstructor?-1:(A(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax,cx;function ED(t){ax=t}function SD(t){cx=t}class bD extends zc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(si,new Me("[PRIORITY-POST]",cx))}makePost(e,n){const r=ax(e);return new X(n,new Me("[PRIORITY-POST]",r))}toString(){return".priority"}}const Te=new bD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=Math.log(2);class kD{constructor(e){const n=s=>parseInt(Math.log(s)/TD,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ya=function(t,e,n,r){t.sort(e);const i=function(a,c){const d=c-a;let u,f;if(d===0)return null;if(d===1)return u=t[a],f=n?n(u):u,new Fe(f,u.node,Fe.BLACK,null,null);{const p=parseInt(d/2,10)+a,w=i(a,p),m=i(p+1,c);return u=t[p],f=n?n(u):u,new Fe(f,u.node,Fe.BLACK,w,m)}},s=function(a){let c=null,d=null,u=t.length;const f=function(w,m){const x=u-w,y=u;u-=w;const v=i(x+1,y),_=t[x],C=n?n(_):_;p(new Fe(C,_.node,m,null,v))},p=function(w){c?(c.left=w,c=w):(d=w,c=w)};for(let w=0;w<a.count;++w){const m=a.nextBitIsOne(),x=Math.pow(2,a.count-(w+1));m?f(x,Fe.BLACK):(f(x,Fe.BLACK),f(x,Fe.RED))}return d},o=new kD(t.length),l=s(o);return new ut(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;const gi={};class Sn{static get Default(){return A(gi&&Te,"ChildrenNode.ts has not been loaded"),Wu=Wu||new Sn({".priority":gi},{".priority":Te}),Wu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=gs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ut?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){A(e!==Hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(X.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ya(r,e.getCompare()):l=gi;const a=e.toString(),c={...this.indexSet_};c[a]=e;const d={...this.indexes_};return d[a]=l,new Sn(d,c)}addToIndexes(e,n){const r=Wa(this.indexes_,(i,s)=>{const o=gs(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===gi)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(X.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Ya(l,o.getCompare())}else return gi;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new X(e.name,l))),a.insert(e,e.node)}});return new Sn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wa(this.indexes_,i=>{if(i===gi)return i;{const s=n.get(e.name);return s?i.remove(new X(e.name,s)):i}});return new Sn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs;class H{static get EMPTY_NODE(){return Gs||(Gs=new H(new ut(_p),null,Sn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lx(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gs}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gs:n}}getChild(e){const n=q(e);return n===null?this:this.getImmediateChild(n).getChild(fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(A(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new X(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Gs:this.priorityNode_;return new H(i,o,s)}}updateChild(e,n){const r=q(e);if(r===null)return n;{A(q(e)!==".priority"||kr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(fe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Te,(o,l)=>{n[o]=l.val(e),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ox(this.getPriority().val())+":"),this.forEachChild(Te,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":L1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new X(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new X(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new X(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,X.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,X.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ml?-1:0}withIndex(e){if(e===Hi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Te),i=n.getIterator(Te);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hi?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ND extends H{constructor(){super(new ut(_p),H.EMPTY_NODE,Sn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const ml=new ND;Object.defineProperties(X,{MIN:{value:new X(vs,H.EMPTY_NODE)},MAX:{value:new X(si,ml)}});sx.__EMPTY_NODE=H.EMPTY_NODE;Me.__childrenNodeConstructor=H;CD(ml);SD(ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=!0;function Ie(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),A(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Me(n,Ie(e))}if(!(t instanceof Array)&&RD){const n=[];let r=!1;if(He(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ie(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new X(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=Ya(n,xD,o=>o.name,_p);if(r){const o=Ya(n,Te.getCompare());return new H(s,Ie(e),new Sn({".priority":o},{".priority":Te}))}else return new H(s,Ie(e),Sn.Default)}else{let n=H.EMPTY_NODE;return He(t,(r,i)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const s=Ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ie(e))}}ED(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD extends zc{constructor(e){super(),this.indexPath_=e,A(!J(e)&&q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fi(e.name,n.name):s}makePost(e,n){const r=Ie(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new X(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,ml);return new X(si,e)}toString(){return Qo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends zc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(e,n){const r=Ie(e);return new X(n,r)}toString(){return".value"}}const AD=new ID;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return{type:"value",snapshotNode:t}}function ys(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ko(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Go(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){A(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ko(n,l)):A(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ys(n,r)):o.trackChildChange(Go(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Te,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ko(i,s))}),n.isLeafNode()||n.forEachChild(Te,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Go(i,s,o))}else r.trackChildChange(ys(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.indexedFilter_=new wp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Yo.getStartPost_(e),this.endPost_=Yo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new X(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const s=this;return n.forEachChild(Te,(o,l)=>{s.matches(new X(o,l))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Yo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new X(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const u=this.index_.getCompare();o=(f,p)=>u(p,f)}else o=this.index_.getCompare();const l=e;A(l.numChildren()===this.limit_,"");const a=new X(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const u=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,a);if(d&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Go(n,r,u)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ko(n,u));const m=l.updateImmediateChild(n,H.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ys(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:d&&o(c,a)>=0?(s!=null&&(s.trackChildChange(Ko(c.name,c.node)),s.trackChildChange(ys(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vs}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const e=new xp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MD(t){return t.loadsAllData()?new wp(t.getIndex()):t.hasLimit()?new OD(t):new Yo(t)}function vv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Te?n="$priority":t.index_===AD?n="$value":t.index_===Hi?n="$key":(A(t.index_ instanceof PD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function yv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends tx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(A(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pl("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qa.getListenId_(e,r),l={};this.listens_[o]=l;const a=vv(e._queryParams);this.restRequest_(s+".json",a,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(s,u,!1,r),gs(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=qa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=vv(e._queryParams),r=e._path.toString(),i=new dl;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lI(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Uo(l.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return{value:null,children:new Map}}function dx(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,Xa());const i=t.children.get(r);e=fe(e),dx(i,e,n)}}function Rf(t,e,n){t.value!==null?n(e,t.value):FD(t,(r,i)=>{const s=new ae(e.toString()+"/"+r);Rf(i,s,n)})}function FD(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&He(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=10*1e3,zD=30*1e3,$D=5*60*1e3;class BD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jD(e);const r=_v+(zD-_v)*Math.random();go(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;He(e,(i,s)=>{s>0&&pn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),go(this.reportStats_.bind(this),Math.floor(Math.random()*2*$D))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ht||(Ht={}));function Cp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ep(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ht.ACK_USER_WRITE,this.source=Cp()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ae(e));return new Za(ie(),n,this.revert)}}else return A(q(this.path)===e,"operationForChild called for unrelated child."),new Za(fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.source=e,this.path=n,this.type=Ht.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new qo(this.source,ie()):new qo(this.source,fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ht.OVERWRITE}operationForChild(e){return J(this.path)?new oi(this.source,ie(),this.snap.getImmediateChild(e)):new oi(this.source,fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ht.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new ae(e));return n.isEmpty()?null:n.value?new oi(this.source,ie(),n.value):new _s(this.source,ie(),n)}else return A(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _s(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WD(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(DD(o.childName,o.snapshotNode))}),Ys(t,i,"child_removed",e,r,n),Ys(t,i,"child_added",e,r,n),Ys(t,i,"child_moved",s,r,n),Ys(t,i,"child_changed",e,r,n),Ys(t,i,"value",e,r,n),i}function Ys(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>VD(t,l,a)),o.forEach(l=>{const a=HD(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function HD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VD(t,e,n){if(e.childName==null||n.childName==null)throw Ps("Should only compare child_ events.");const r=new X(e.childName,e.snapshotNode),i=new X(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e){return{eventCache:t,serverCache:e}}function vo(t,e,n,r){return $c(new Nr(e,n,r),t.serverCache)}function fx(t,e,n,r){return $c(t.eventCache,new Nr(e,n,r))}function Ja(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;const QD=()=>(Hu||(Hu=new ut(PA)),Hu);class ue{static fromObject(e){let n=new ue(null);return He(e,(r,i)=>{n=n.set(new ae(r),i)}),n}constructor(e,n=QD()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(J(e))return null;{const r=q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(fe(e),n);return s!=null?{path:be(new ae(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=q(e),r=this.children.get(n);return r!==null?r.subtree(fe(e)):new ue(null)}}set(e,n){if(J(e))return new ue(n,this.children);{const r=q(e),s=(this.children.get(r)||new ue(null)).set(fe(e),n),o=this.children.insert(r,s);return new ue(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new ue(null):new ue(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(fe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ue(null):new ue(this.value,s)}else return this}}get(e){if(J(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(J(e))return n;{const r=q(e),s=(this.children.get(r)||new ue(null)).setTree(fe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ue(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(J(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(fe(e),be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(fe(e),be(n,i),r):new ue(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new ue(null))}}function yo(t,e,n){if(J(e))return new Kt(new ue(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=et(i,e);return s=s.updateChild(o,n),new Kt(t.writeTree_.set(i,s))}else{const i=new ue(n),s=t.writeTree_.setTree(e,i);return new Kt(s)}}}function Pf(t,e,n){let r=t;return He(n,(i,s)=>{r=yo(r,be(e,i),s)}),r}function wv(t,e){if(J(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new ue(null));return new Kt(n)}}function If(t,e){return hi(t,e)!=null}function hi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function xv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Te,(r,i)=>{e.push(new X(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new X(r,i.value))}),e}function _r(t,e){if(J(e))return t;{const n=hi(t,e);return n!=null?new Kt(new ue(n)):new Kt(t.writeTree_.subtree(e))}}function Af(t){return t.writeTree_.isEmpty()}function ws(t,e){return hx(ie(),t.writeTree_,e)}function hx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hx(be(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t,e){return vx(e,t)}function KD(t,e,n,r,i){A(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=yo(t.visibleWrites,e,n)),t.lastWriteId=r}function GD(t,e,n,r){A(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Pf(t.visibleWrites,e,n),t.lastWriteId=r}function YD(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qD(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);A(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&XD(l,r.path)?i=!1:Rt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return ZD(t),!0;if(r.snap)t.visibleWrites=wv(t.visibleWrites,r.path);else{const l=r.children;He(l,a=>{t.visibleWrites=wv(t.visibleWrites,be(r.path,a))})}return!0}else return!1}function XD(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(be(t.path,n),e))return!0;return!1}function ZD(t){t.visibleWrites=px(t.allWrites,JD,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function JD(t){return t.visible}function px(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Rt(n,o)?(l=et(n,o),r=yo(r,l,s.snap)):Rt(o,n)&&(l=et(o,n),r=yo(r,ie(),s.snap.getChild(l)));else if(s.children){if(Rt(n,o))l=et(n,o),r=Pf(r,l,s.children);else if(Rt(o,n))if(l=et(o,n),J(l))r=Pf(r,ie(),s.children);else{const a=gs(s.children,q(l));if(a){const c=a.getChild(fe(l));r=yo(r,ie(),c)}}}else throw Ps("WriteRecord should have .snap or .children")}}return r}function mx(t,e,n,r,i){if(!r&&!i){const s=hi(t.visibleWrites,e);if(s!=null)return s;{const o=_r(t.visibleWrites,e);if(Af(o))return n;if(n==null&&!If(o,ie()))return null;{const l=n||H.EMPTY_NODE;return ws(o,l)}}}else{const s=_r(t.visibleWrites,e);if(!i&&Af(s))return n;if(!i&&n==null&&!If(s,ie()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Rt(c.path,e)||Rt(e,c.path))},l=px(t.allWrites,o,e),a=n||H.EMPTY_NODE;return ws(l,a)}}}function eO(t,e,n){let r=H.EMPTY_NODE;const i=hi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Te,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=_r(t.visibleWrites,e);return n.forEachChild(Te,(o,l)=>{const a=ws(_r(s,new ae(o)),l);r=r.updateImmediateChild(o,a)}),xv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=_r(t.visibleWrites,e);return xv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tO(t,e,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(e,n);if(If(t.visibleWrites,s))return null;{const o=_r(t.visibleWrites,s);return Af(o)?i.getChild(n):ws(o,i.getChild(n))}}function nO(t,e,n,r){const i=be(e,n),s=hi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=_r(t.visibleWrites,i);return ws(o,r.getNode().getImmediateChild(n))}else return null}function rO(t,e){return hi(t.visibleWrites,e)}function iO(t,e,n,r,i,s,o){let l;const a=_r(t.visibleWrites,e),c=hi(a,ie());if(c!=null)l=c;else if(n!=null)l=ws(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],u=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=f.getNext();for(;p&&d.length<i;)u(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function sO(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function ec(t,e,n,r){return mx(t.writeTree,t.treePath,e,n,r)}function bp(t,e){return eO(t.writeTree,t.treePath,e)}function Cv(t,e,n,r){return tO(t.writeTree,t.treePath,e,n,r)}function tc(t,e){return rO(t.writeTree,be(t.treePath,e))}function oO(t,e,n,r,i,s){return iO(t.writeTree,t.treePath,e,n,r,i,s)}function Tp(t,e,n){return nO(t.writeTree,t.treePath,e,n)}function gx(t,e){return vx(be(t.treePath,e),t.writeTree)}function vx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Go(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ko(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ys(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Go(r,e.snapshotNode,i.oldSnap));else throw Ps("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const yx=new aO;class kp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Nr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:li(this.viewCache_),s=oO(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){return{filter:t}}function uO(t,e){A(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),A(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dO(t,e,n,r,i){const s=new lO;let o,l;if(n.type===Ht.OVERWRITE){const c=n;c.source.fromUser?o=Df(t,e,c.path,c.snap,r,i,s):(A(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=nc(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===Ht.MERGE){const c=n;c.source.fromUser?o=hO(t,e,c.path,c.children,r,i,s):(A(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Of(t,e,c.path,c.children,r,i,l,s))}else if(n.type===Ht.ACK_USER_WRITE){const c=n;c.revert?o=gO(t,e,c.path,r,i,s):o=pO(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ht.LISTEN_COMPLETE)o=mO(t,e,n.path,r,s);else throw Ps("Unknown operation type: "+n.type);const a=s.getChanges();return fO(e,o,a),{viewCache:o,changes:a}}function fO(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ja(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ux(Ja(e)))}}function _x(t,e,n,r,i,s){const o=e.eventCache;if(tc(r,n)!=null)return e;{let l,a;if(J(n))if(A(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=li(e),d=c instanceof H?c:H.EMPTY_NODE,u=bp(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const c=ec(r,li(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=q(n);if(c===".priority"){A(kr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const u=Cv(r,n,d,a);u!=null?l=t.filter.updatePriority(d,u):l=o.getNode()}else{const d=fe(n);let u;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=Cv(r,n,o.getNode(),a);f!=null?u=o.getNode().getImmediateChild(c).updateChild(d,f):u=o.getNode().getImmediateChild(c)}else u=Tp(r,c,e.serverCache);u!=null?l=t.filter.updateChild(o.getNode(),c,u,d,i,s):l=o.getNode()}}return vo(e,l,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function nc(t,e,n,r,i,s,o,l){const a=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);c=d.updateFullNode(a.getNode(),p,null)}else{const p=q(n);if(!a.isCompleteForPath(n)&&kr(n)>1)return e;const w=fe(n),x=a.getNode().getImmediateChild(p).updateChild(w,r);p===".priority"?c=d.updatePriority(a.getNode(),x):c=d.updateChild(a.getNode(),p,x,w,yx,null)}const u=fx(e,c,a.isFullyInitialized()||J(n),d.filtersNodes()),f=new kp(i,u,s);return _x(t,u,n,i,f,l)}function Df(t,e,n,r,i,s,o){const l=e.eventCache;let a,c;const d=new kp(i,e,s);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=vo(e,c,!0,t.filter.filtersNodes());else{const u=q(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=vo(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=fe(n),p=l.getNode().getImmediateChild(u);let w;if(J(f))w=r;else{const m=d.getCompleteChild(u);m!=null?gp(f)===".priority"&&m.getChild(rx(f)).isEmpty()?w=m:w=m.updateChild(f,r):w=H.EMPTY_NODE}if(p.equals(w))a=e;else{const m=t.filter.updateChild(l.getNode(),u,w,f,d,o);a=vo(e,m,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ev(t,e){return t.eventCache.isCompleteForChild(e)}function hO(t,e,n,r,i,s,o){let l=e;return r.foreach((a,c)=>{const d=be(n,a);Ev(e,q(d))&&(l=Df(t,l,d,c,i,s,o))}),r.foreach((a,c)=>{const d=be(n,a);Ev(e,q(d))||(l=Df(t,l,d,c,i,s,o))}),l}function Sv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Of(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;J(n)?c=r:c=new ue(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((u,f)=>{if(d.hasChild(u)){const p=e.serverCache.getNode().getImmediateChild(u),w=Sv(t,p,f);a=nc(t,a,new ae(u),w,i,s,o,l)}}),c.children.inorderTraversal((u,f)=>{const p=!e.serverCache.isCompleteForChild(u)&&f.value===null;if(!d.hasChild(u)&&!p){const w=e.serverCache.getNode().getImmediateChild(u),m=Sv(t,w,f);a=nc(t,a,new ae(u),m,i,s,o,l)}}),a}function pO(t,e,n,r,i,s,o){if(tc(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(J(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return nc(t,e,n,a.getNode().getChild(n),i,s,l,o);if(J(n)){let c=new ue(null);return a.getNode().forEachChild(Hi,(d,u)=>{c=c.set(new ae(d),u)}),Of(t,e,n,c,i,s,l,o)}else return e}else{let c=new ue(null);return r.foreach((d,u)=>{const f=be(n,d);a.isCompleteForPath(f)&&(c=c.set(d,a.getNode().getChild(f)))}),Of(t,e,n,c,i,s,l,o)}}function mO(t,e,n,r,i){const s=e.serverCache,o=fx(e,s.getNode(),s.isFullyInitialized()||J(n),s.isFiltered());return _x(t,o,n,r,yx,i)}function gO(t,e,n,r,i,s){let o;if(tc(r,n)!=null)return e;{const l=new kp(r,e,i),a=e.eventCache.getNode();let c;if(J(n)||q(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=ec(r,li(e));else{const u=e.serverCache.getNode();A(u instanceof H,"serverChildren would be complete if leaf node"),d=bp(r,u)}d=d,c=t.filter.updateFullNode(a,d,s)}else{const d=q(n);let u=Tp(r,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=a.getImmediateChild(d)),u!=null?c=t.filter.updateChild(a,d,u,fe(n),l,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(a,d,H.EMPTY_NODE,fe(n),l,s):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ec(r,li(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||tc(r,ie())!=null,vo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new wp(r.getIndex()),s=MD(r);this.processor_=cO(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(H.EMPTY_NODE,l.getNode(),null),d=new Nr(a,o.isFullyInitialized(),i.filtersNodes()),u=new Nr(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=$c(u,d),this.eventGenerator_=new UD(this.query_)}get query(){return this.query_}}function yO(t){return t.viewCache_.serverCache.getNode()}function _O(t){return Ja(t.viewCache_)}function wO(t,e){const n=li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function bv(t){return t.eventRegistrations_.length===0}function xO(t,e){t.eventRegistrations_.push(e)}function Tv(t,e,n){const r=[];if(n){A(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function kv(t,e,n,r){e.type===Ht.MERGE&&e.source.queryId!==null&&(A(li(t.viewCache_),"We should always have a full cache before handling merges"),A(Ja(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=dO(t.processor_,i,e,n,r);return uO(t.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,wx(t,s.changes,s.viewCache.eventCache.getNode(),null)}function CO(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Te,(s,o)=>{r.push(ys(s,o))}),n.isFullyInitialized()&&r.push(ux(n.getNode())),wx(t,r,n.getNode(),e)}function wx(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return WD(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;class xx{constructor(){this.views=new Map}}function EO(t){A(!rc,"__referenceConstructor has already been defined"),rc=t}function SO(){return A(rc,"Reference.ts has not been loaded"),rc}function bO(t){return t.views.size===0}function Np(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),kv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(kv(o,e,n,r));return s}}function Cx(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=ec(n,i?r:null),a=!1;l?a=!0:r instanceof H?(l=bp(n,r),a=!1):(l=H.EMPTY_NODE,a=!1);const c=$c(new Nr(l,a,!1),new Nr(r,i,!1));return new vO(e,c)}return o}function TO(t,e,n,r,i,s){const o=Cx(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),xO(o,n),CO(o,n)}function kO(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Rr(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Tv(c,n,r)),bv(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Tv(a,n,r)),bv(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Rr(t)&&s.push(new(SO())(e._repo,e._path)),{removed:s,events:o}}function Ex(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wr(t,e){let n=null;for(const r of t.views.values())n=n||wO(r,e);return n}function Sx(t,e){if(e._queryParams.loadsAllData())return Uc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function bx(t,e){return Sx(t,e)!=null}function Rr(t){return Uc(t)!=null}function Uc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;function NO(t){A(!ic,"__referenceConstructor has already been defined"),ic=t}function RO(){return A(ic,"Reference.ts has not been loaded"),ic}let PO=1;class Nv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ue(null),this.pendingWriteTree_=sO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Tx(t,e,n,r,i){return KD(t.pendingWriteTree_,e,n,r,i),i?Ds(t,new oi(Cp(),e,n)):[]}function IO(t,e,n,r){GD(t.pendingWriteTree_,e,n,r);const i=ue.fromObject(n);return Ds(t,new _s(Cp(),e,i))}function lr(t,e,n=!1){const r=YD(t.pendingWriteTree_,e);if(qD(t.pendingWriteTree_,e)){let s=new ue(null);return r.snap!=null?s=s.set(ie(),!0):He(r.children,o=>{s=s.set(new ae(o),!0)}),Ds(t,new Za(r.path,s,n))}else return[]}function gl(t,e,n){return Ds(t,new oi(Ep(),e,n))}function AO(t,e,n){const r=ue.fromObject(n);return Ds(t,new _s(Ep(),e,r))}function DO(t,e){return Ds(t,new qo(Ep(),e))}function OO(t,e,n){const r=Pp(t,n);if(r){const i=Ip(r),s=i.path,o=i.queryId,l=et(s,e),a=new qo(Sp(o),l);return Ap(t,s,a)}else return[]}function sc(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||bx(o,e))){const a=kO(o,e,n,r);bO(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=a.removed;if(l=a.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(s,(f,p)=>Rr(p));if(d&&!u){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=FO(f);for(let w=0;w<p.length;++w){const m=p[w],x=m.query,y=Px(t,m);t.listenProvider_.startListening(_o(x),Xo(t,x),y.hashFn,y.onComplete)}}}!u&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(_o(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(Wc(f));t.listenProvider_.stopListening(_o(f),p)}))}jO(t,c)}return l}function kx(t,e,n,r){const i=Pp(t,r);if(i!=null){const s=Ip(i),o=s.path,l=s.queryId,a=et(o,e),c=new oi(Sp(l),a,n);return Ap(t,o,c)}else return[]}function MO(t,e,n,r){const i=Pp(t,r);if(i){const s=Ip(i),o=s.path,l=s.queryId,a=et(o,e),c=ue.fromObject(n),d=new _s(Sp(l),a,c);return Ap(t,o,d)}else return[]}function Mf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const w=et(f,i);s=s||wr(p,w),o=o||Rr(p)});let l=t.syncPointTree_.get(i);l?(o=o||Rr(l),s=s||wr(l,ie())):(l=new xx,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,w)=>{const m=wr(w,ie());m&&(s=s.updateImmediateChild(p,m))}));const c=bx(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Wc(e);A(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=zO();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const d=Bc(t.pendingWriteTree_,i);let u=TO(l,e,n,d,s,a);if(!c&&!o&&!r){const f=Sx(l,e);u=u.concat($O(t,e,f))}return u}function Rp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=et(o,e),c=wr(l,a);if(c)return c});return mx(i,e,s,n,!0)}function LO(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const u=et(c,n);r=r||wr(d,u)});let i=t.syncPointTree_.get(n);i?r=r||wr(i,ie()):(i=new xx,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Nr(r,!0,!1):null,l=Bc(t.pendingWriteTree_,e._path),a=Cx(i,e,l,s?o.getNode():H.EMPTY_NODE,s);return _O(a)}function Ds(t,e){return Nx(e,t.syncPointTree_,null,Bc(t.pendingWriteTree_,ie()))}function Nx(t,e,n,r){if(J(t.path))return Rx(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=wr(i,ie()));let s=[];const o=q(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,d=gx(r,o);s=s.concat(Nx(l,a,c,d))}return i&&(s=s.concat(Np(i,t,r,n))),s}}function Rx(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=wr(i,ie()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=gx(r,o),d=t.operationForChild(o);d&&(s=s.concat(Rx(d,l,a,c)))}),i&&(s=s.concat(Np(i,t,r,n))),s}function Px(t,e){const n=e.query,r=Xo(t,n);return{hashFn:()=>(yO(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?OO(t,n._path,r):DO(t,n._path);{const s=DA(i,n);return sc(t,n,null,s)}}}}function Xo(t,e){const n=Wc(e);return t.queryToTagMap.get(n)}function Wc(t){return t._path.toString()+"$"+t._queryIdentifier}function Pp(t,e){return t.tagToQueryMap.get(e)}function Ip(t){const e=t.indexOf("$");return A(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ae(t.substr(0,e))}}function Ap(t,e,n){const r=t.syncPointTree_.get(e);A(r,"Missing sync point for query tag that we're tracking");const i=Bc(t.pendingWriteTree_,e);return Np(r,n,i,null)}function FO(t){return t.fold((e,n,r)=>{if(n&&Rr(n))return[Uc(n)];{let i=[];return n&&(i=Ex(n)),He(r,(s,o)=>{i=i.concat(o)}),i}})}function _o(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(RO())(t._repo,t._path):t}function jO(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Wc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function zO(){return PO++}function $O(t,e,n){const r=e._path,i=Xo(t,e),s=Px(t,n),o=t.listenProvider_.startListening(_o(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)A(!Rr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,d,u)=>{if(!J(c)&&d&&Rr(d))return[Uc(d).query];{let f=[];return d&&(f=f.concat(Ex(d).map(p=>p.query))),He(u,(p,w)=>{f=f.concat(w)}),f}});for(let c=0;c<a.length;++c){const d=a[c];t.listenProvider_.stopListening(_o(d),Xo(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Dp(n)}node(){return this.node_}}class Op{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new Op(this.syncTree_,n)}node(){return Rp(this.syncTree_,this.path_)}}const BO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Rv=function(t,e,n){if(!t||typeof t!="object")return t;if(A(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return UO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return WO(t[".sv"],e);A(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},UO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+t)}},WO=function(t,e,n){t.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=e.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Ix=function(t,e,n,r){return Mp(e,new Op(n,t),r)},Ax=function(t,e,n){return Mp(t,new Dp(e),n)};function Mp(t,e,n){const r=t.getPriority().val(),i=Rv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Rv(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Me(l,Ie(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Me(i))),o.forEachChild(Te,(l,a)=>{const c=Mp(a,e.getImmediateChild(l),n);c!==a&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Fp(t,e){let n=e instanceof ae?e:new ae(e),r=t,i=q(n);for(;i!==null;){const s=gs(r.node.children,i)||{children:{},childCount:0};r=new Lp(i,r,s),n=fe(n),i=q(n)}return r}function Os(t){return t.node.value}function Dx(t,e){t.node.value=e,Lf(t)}function Ox(t){return t.node.childCount>0}function HO(t){return Os(t)===void 0&&!Ox(t)}function Hc(t,e){He(t.node.children,(n,r)=>{e(new Lp(n,t,r))})}function Mx(t,e,n,r){n&&!r&&e(t),Hc(t,i=>{Mx(i,e,!0,r)}),n&&r&&e(t)}function VO(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vl(t){return new ae(t.parent===null?t.name:vl(t.parent)+"/"+t.name)}function Lf(t){t.parent!==null&&QO(t.parent,t.name,t)}function QO(t,e,n){const r=HO(n),i=pn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Lf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Lf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/[\[\].#$\/\u0000-\u001F\u007F]/,GO=/[\[\].#$\u0000-\u001F\u007F]/,Vu=10*1024*1024,jp=function(t){return typeof t=="string"&&t.length!==0&&!KO.test(t)},Lx=function(t){return typeof t=="string"&&t.length!==0&&!GO.test(t)},YO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Lx(t)},qO=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!dp(t)||t&&typeof t=="object"&&pn(t,".sv")},XO=function(t,e,n,r){Vc(Fc(t,"value"),e,n)},Vc=function(t,e,n){const r=n instanceof ae?new hD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fr(r)+" with contents = "+e.toString());if(dp(e))throw new Error(t+"contains "+e.toString()+" "+Fr(r));if(typeof e=="string"&&e.length>Vu/3&&jc(e)>Vu)throw new Error(t+"contains a string greater than "+Vu+" utf8 bytes "+Fr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(He(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!jp(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pD(r,o),Vc(t,l,r),mD(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fr(r)+" in addition to actual children.")}},ZO=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Qo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!jp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(fD);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Rt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},JO=function(t,e,n,r){const i=Fc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];He(e,(o,l)=>{const a=new ae(o);if(Vc(i,l,be(n,a)),gp(a)===".priority"&&!qO(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),ZO(i,s)},Fx=function(t,e,n,r){if(!Lx(n))throw new Error(Fc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},e2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fx(t,e,n)},jx=function(t,e){if(q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},t2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YO(n))throw new Error(Fc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!vp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function zx(t,e,n){Qc(t,n),$x(t,r=>vp(r,e))}function Ot(t,e,n){Qc(t,n),$x(t,r=>Rt(r,e)||Rt(e,r))}function $x(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(r2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function r2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();mo&&Be("event: "+n.toString()),As(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="repo_interrupt",s2=25;class o2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xa(),this.transactionQueueTree_=new Lp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l2(t,e,n){if(t.stats_=pp(t.repoInfo_),t.forceRestClient_||FA())t.server_=new qa(t.repoInfo_,(r,i,s,o)=>{Pv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Iv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Tn(t.repoInfo_,e,(r,i,s,o)=>{Pv(t,r,i,s,o)},r=>{Iv(t,r)},r=>{c2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=UA(t.repoInfo_,()=>new BD(t.stats_,t.server_)),t.infoData_=new LD,t.infoSyncTree_=new Nv({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=gl(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),zp(t,"connected",!1),t.serverSyncTree_=new Nv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const c=o(l,a);Ot(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function a2(t){const n=t.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Kc(t){return BO({timestamp:a2(t)})}function Pv(t,e,n,r,i){t.dataUpdateCount++;const s=new ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Wa(n,c=>Ie(c));o=MO(t.serverSyncTree_,s,a,i)}else{const a=Ie(n);o=kx(t.serverSyncTree_,s,a,i)}else if(r){const a=Wa(n,c=>Ie(c));o=AO(t.serverSyncTree_,s,a)}else{const a=Ie(n);o=gl(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=xs(t,s)),Ot(t.eventQueue_,l,o)}function Iv(t,e){zp(t,"connected",e),e===!1&&h2(t)}function c2(t,e){He(e,(n,r)=>{zp(t,n,r)})}function zp(t,e,n){const r=new ae("/.info/"+e),i=Ie(n);t.infoData_.updateSnapshot(r,i);const s=gl(t.infoSyncTree_,r,i);Ot(t.eventQueue_,r,s)}function $p(t){return t.nextWriteId_++}function u2(t,e,n){const r=LO(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ie(i).withIndex(e._queryParams.getIndex());Mf(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=gl(t.serverSyncTree_,e._path,s);else{const l=Xo(t.serverSyncTree_,e);o=kx(t.serverSyncTree_,e._path,s,l)}return Ot(t.eventQueue_,e._path,o),sc(t.serverSyncTree_,e,n,null,!0),s},i=>(yl(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function d2(t,e,n,r,i){yl(t,"set",{path:e.toString(),value:n,priority:r});const s=Kc(t),o=Ie(n,r),l=Rp(t.serverSyncTree_,e),a=Ax(o,l,s),c=$p(t),d=Tx(t.serverSyncTree_,e,a,c,!0);Qc(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const w=f==="ok";w||nt("set at "+e+" failed: "+f);const m=lr(t.serverSyncTree_,c,!w);Ot(t.eventQueue_,e,m),Ff(t,i,f,p)});const u=Up(t,e);xs(t,u),Ot(t.eventQueue_,u,[])}function f2(t,e,n,r){yl(t,"update",{path:e.toString(),value:n});let i=!0;const s=Kc(t),o={};if(He(n,(l,a)=>{i=!1,o[l]=Ix(be(e,l),Ie(a),t.serverSyncTree_,s)}),i)Be("update() called with empty data.  Don't do anything."),Ff(t,r,"ok",void 0);else{const l=$p(t),a=IO(t.serverSyncTree_,e,o,l);Qc(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,d)=>{const u=c==="ok";u||nt("update at "+e+" failed: "+c);const f=lr(t.serverSyncTree_,l,!u),p=f.length>0?xs(t,e):e;Ot(t.eventQueue_,p,f),Ff(t,r,c,d)}),He(n,c=>{const d=Up(t,be(e,c));xs(t,d)}),Ot(t.eventQueue_,e,[])}}function h2(t){yl(t,"onDisconnectEvents");const e=Kc(t),n=Xa();Rf(t.onDisconnect_,ie(),(i,s)=>{const o=Ix(i,s,t.serverSyncTree_,e);dx(n,i,o)});let r=[];Rf(n,ie(),(i,s)=>{r=r.concat(gl(t.serverSyncTree_,i,s));const o=Up(t,i);xs(t,o)}),t.onDisconnect_=Xa(),Ot(t.eventQueue_,ie(),r)}function p2(t,e,n){let r;q(e._path)===".info"?r=Mf(t.infoSyncTree_,e,n):r=Mf(t.serverSyncTree_,e,n),zx(t.eventQueue_,e._path,r)}function m2(t,e,n){let r;q(e._path)===".info"?r=sc(t.infoSyncTree_,e,n):r=sc(t.serverSyncTree_,e,n),zx(t.eventQueue_,e._path,r)}function g2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(i2)}function yl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Be(n,...e)}function Ff(t,e,n,r){e&&As(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Bx(t,e,n){return Rp(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function Bp(t,e=t.transactionQueueTree_){if(e||Gc(t,e),Os(e)){const n=Wx(t,e);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&v2(t,vl(e),n)}else Ox(e)&&Hc(e,n=>{Bp(t,n)})}function v2(t,e,n){const r=n.map(c=>c.currentWriteId),i=Bx(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];A(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=et(e,d.path);s=s.updateChild(u,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,c=>{yl(t,"transaction put response",{path:a.toString(),status:c});let d=[];if(c==="ok"){const u=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(lr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&u.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Gc(t,Fp(t.transactionQueueTree_,e)),Bp(t,t.transactionQueueTree_),Ot(t.eventQueue_,e,d);for(let f=0;f<u.length;f++)As(u[f])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{nt("transaction at "+a.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}xs(t,e)}},o)}function xs(t,e){const n=Ux(t,e),r=vl(n),i=Wx(t,n);return y2(t,i,r),r}function y2(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=et(n,a.path);let d=!1,u;if(A(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,u=a.abortReason,i=i.concat(lr(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=s2)d=!0,u="maxretry",i=i.concat(lr(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Bx(t,a.path,o);a.currentInputSnapshot=f;const p=e[l].update(f.val());if(p!==void 0){Vc("transaction failed: Data returned ",p,a.path);let w=Ie(p);typeof p=="object"&&p!=null&&pn(p,".priority")||(w=w.updatePriority(f.getPriority()));const x=a.currentWriteId,y=Kc(t),v=Ax(w,f,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=v,a.currentWriteId=$p(t),o.splice(o.indexOf(x),1),i=i.concat(Tx(t.serverSyncTree_,a.path,v,a.currentWriteId,a.applyLocally)),i=i.concat(lr(t.serverSyncTree_,x,!0))}else d=!0,u="nodata",i=i.concat(lr(t.serverSyncTree_,a.currentWriteId,!0))}Ot(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(u==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(u),!1,null))))}Gc(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)As(r[l]);Bp(t,t.transactionQueueTree_)}function Ux(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);n!==null&&Os(r)===void 0;)r=Fp(r,n),e=fe(e),n=q(e);return r}function Wx(t,e){const n=[];return Hx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Hx(t,e,n){const r=Os(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hc(e,i=>{Hx(t,i,n)})}function Gc(t,e){const n=Os(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Dx(e,n.length>0?n:void 0)}Hc(e,r=>{Gc(t,r)})}function Up(t,e){const n=vl(Ux(t,e)),r=Fp(t.transactionQueueTree_,e);return VO(r,i=>{Qu(t,i)}),Qu(t,r),Mx(r,i=>{Qu(t,i)}),n}function Qu(t,e){const n=Os(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(lr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Dx(e,void 0):n.length=s+1,Ot(t.eventQueue_,vl(e),i);for(let o=0;o<r.length;o++)As(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function w2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Av=function(t,e){const n=x2(t),r=n.namespace;n.domain==="firebase.com"&&On(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||NA();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new G1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ae(n.pathString)}},x2=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(i=_2(t.substring(d,u)));const f=w2(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class E2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return J(this._path)?null:gp(this._path)}get ref(){return new Ln(this._repo,this._path)}get _queryIdentifier(){const e=yv(this._queryParams),n=fp(e);return n==="{}"?"default":n}get _queryObject(){return yv(this._queryParams)}isEqual(e){if(e=Is(e),!(e instanceof Wp))return!1;const n=this._repo===e._repo,r=vp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+dD(this._path)}}class Ln extends Wp{constructor(e,n){super(e,n,new xp,!1)}get parent(){const e=rx(this._path);return e===null?null:new Ln(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ae(e),r=jf(this.ref,e);return new Zo(this._node.getChild(n),r,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Zo(i,jf(this.ref,r),Te)))}hasChild(e){const n=new ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vn(t,e){return t=Is(t),t._checkNotDeleted("ref"),e!==void 0?jf(t._root,e):t._root}function jf(t,e){return t=Is(t),q(t._path)===null?e2("child","path",e):Fx("child","path",e),new Ln(t._repo,be(t._path,e))}function S2(t){return jx("remove",t._path),ua(t,null)}function ua(t,e){t=Is(t),jx("set",t._path),XO("set",e,t._path);const n=new dl;return d2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Dv(t,e){JO("update",e,t._path);const n=new dl;return f2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function no(t){t=Is(t);const e=new Vx(()=>{}),n=new Yc(e);return u2(t._repo,t,n).then(r=>new Zo(r,new Ln(t._repo,t._path),t._queryParams.getIndex()))}class Yc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new C2("value",this,new Zo(e.snapshotNode,new Ln(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new E2(this,e,n):null}matches(e){return e instanceof Yc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function b2(t,e,n,r,i){const s=new Vx(n,void 0),o=new Yc(s);return p2(t._repo,t,o),()=>m2(t._repo,t,o)}function T2(t,e,n,r){return b2(t,"value",e)}EO(Ln);NO(Ln);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="FIREBASE_DATABASE_EMULATOR_HOST",zf={};let N2=!1;function R2(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=cp(s);t.repoInfo_=new G1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function P2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Av(s,i),l=o.repoInfo,a;typeof process<"u"&&ev&&(a=ev[k2]),a?(s=`http://${a}?ns=${l.namespace}`,o=Av(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new zA(t.name,t.options,e);t2("Invalid Firebase Database URL",o),J(o.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");const d=A2(l,t,c,new jA(t,n));return new D2(d,t)}function I2(t,e){const n=zf[e];(!n||n[t.key]!==t)&&On(`Database ${e}(${t.repoInfo_}) has already been deleted.`),g2(t),delete n[t.key]}function A2(t,e,n,r){let i=zf[e.name];i||(i={},zf[e.name]=i);let s=i[t.toURLString()];return s&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new o2(t,N2,n,r),i[t.toURLString()]=s,s}class D2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(l2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ln(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(I2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&On("Cannot call "+e+" on a deleted database.")}}function O2(t=dA(),e){const n=oA(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=QP("database");r&&M2(n,...r)}return n}function M2(t,e,n,r={}){t=Is(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ha(r,s.repoInfo_.emulatorOptions))return;On("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ca(ca.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:GP(r.mockUserToken,t.app.options.projectId);o=new ca(l)}cp(e)&&(KP(e),XP("Database",!0)),R2(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){CA(uA),Qa(new Wo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return P2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ui(tv,nv,t),Ui(tv,nv,"esm2020")}Tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};L2();var F2="firebase",j2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(F2,j2,"app");const z2={apiKey:"AIzaSyCUyBJOM3pGYDeOk1oLEXWiFdLC_Bys4rY",authDomain:"quicksync-5d384.firebaseapp.com",databaseURL:"https://quicksync-5d384-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"quicksync-5d384",storageBucket:"quicksync-5d384.firebasestorage.app",messagingSenderId:"431033998399",appId:"1:431033998399:web:5c1884bcfb87b0be6bac8a",measurementId:"G-5YCJH2CG1H"},$2=I1(z2),yn=O2($2);class B2{constructor(e,n){this.roomCode=e,this.isHost=n}async initializeRoom(e){if(!this.isHost)throw new Error("Only host can initialize room");try{const n=vn(yn,`audioSync/${this.roomCode}`);await ua(n,{...e,connectedDevices:1,hostTimestamp:Date.now(),latencyOffset:e.latencyOffset||0})}catch(n){throw console.error("Error initializing room:",n),n}}async updatePlaybackState(e){if(!this.isHost)return;const n=vn(yn,`audioSync/${this.roomCode}`);await Dv(n,{...e,timestamp:Date.now()})}subscribeToPlaybackState(e){const n=vn(yn,`audioSync/${this.roomCode}`);return T2(n,i=>{const s=i.val();s&&e({songId:s.songId,isPlaying:s.isPlaying,currentTime:s.currentTime,timestamp:s.timestamp,isShuffled:s.isShuffled||!1,repeatMode:s.repeatMode||"off",latencyOffset:s.latencyOffset||0})})}async updateLatencyOffset(e){if(!this.isHost)return;const n=vn(yn,`audioSync/${this.roomCode}`);await Dv(n,{latencyOffset:e})}async checkRoomExists(){try{const e=vn(yn,`audioSync/${this.roomCode}`);return(await no(e)).exists()}catch(e){throw console.error("Error checking room:",e),e}}async incrementDeviceCount(){const e=vn(yn,`audioSync/${this.roomCode}/connectedDevices`),r=(await no(e)).val()||0;await ua(e,r+1)}async decrementDeviceCount(){const e=vn(yn,`audioSync/${this.roomCode}/connectedDevices`),r=(await no(e)).val()||0;await ua(e,Math.max(0,r-1))}async getConnectedDevices(){const e=vn(yn,`audioSync/${this.roomCode}/connectedDevices`);return(await no(e)).val()||0}}var Ku="focusScope.autoFocusOnMount",Gu="focusScope.autoFocusOnUnmount",Ov={bubbles:!1,cancelable:!0},U2="FocusScope",Qx=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,a]=h.useState(null),c=Dt(i),d=Dt(s),u=h.useRef(null),f=ke(e,m=>a(m)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let m=function(_){if(p.paused||!l)return;const C=_.target;l.contains(C)?u.current=C:Kn(u.current,{select:!0})},x=function(_){if(p.paused||!l)return;const C=_.relatedTarget;C!==null&&(l.contains(C)||Kn(u.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Kn(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){Lv.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Ku,Ov);l.addEventListener(Ku,c),l.dispatchEvent(y),y.defaultPrevented||(W2(G2(Kx(l)),{select:!0}),document.activeElement===m&&Kn(l))}return()=>{l.removeEventListener(Ku,c),setTimeout(()=>{const y=new CustomEvent(Gu,Ov);l.addEventListener(Gu,d),l.dispatchEvent(y),y.defaultPrevented||Kn(m??document.body,{select:!0}),l.removeEventListener(Gu,d),Lv.remove(p)},0)}}},[l,c,d,p]);const w=h.useCallback(m=>{if(!n&&!r||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(x&&y){const v=m.currentTarget,[_,C]=H2(v);_&&C?!m.shiftKey&&y===C?(m.preventDefault(),n&&Kn(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),n&&Kn(C,{select:!0})):y===v&&m.preventDefault()}},[n,r,p.paused]);return g.jsx(_e.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});Qx.displayName=U2;function W2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Kn(r,{select:e}),document.activeElement!==n)return}function H2(t){const e=Kx(t),n=Mv(e,t),r=Mv(e.reverse(),t);return[n,r]}function Kx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mv(t,e){for(const n of t)if(!V2(n,{upTo:e}))return n}function V2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Q2(t){return t instanceof HTMLInputElement&&"select"in t}function Kn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Q2(t)&&e&&t.select()}}var Lv=K2();function K2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Fv(t,e),t.unshift(e)},remove(e){var n;t=Fv(t,e),(n=t[0])==null||n.resume()}}}function Fv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function G2(t){return t.filter(e=>e.tagName!=="A")}var Yu=0;function Y2(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jv()),document.body.insertAdjacentElement("beforeend",t[1]??jv()),Yu++,()=>{Yu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yu--}},[])}function jv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var an=function(){return an=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},an.apply(this,arguments)};function Gx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var da="right-scroll-bar-position",fa="width-before-scroll-bar",X2="with-scroll-bars-hidden",Z2="--removed-body-scroll-bar-size";function qu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function J2(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var eM=typeof window<"u"?h.useLayoutEffect:h.useEffect,zv=new WeakMap;function tM(t,e){var n=J2(null,function(r){return t.forEach(function(i){return qu(i,r)})});return eM(function(){var r=zv.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||qu(l,null)}),s.forEach(function(l){i.has(l)||qu(l,o)})}zv.set(n,t)},[t]),n}function nM(t){return t}function rM(t,e){e===void 0&&(e=nM);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var a=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(a)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function iM(t){t===void 0&&(t={});var e=rM(null);return e.options=an({async:!0,ssr:!1},t),e}var Yx=function(t){var e=t.sideCar,n=Gx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,an({},n))};Yx.isSideCarExport=!0;function sM(t,e){return t.useMedium(e),Yx}var qx=iM(),Xu=function(){},qc=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Xu,onWheelCapture:Xu,onTouchMoveCapture:Xu}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,a=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,p=t.noIsolation,w=t.inert,m=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,v=t.gapMode,_=Gx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=tM([n,e]),b=an(an({},_),i);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:qx,removeScrollBar:c,shards:u,noIsolation:p,inert:w,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?h.cloneElement(h.Children.only(l),an(an({},b),{ref:S})):h.createElement(y,an({},b,{className:a,ref:S}),l))});qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qc.classNames={fullWidth:fa,zeroRight:da};var oM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oM();return e&&t.setAttribute("nonce",e),t}function aM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=lM())&&(aM(e,n),cM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dM=function(){var t=uM();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Xx=function(){var t=dM(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},fM={left:0,top:0,right:0,gap:0},Zu=function(t){return parseInt(t||"",10)||0},hM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Zu(n),Zu(r),Zu(i)]},pM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fM;var e=hM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mM=Xx(),Vi="data-scroll-locked",gM=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(X2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(da,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fa,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(da," .").concat(da,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fa," .").concat(fa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vi,`] {
    `).concat(Z2,": ").concat(l,`px;
  }
`)},$v=function(){var t=parseInt(document.body.getAttribute(Vi)||"0",10);return isFinite(t)?t:0},vM=function(){h.useEffect(function(){return document.body.setAttribute(Vi,($v()+1).toString()),function(){var t=$v()-1;t<=0?document.body.removeAttribute(Vi):document.body.setAttribute(Vi,t.toString())}},[])},yM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;vM();var s=h.useMemo(function(){return pM(i)},[i]);return h.createElement(mM,{styles:gM(s,!e,i,n?"":"!important")})},$f=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return $f=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{$f=!1}var vi=$f?{passive:!1}:!1,_M=function(t){return t.tagName==="TEXTAREA"},Zx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_M(t)&&n[e]==="visible")},wM=function(t){return Zx(t,"overflowY")},xM=function(t){return Zx(t,"overflowX")},Bv=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Jx(t,r);if(i){var s=eC(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Jx=function(t,e){return t==="v"?wM(e):xM(e)},eC=function(t,e){return t==="v"?CM(e):EM(e)},SM=function(t,e){return t==="h"&&e==="rtl"?-1:1},bM=function(t,e,n,r,i){var s=SM(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,a=e.contains(l),c=!1,d=o>0,u=0,f=0;do{var p=eC(t,l),w=p[0],m=p[1],x=p[2],y=m-x-s*w;(w||y)&&Jx(t,l)&&(u+=y,f+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(d&&(Math.abs(u)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(c=!0),c},Hl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Uv=function(t){return[t.deltaX,t.deltaY]},Wv=function(t){return t&&"current"in t?t.current:t},TM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NM=0,yi=[];function RM(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(NM++)[0],s=h.useState(Xx)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=q2([t.lockRef.current],(t.shards||[]).map(Wv),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Hl(m),v=n.current,_="deltaX"in m?m.deltaX:v[0]-y[0],C="deltaY"in m?m.deltaY:v[1]-y[1],S,b=m.target,T=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in m&&T==="h"&&b.type==="range")return!1;var k=Bv(T,b);if(!k)return!0;if(k?S=T:(S=T==="v"?"h":"v",k=Bv(T,b)),!k)return!1;if(!r.current&&"changedTouches"in m&&(_||C)&&(r.current=S),!S)return!0;var I=r.current||S;return bM(I,x,m,I==="h"?_:C,!0)},[]),a=h.useCallback(function(m){var x=m;if(!(!yi.length||yi[yi.length-1]!==s)){var y="deltaY"in x?Uv(x):Hl(x),v=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&TM(S.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(Wv).filter(Boolean).filter(function(S){return S.contains(x.target)}),C=_.length>0?l(x,_[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=h.useCallback(function(m,x,y,v){var _={name:m,delta:x,target:y,should:v,shadowParent:PM(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),d=h.useCallback(function(m){n.current=Hl(m),r.current=void 0},[]),u=h.useCallback(function(m){c(m.type,Uv(m),m.target,l(m,t.lockRef.current))},[]),f=h.useCallback(function(m){c(m.type,Hl(m),m.target,l(m,t.lockRef.current))},[]);h.useEffect(function(){return yi.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",a,vi),document.addEventListener("touchmove",a,vi),document.addEventListener("touchstart",d,vi),function(){yi=yi.filter(function(m){return m!==s}),document.removeEventListener("wheel",a,vi),document.removeEventListener("touchmove",a,vi),document.removeEventListener("touchstart",d,vi)}},[]);var p=t.removeScrollBar,w=t.inert;return h.createElement(h.Fragment,null,w?h.createElement(s,{styles:kM(i)}):null,p?h.createElement(yM,{gapMode:t.gapMode}):null)}function PM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const IM=sM(qx,RM);var tC=h.forwardRef(function(t,e){return h.createElement(qc,an({},t,{ref:e,sideCar:IM}))});tC.classNames=qc.classNames;var AM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_i=new WeakMap,Vl=new WeakMap,Ql={},Ju=0,nC=function(t){return t&&(t.host||nC(t.parentNode))},DM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OM=function(t,e,n,r){var i=DM(e,Array.isArray(t)?t:[t]);Ql[n]||(Ql[n]=new WeakMap);var s=Ql[n],o=[],l=new Set,a=new Set(i),c=function(u){!u||l.has(u)||(l.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||a.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),w=p!==null&&p!=="false",m=(_i.get(f)||0)+1,x=(s.get(f)||0)+1;_i.set(f,m),s.set(f,x),o.push(f),m===1&&w&&Vl.set(f,!0),x===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),l.clear(),Ju++,function(){o.forEach(function(u){var f=_i.get(u)-1,p=s.get(u)-1;_i.set(u,f),s.set(u,p),f||(Vl.has(u)||u.removeAttribute(r),Vl.delete(u)),p||u.removeAttribute(n)}),Ju--,Ju||(_i=new WeakMap,_i=new WeakMap,Vl=new WeakMap,Ql={})}},MM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=AM(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),OM(r,i,n,"aria-hidden")):function(){return null}},Hp="Dialog",[rC,iC]=di(Hp),[LM,Xt]=rC(Hp),sC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=h.useRef(null),a=h.useRef(null),[c=!1,d]=Wh({prop:r,defaultProp:i,onChange:s});return g.jsx(LM,{scope:e,triggerRef:l,contentRef:a,contentId:Au(),titleId:Au(),descriptionId:Au(),open:c,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};sC.displayName=Hp;var oC="DialogTrigger",lC=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xt(oC,n),s=ke(e,i.triggerRef);return g.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kp(i.open),...r,ref:s,onClick:se(t.onClick,i.onOpenToggle)})});lC.displayName=oC;var Vp="DialogPortal",[FM,aC]=rC(Vp,{forceMount:void 0}),cC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Xt(Vp,e);return g.jsx(FM,{scope:e,forceMount:n,children:h.Children.map(r,o=>g.jsx(bs,{present:n||s.open,children:g.jsx(Uh,{asChild:!0,container:i,children:o})}))})};cC.displayName=Vp;var oc="DialogOverlay",uC=h.forwardRef((t,e)=>{const n=aC(oc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Xt(oc,t.__scopeDialog);return s.modal?g.jsx(bs,{present:r||s.open,children:g.jsx(zM,{...i,ref:e})}):null});uC.displayName=oc;var jM=zo("DialogOverlay.RemoveScroll"),zM=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xt(oc,n);return g.jsx(tC,{as:jM,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(_e.div,{"data-state":Kp(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ai="DialogContent",dC=h.forwardRef((t,e)=>{const n=aC(ai,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Xt(ai,t.__scopeDialog);return g.jsx(bs,{present:r||s.open,children:s.modal?g.jsx($M,{...i,ref:e}):g.jsx(BM,{...i,ref:e})})});dC.displayName=ai;var $M=h.forwardRef((t,e)=>{const n=Xt(ai,t.__scopeDialog),r=h.useRef(null),i=ke(e,n.contentRef,r);return h.useEffect(()=>{const s=r.current;if(s)return MM(s)},[]),g.jsx(fC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:se(t.onFocusOutside,s=>s.preventDefault())})}),BM=h.forwardRef((t,e)=>{const n=Xt(ai,t.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return g.jsx(fC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var a,c;(a=t.onInteractOutside)==null||a.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),fC=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Xt(ai,n),a=h.useRef(null),c=ke(e,a);return Y2(),g.jsxs(g.Fragment,{children:[g.jsx(Qx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Tc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kp(l.open),...o,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(WM,{titleId:l.titleId}),g.jsx(VM,{contentRef:a,descriptionId:l.descriptionId})]})]})}),Qp="DialogTitle",hC=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xt(Qp,n);return g.jsx(_e.h2,{id:i.titleId,...r,ref:e})});hC.displayName=Qp;var pC="DialogDescription",mC=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xt(pC,n);return g.jsx(_e.p,{id:i.descriptionId,...r,ref:e})});mC.displayName=pC;var gC="DialogClose",vC=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xt(gC,n);return g.jsx(_e.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>i.onOpenChange(!1))})});vC.displayName=gC;function Kp(t){return t?"open":"closed"}var yC="DialogTitleWarning",[UM,_C]=BT(yC,{contentName:ai,titleName:Qp,docsSlug:"dialog"}),WM=({titleId:t})=>{const e=_C(yC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},HM="DialogDescriptionWarning",VM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_C(HM).contentName}}.`;return h.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},QM=sC,KM=lC,GM=cC,YM=uC,qM=dC,XM=hC,ZM=mC,wC=vC,xC="AlertDialog",[JM,IL]=di(xC,[iC]),Fn=iC(),CC=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fn(e);return g.jsx(QM,{...r,...n,modal:!0})};CC.displayName=xC;var eL="AlertDialogTrigger",tL=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fn(n);return g.jsx(KM,{...i,...r,ref:e})});tL.displayName=eL;var nL="AlertDialogPortal",EC=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fn(e);return g.jsx(GM,{...r,...n})};EC.displayName=nL;var rL="AlertDialogOverlay",SC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fn(n);return g.jsx(YM,{...i,...r,ref:e})});SC.displayName=rL;var Qi="AlertDialogContent",[iL,sL]=JM(Qi),oL=Bw("AlertDialogContent"),bC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Fn(n),o=h.useRef(null),l=ke(e,o),a=h.useRef(null);return g.jsx(UM,{contentName:Qi,titleName:TC,docsSlug:"alert-dialog",children:g.jsx(iL,{scope:n,cancelRef:a,children:g.jsxs(qM,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:se(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=a.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx(oL,{children:r}),g.jsx(aL,{contentRef:o})]})})})});bC.displayName=Qi;var TC="AlertDialogTitle",kC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fn(n);return g.jsx(XM,{...i,...r,ref:e})});kC.displayName=TC;var NC="AlertDialogDescription",RC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fn(n);return g.jsx(ZM,{...i,...r,ref:e})});RC.displayName=NC;var lL="AlertDialogAction",PC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fn(n);return g.jsx(wC,{...i,...r,ref:e})});PC.displayName=lL;var IC="AlertDialogCancel",AC=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=sL(IC,n),s=Fn(n),o=ke(e,i);return g.jsx(wC,{...s,...r,ref:o})});AC.displayName=IC;var aL=({contentRef:t})=>{const e=`\`${Qi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qi}\` by passing a \`${NC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},cL=CC,uL=EC,DC=SC,OC=bC,MC=PC,LC=AC,FC=kC,jC=RC;const dL=cL,fL=uL,zC=h.forwardRef(({className:t,...e},n)=>g.jsx(DC,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zC.displayName=DC.displayName;const $C=h.forwardRef(({className:t,...e},n)=>g.jsxs(fL,{children:[g.jsx(zC,{}),g.jsx(OC,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$C.displayName=OC.displayName;const BC=({className:t,...e})=>g.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...e});BC.displayName="AlertDialogHeader";const UC=({className:t,...e})=>g.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});UC.displayName="AlertDialogFooter";const WC=h.forwardRef(({className:t,...e},n)=>g.jsx(FC,{ref:n,className:ve("text-lg font-semibold",t),...e}));WC.displayName=FC.displayName;const HC=h.forwardRef(({className:t,...e},n)=>g.jsx(jC,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));HC.displayName=jC.displayName;const VC=h.forwardRef(({className:t,...e},n)=>g.jsx(MC,{ref:n,className:ve(op(),t),...e}));VC.displayName=MC.displayName;const QC=h.forwardRef(({className:t,...e},n)=>g.jsx(LC,{ref:n,className:ve(op({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));QC.displayName=LC.displayName;function hL({mode:t,roomCode:e,songsCount:n,latencyOffset:r,onLatencyOffsetChange:i}){const[s,o]=h.useState(""),[l,a]=h.useState(!1),[c,d]=h.useState(!1),{toast:u}=bc(),f=async()=>{if(s!=="admin"){u({title:"Invalid Password",description:"Please enter the correct admin password.",variant:"destructive"}),o(""),a(!1);return}d(!0);try{const p=vn(yn,"audioSync");(await no(p)).exists()?(await S2(p),u({title:"Cache Cleared",description:"All audioSync rooms have been successfully deleted."})):u({title:"No Cache Found",description:"There are no audioSync rooms to delete."})}catch{u({title:"Error",description:"Failed to delete database cache. Please try again.",variant:"destructive"})}finally{d(!1),o(""),a(!1)}};return g.jsxs("div",{className:"flex flex-col h-full overflow-y-auto pb-20 custom-scrollbar",children:[g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Settings"}),g.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[g.jsxs(xn,{className:"p-4",children:[g.jsx("p",{className:"text-sm text-inactive mb-1",children:"Mode"}),g.jsx("p",{className:"text-lg font-semibold text-foreground capitalize",children:t})]}),g.jsxs(xn,{className:"p-4",children:[g.jsx("p",{className:"text-sm text-inactive mb-1",children:"Room Code"}),g.jsx("p",{className:"text-lg font-semibold font-mono text-foreground",children:e})]}),g.jsxs(xn,{className:"p-4",children:[g.jsx("p",{className:"text-sm text-inactive mb-1",children:"Songs in Library"}),g.jsx("p",{className:"text-lg font-semibold text-foreground",children:n})]}),t==="host"&&g.jsxs(xn,{className:"p-4",children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"Latency Adjuster"}),g.jsx("p",{className:"text-xs text-inactive",children:"Fine-tune sync for joined devices"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(ln,{size:"icon",variant:"outline",onClick:()=>i(r-10),"data-testid":"button-decrease-latency",children:g.jsx(Ok,{className:"w-4 h-4"})}),g.jsxs("span",{className:"text-lg font-mono text-foreground min-w-[80px] text-center","data-testid":"text-latency-value",children:[r-500>0?"+":"",r-500,"ms"]}),g.jsx(ln,{size:"icon",variant:"outline",onClick:()=>i(r+10),"data-testid":"button-increase-latency",children:g.jsx(Fk,{className:"w-4 h-4"})})]})]}),g.jsxs(xn,{className:"p-4 border-destructive/20",children:[g.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[g.jsx(Hk,{className:"w-5 h-5 text-destructive mt-0.5"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"Delete Old Database Cache"}),g.jsx("p",{className:"text-xs text-inactive",children:"Remove all old room sessions from Firebase. This action cannot be undone."})]})]}),g.jsxs(ln,{variant:"destructive",className:"w-full",onClick:()=>a(!0),"data-testid":"button-delete-cache",children:[g.jsx(Wk,{className:"w-4 h-4 mr-2"}),"Delete Database Cache"]})]})]})]}),g.jsx(dL,{open:l,onOpenChange:a,children:g.jsxs($C,{children:[g.jsxs(BC,{children:[g.jsx(WC,{children:"Admin Password Required"}),g.jsx(HC,{children:"Enter the admin password to delete all old database cache. This will remove all room sessions from Firebase."})]}),g.jsx("div",{className:"py-4",children:g.jsx(Mc,{type:"password",placeholder:"Enter admin password",value:s,onChange:p=>o(p.target.value),"data-testid":"input-admin-password"})}),g.jsxs(UC,{children:[g.jsx(QC,{onClick:()=>{o(""),a(!1)},children:"Cancel"}),g.jsx(VC,{onClick:f,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:c?"Deleting...":"Delete Cache"})]})]})})]})}const Ur=["AIzaSyCUA6KVIK5uCnppneBQLakOMzFxIlSUTas","AIzaSyCPBX3-XlV_ZuBKlmwW5-9v8g_Kid64RG0","AIzaSyBJXGgphB5Z2SOtGBs69MNwYB0RRFpBFyY","AIzaSyD_1gP5VIGyntDQBbx0ZtGVmJqkgHedni4","AIzaSyDTRKHmNzKRMT_eEmzGML-aPe34fOmBY3E"];let Kl=0;const ar={},KC=3,Hv=6e4,lc={};function GC(){const t=Date.now();let e=0;for(;e<Ur.length;){const n=Kl;if(Kl=(Kl+1)%Ur.length,lc[n]&&t<lc[n]){e++;continue}if((ar[n]||0)<KC)return Ur[n];e++}return Ur[Kl]}function Vv(t){const e=Ur.indexOf(t);e!==-1&&(ar[e]=(ar[e]||0)+1,ar[e]>=KC&&(lc[e]=Date.now()+Hv,setTimeout(()=>{ar[e]=0,delete lc[e]},Hv)))}function pL(t){const e=Ur.indexOf(t);e!==-1&&ar[e]&&(ar[e]=Math.max(0,ar[e]-1))}function mL(){return[...Ur]}const qs=new Map,gL=36e5;async function vL(t,e=3){const n=mL();let r=null;for(let i=0;i<Math.min(e,n.length);i++){const s=GC(),o=t.includes("?")?`${t}&key=${s}`:`${t}?key=${s}`;try{const l=await fetch(o);if(l.ok)return pL(s),l;if(l.status===403||l.status===429){Vv(s);continue}return l}catch(l){r=l instanceof Error?l:new Error(String(l)),Vv(s)}}throw r||new Error("All API keys failed")}async function yL(t){try{const e=`https://www.googleapis.com/drive/v3/files?q='${t}'+in+parents+and+(mimeType+contains+'audio'+or+mimeType+contains+'video')&pageSize=1000&fields=files(id,name,mimeType,size,modifiedTime,webContentLink,thumbnailLink,videoMediaMetadata)`,n=await vL(e);if(!n.ok){const s=await n.text();throw console.error("Google Drive API error:",s),new Error("Failed to fetch songs from Google Drive")}return{songs:(await n.json()).files.map(s=>{var l;let o=null;if((l=s.videoMediaMetadata)!=null&&l.durationMillis){const a=Math.floor(parseInt(s.videoMediaMetadata.durationMillis)/1e3),c=Math.floor(a/60),d=a%60;o=`${c}:${d.toString().padStart(2,"0")}`}return{id:s.id,title:s.name.replace(/\.[^/.]+$/,""),duration:o,fileUrl:s.webContentLink,mimeType:s.mimeType,albumArt:s.thumbnailLink}})}}catch(e){throw console.error("Error fetching songs:",e),e}}function ed(t){const e=Date.now(),n=qs.get(t);if(n&&e-n.timestamp<gL)return n.url;const r=GC(),i=`https://www.googleapis.com/drive/v3/files/${t}?alt=media&key=${r}`;if(qs.set(t,{url:i,timestamp:e}),qs.size>100){const s=qs.keys().next().value;s&&qs.delete(s)}return i}function _L(t,e,n){const[r,i]=h.useState(null),[s,o]=h.useState(!1),[l,a]=h.useState(0),[c,d]=h.useState(0),[u,f]=h.useState(!1),[p,w]=h.useState("off"),[m,x]=h.useState(0),[y,v]=h.useState(!1),[_,C]=h.useState(0),S=h.useRef(null),b=h.useRef(null),T=h.useRef(0),k=h.useRef(0),I=h.useRef(!1),R=h.useRef(n),O=h.useRef(r),M=h.useRef(p),Q=h.useRef(u),D=h.useRef(s),Y=h.useRef({}),{toast:$}=bc();h.useEffect(()=>{R.current=n},[n]),h.useEffect(()=>{O.current=r},[r]),h.useEffect(()=>{M.current=p},[p]),h.useEffect(()=>{Q.current=u},[u]),h.useEffect(()=>{D.current=s},[s]);const B=h.useCallback((U={})=>{var W;!S.current||t!=="host"||S.current.updatePlaybackState({songId:O.current,isPlaying:D.current,currentTime:((W=b.current)==null?void 0:W.currentTime)||0,timestamp:Date.now(),isShuffled:Q.current,repeatMode:M.current,...U})},[t]);h.useEffect(()=>{if(!t||!e)return;const U=new B2(e,t==="host");S.current=U;const W=new Audio;W.preload="metadata",b.current=W;const Zt=()=>{if(a(W.currentTime),d(W.duration||0),t==="host"&&!I.current){const Z=Date.now();Z-T.current>1e3&&(B({currentTime:W.currentTime}),T.current=Z)}},jn=async()=>{if(t!=="host"||!O.current)return;const Z=R.current.findIndex(Ve=>Ve.id===O.current);if(M.current==="one"){W.currentTime=0,W.play().catch(console.error),B({currentTime:0});return}if(Z<R.current.length-1){const Ve=R.current[Z+1];await zn(Ve.id,0,!0)}else if(M.current==="all"){const Ve=R.current[0];await zn(Ve.id,0,!0)}else o(!1),D.current=!1,B({isPlaying:!1})},ot=async()=>{if(W.src&&O.current){console.error("Audio error:",W.error);const Z=Y.current[O.current]||0;if(Z<3){Y.current[O.current]=Z+1;const Ve=ed(O.current);W.src=Ve,W.load()}else $({title:"Playback Error",description:"Failed to play audio. Please try another song.",variant:"destructive"})}};W.addEventListener("timeupdate",Zt),W.addEventListener("ended",jn),W.addEventListener("error",ot);const zn=async(Z,Ve=0,Ms=!1)=>{if(!(!R.current.find(Bn=>Bn.id===Z)||!W)){i(Z),O.current=Z,v(!0),Y.current[Z]=0;for(let Bn=0;Bn<3;Bn++)try{const Xc=ed(Z);W.src=Xc,W.load(),await new Promise((Zc,YC)=>{W.addEventListener("canplay",Zc,{once:!0}),W.addEventListener("error",YC,{once:!0})}),W.currentTime=Ve,d(W.duration||0),Ms&&t==="host"&&(await W.play(),o(!0),D.current=!0,B({songId:Z,isPlaying:!0,currentTime:Ve}));return}catch(Xc){console.error(`Error loading song (attempt ${Bn+1}):`,Xc),Bn<2&&await new Promise(Zc=>setTimeout(Zc,500))}$({title:"Load Error",description:"Failed to load song.",variant:"destructive"}),v(!1)}};let Lt=null,pi=null;return(async()=>{try{if(t==="host")await U.initializeRoom({songId:null,isPlaying:!1,currentTime:0,timestamp:Date.now(),isShuffled:!1,repeatMode:"off",latencyOffset:500});else{if(!await U.checkRoomExists()){$({title:"Room Not Found",description:"The room code you entered does not exist.",variant:"destructive"});return}await U.incrementDeviceCount()}Lt=U.subscribeToPlaybackState(async Z=>{I.current=!0,C(Z.latencyOffset||0);const Ve=t==="join"?Z.currentTime+(Z.latencyOffset||0)/1e3:Z.currentTime;if(Z.songId!==O.current&&(Z.songId?await zn(Z.songId,Ve):(i(null),O.current=null)),t==="join"){if(o(Z.isPlaying),f(Z.isShuffled),w(Z.repeatMode),W){const Ms=Math.abs(W.currentTime-Ve),$n=Date.now(),Bn=$n-k.current;Ms>.4&&Bn>300&&W.readyState>=2&&(W.currentTime=Ve,k.current=$n),Z.isPlaying&&W.paused?W.play().catch(console.error):!Z.isPlaying&&!W.paused&&W.pause()}}else t==="host"&&(f(Z.isShuffled),w(Z.repeatMode));setTimeout(()=>{I.current=!1},100)}),pi=setInterval(async()=>{const Z=await U.getConnectedDevices();x(Z)},5e3)}catch(Z){console.error("Sync initialization error:",Z),$(t==="host"?{title:"Failed to Create Room",description:"Could not initialize the room. Please check your internet connection and try again.",variant:"destructive"}:{title:"Connection Error",description:"Failed to connect to sync service.",variant:"destructive"})}})(),()=>{W.removeEventListener("timeupdate",Zt),W.removeEventListener("ended",jn),W.removeEventListener("error",ot),Lt&&Lt(),pi&&clearInterval(pi),t==="join"&&U.decrementDeviceCount(),W.pause(),W.src=""}},[t,e,$]);const N=h.useCallback(async(U,W=0,Zt=!1)=>{const jn=R.current.find(ot=>ot.id===U);if(!(!jn||!b.current)){i(U),O.current=U,v(!0);try{let ot=jn.streamUrl;ot||(ot=ed(U)),ot&&b.current&&(b.current.src=ot,b.current.load(),await new Promise((zn,Lt)=>{b.current.addEventListener("canplay",zn,{once:!0}),b.current.addEventListener("error",Lt,{once:!0})}),b.current.currentTime=W,d(b.current.duration||0),Zt&&t==="host"&&(await b.current.play(),o(!0),D.current=!0,B({songId:U,isPlaying:!0,currentTime:W})))}catch(ot){console.error("Error loading song:",ot),$({title:"Load Error",description:"Failed to load song.",variant:"destructive"})}finally{v(!1)}}},[$,t,B]),L=h.useCallback(()=>{if(t!=="host"||!b.current)return;const U=!D.current;o(U),D.current=U,U?b.current.play().catch(console.error):b.current.pause(),B({isPlaying:U})},[t,B]),z=h.useCallback(U=>{t!=="host"||!b.current||(b.current.currentTime=U,a(U),B({currentTime:U}))},[t,B]),K=h.useCallback(async U=>{t==="host"&&await N(U,0,!0)},[t,N]),ce=h.useCallback(()=>{if(t!=="host"||!r)return;const U=R.current.findIndex(W=>W.id===r);U>0&&K(R.current[U-1].id)},[t,r,K]),pt=h.useCallback(()=>{if(t!=="host"||!r)return;const U=R.current.findIndex(W=>W.id===r);if(p==="one"){z(0);return}U<R.current.length-1?K(R.current[U+1].id):p==="all"?K(R.current[0].id):(o(!1),D.current=!1,B({isPlaying:!1}))},[t,r,p,K,z,B]),st=h.useCallback(()=>{if(t!=="host")return;const U=!u;f(U),B({isShuffled:U})},[t,u,B]),Dr=h.useCallback(()=>{if(t!=="host")return;const U=["off","all","one"],W=U.indexOf(p),Zt=U[(W+1)%U.length];w(Zt),B({repeatMode:Zt})},[t,p,B]),Mt=h.useCallback(U=>{t!=="host"||!S.current||(C(U),S.current.updateLatencyOffset(U))},[t]);return{currentSongId:r,isPlaying:s,currentTime:l,duration:c,isShuffled:u,repeatMode:p,connectedDevices:m,isLoading:y,latencyOffset:_,handlePlayPause:L,handleSeek:z,handleSongSelect:K,handlePrevious:ce,handleNext:pt,handleShuffle:st,handleRepeat:Dr,handleLatencyOffsetChange:Mt}}const Qv="1vCJWwG8rUB9Fod5-QLWbm6cOOE0syrBF";function wL(){const[t,e]=h.useState(null),[n,r]=h.useState(),[i,s]=h.useState("library"),{toast:o}=bc(),{data:l,isLoading:a}=AT({queryKey:["drive-songs",Qv],queryFn:()=>yL(Qv),enabled:t!==null}),c=(l==null?void 0:l.songs)||[],{currentSongId:d,isPlaying:u,currentTime:f,duration:p,isShuffled:w,repeatMode:m,connectedDevices:x,isLoading:y,latencyOffset:v,handlePlayPause:_,handleSeek:C,handleSongSelect:S,handlePrevious:b,handleNext:T,handleShuffle:k,handleRepeat:I,handleLatencyOffsetChange:R}=_L(t,n,c),O=(D,Y)=>{if(e(D),D==="host"){const $=Math.random().toString(36).substring(2,8).toUpperCase();r($),o({title:"Session Created",description:`Room code: ${$}`})}else r(Y)},M=D=>{t==="host"&&(S(D),s("player"))};if(!t)return g.jsx(aP,{onSelectMode:O});if(a)return g.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),g.jsx("p",{className:"text-inactive",children:"Loading music library..."})]})});const Q=c.find(D=>D.id===d);return i==="player"?g.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[g.jsx("div",{className:"flex-1 overflow-hidden",children:g.jsx(MP,{song:Q,isPlaying:u,isShuffled:w,repeatMode:m,currentTime:f,duration:p,connectionMode:t,roomCode:n,connectedDevices:t==="host"?x:void 0,latencyOffset:v,onPlayPause:_,onPrevious:b,onNext:T,onShuffle:k,onRepeat:I,onSeek:C,onLatencyOffsetChange:R})}),g.jsx(Bg,{currentTab:i,onTabChange:s})]}):g.jsxs("div",{className:"h-screen bg-background",children:[i==="library"&&g.jsx(cP,{songs:c,currentSongId:d||void 0,onSongSelect:M}),i==="connections"&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Connections"}),g.jsx("p",{className:"text-inactive mb-4",children:t==="host"?`${x} device${x!==1?"s":""} connected`:"Connected to host session"}),t==="host"&&n&&g.jsxs("div",{className:"mt-4 p-4 bg-card rounded-lg",children:[g.jsx("p",{className:"text-sm text-inactive mb-2",children:"Room Code"}),g.jsx("p",{className:"text-3xl font-bold font-mono text-primary",children:n})]})]}),i==="settings"&&g.jsx(hL,{mode:t,roomCode:n,songsCount:c.length,latencyOffset:v,onLatencyOffsetChange:R}),g.jsx(Bg,{currentTab:i,onTabChange:s})]})}function xL(){return g.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:g.jsx(xn,{className:"w-full max-w-md mx-4",children:g.jsxs(t1,{className:"pt-6",children:[g.jsxs("div",{className:"flex mb-4 gap-2",children:[g.jsx(Ak,{className:"h-8 w-8 text-red-500"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),g.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function CL(){return g.jsxs(Zb,{children:[g.jsx(ug,{path:"/",component:wL}),g.jsx(ug,{component:xL})]})}function EL(){return g.jsx(_T,{client:MT,children:g.jsxs(tP,{children:[g.jsx(NN,{}),g.jsx(CL,{})]})})}gw(document.getElementById("root")).render(g.jsx(EL,{}));
